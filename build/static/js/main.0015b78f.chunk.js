(this["webpackJsonpbirthday-reminder-app"]=this["webpackJsonpbirthday-reminder-app"]||[]).push([[0],Array(18).concat([function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(10),c=n.n(r),s=n(4),o=n.n(s),i=n(5),u=n(2),l=n(1),p=(n(18),n(19),Object(l.createContext)(null)),d=n(11);function b(e,t){return j.apply(this,arguments)}function j(){return(j=Object(i.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,e.prev=1,e.next=4,Object(d.a)(t,n,{upgrade:function(e,t,n,a){e.createObjectStore("people",{keyPath:"id"}),e.createObjectStore("favourites",{keyPath:"id"})}});case 4:a=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return");case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function f(e,t,n){return O.apply(this,arguments)}function O(){return(O=Object(i.a)(o.a.mark((function e(t,n,a){var r,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,e.prev=1,e.next=4,b(t,n);case 4:r=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:return c=r.transaction(a,"readwrite"),s=c.objectStore(a),e.abrupt("return",s);case 13:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function h(e,t,n,a){return v.apply(this,arguments)}function v(){return(v=Object(i.a)(o.a.mark((function e(t,n,a,r){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f(n,a,r);case 3:return c=e.sent,e.next=6,c.put(t);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function m(e,t,n){return x.apply(this,arguments)}function x(){return(x=Object(i.a)(o.a.mark((function e(t,n,a){var r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f(t,n,a);case 3:return r=e.sent,e.next=6,r.getAll();case 6:return c=e.sent,e.abrupt("return",c);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function _(e,t,n,a){return y.apply(this,arguments)}function y(){return(y=Object(i.a)(o.a.mark((function e(t,n,a,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f(t,n,a);case 3:e.sent.delete(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var g=function(e,t,n,a){n({type:a?"FILTER_FAVOURITES_BY_NAME":"FILTER_PEOPLE_BY_NAME",payload:e.filter((function(e){var n=e.name.toLowerCase();return t=t.toLowerCase(),n.includes(t)}))})};var I=function(e){var t=e.setShowSearchBox,n=Object(l.useContext)(p),r=n.dispatch,c=n.favState,s=Object(u.a)(c,1)[0],d=Object(l.useRef)(null),b=function(){var e=Object(i.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.current.value,n=null,!s){e.next=8;break}return e.next=5,m("userDatabase","1","favourites");case 5:n=e.sent,e.next=11;break;case 8:return e.next=10,m("userDatabase","1","people");case 10:n=e.sent;case 11:n?g(n,t,r,s):console.log("Data could not found!");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(i.a)(o.a.mark((function e(){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t(!1),n=null,a="",!s){e.next=9;break}return e.next=6,m("userDatabase","1","favourites");case 6:n=e.sent,e.next=12;break;case 9:return e.next=11,m("userDatabase","1","people");case 11:n=e.sent;case 12:n?g(n,a,r,s):console.log("Data could not found!");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"search-box",children:[Object(a.jsx)("input",{className:"search-box__search-input",type:"search",placeholder:"Search by name",onChange:b,ref:d}),Object(a.jsx)("button",{className:"search-box__close-btn",onClick:j,children:Object(a.jsx)("i",{className:"far fa-times-circle"})})]})};var N=function(){var e=Object(l.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(a.jsx)("header",{className:"app-head",children:Object(a.jsx)("nav",{className:"app-head-nav",children:n&&Object(a.jsx)(I,{setShowSearchBox:r})||Object(a.jsx)("button",{className:"app-head-nav__search-btn",onClick:function(){return r(!n)},children:Object(a.jsx)("i",{className:"fas fa-search"})})})})};n(20);var P=function(e){if(e instanceof File||e instanceof Blob)return URL.createObjectURL(e);if("string"===typeof e&&(e.includes(".png")||e.includes(".jpeg")||e.includes(".jpg")))return e;throw Error("Input must be a File, String (includes .png, .jpeg or .jpg), or Blob object.")},E=n(6);n(21);var D=function(e,t){return e.find((function(e){return e.id===t}))};var C=function(e){var t=e.currentPersonID,n=e.setCurrentPersonID,r=Object(l.useContext)(p),c=r.state,s=r.dispatch,o=r.backgroundState,i=r.showEditPersonUIState,d=D(c.people,t),b=Object(u.a)(o,2)[1],j=Object(u.a)(i,2)[1],f=function(){return c.favourites.some((function(e){return e.id===t}))},O=function(){s({type:"ADD_FAVOURITE",payload:[].concat(Object(E.a)(c.favourites),[d])}),h(d,"userDatabase","1","favourites"),n(null)},v=function(){var e=c.favourites.filter((function(e){return e.id!==t}));s({type:"REMOVE_FAVOURITE",payload:e}),_("userDatabase","1","favourites",t),n(null)};return Object(a.jsxs)("div",{className:"person-options-container",children:[Object(a.jsxs)("p",{className:"person-options-container__name",children:["Person: ",d.name]}),Object(a.jsxs)("ul",{className:"person-options-list",children:[Object(a.jsx)("li",{className:"person-options-list__item",children:Object(a.jsx)("button",{className:"person-options-list__btn",onClick:function(e){return function(e){return e.stopPropagation(),b(!1),f()?v:O}(e)()},children:f()?"Remove from favourites":"Add to favourites"})}),Object(a.jsx)("hr",{className:"person-options-list__line"}),Object(a.jsx)("li",{className:"person-options-list__item",children:Object(a.jsx)("button",{className:"person-options-list__btn",onClick:function(e){return function(e){e.stopPropagation(),j(!0),setTimeout((function(){return n(null)}),0)}(e)},children:"Edit"})})]})]})};var S=function(e){var t=e.person,n=e.removeItemHandler,r=e.currentPersonID,c=e.setCurrentPersonID,s=e.selectPersonHandler,o=t.id,i=t.name,u=t.birthday,l=t.picture,p=r===o?"person person--highlighted":"person";return Object(a.jsxs)("div",{className:p,onClick:function(){return s(o)},children:[r===o&&Object(a.jsx)(C,{currentPersonID:r,setCurrentPersonID:c}),Object(a.jsx)("div",{className:"person-img-container",children:Object(a.jsx)("img",{className:"person-img-container__img",src:function(){var e=null;try{e="string"!==typeof l?P(l):l}catch(t){console.log(t)}return e}(),alt:i})}),Object(a.jsxs)("div",{className:"person-info",children:[Object(a.jsx)("p",{className:"person-info__name",children:i}),Object(a.jsx)("p",{className:"person-info__birthday",children:u})]}),Object(a.jsx)("div",{className:"person-controls",children:Object(a.jsx)("button",{className:"person-controls__remove-btn",onClick:function(e){n(e,o)},children:Object(a.jsx)("i",{className:"fas fa-trash"})})})]})};n(22);var w=function(){return Object(a.jsx)("div",{className:"empty-box",children:Object(a.jsx)("button",{className:"empty-box__add-btn",children:Object(a.jsx)("i",{className:"fa fa-plus empty-box__add-icon","aria-hidden":"true"})})})};n(23),n(24);var k=function(e){var t=e.setShowDeletePersonDialog,n=e.removeItem,r=e.deletionUserID,c=function(e){"Yes"===e.target.textContent&&n(r),t(!1)};return Object(a.jsxs)("div",{className:"delete-person-dialog",children:[Object(a.jsx)("p",{className:"delete-person-dialog__text",children:"Are you really want to delete this person?"}),Object(a.jsxs)("div",{className:"delete-person-dialog-controls",children:[Object(a.jsx)("button",{className:"delete-person-dialog-controls__btn",onClick:c,children:"Yes"}),Object(a.jsx)("button",{className:"delete-person-dialog-controls__btn delete-person-dialog-controls__btn--no-margin",onClick:c,children:"No"})]})]})};var A=function(e,t){var n=t.filter((function(t){return t.id!==e}));return _("userDatabase","1","favourites",e),n};n(25);var L=function(e){var t=e.nameContainer,n=e.dateContainer,r=e.name,c=e.birthday,s=null;return c&&(s=c.split(".").reverse().join("-")),Object(a.jsxs)("div",{className:"add-person-ui-info-container",children:[Object(a.jsx)("input",{type:"text",className:"add-person-ui-info-container__name",ref:t,maxLength:"15",placeholder:"Name",defaultValue:r||""}),Object(a.jsx)("input",{type:"date",className:"add-person-ui-info-container__birthday",ref:n,defaultValue:s||""})]})};n(26);var M=function(e){var t=e.handleAcceptClick;return Object(a.jsx)("div",{className:"edit-person-ui-controls",children:Object(a.jsx)("button",{className:"edit-person-ui-controls__accept-btn",onClick:function(e){return t(e)},children:Object(a.jsx)("i",{className:"fas fa-check-circle edit-person-ui-controls__icon","aria-hidden":!0})})})},T=function(e){try{if("string"===typeof e)return!0;var t=e.type;return"image/jpeg"===t||"image/png"===t}catch(n){return console.log(n),!1}};n(27);var U=function(e){var t=e.setDidUserUploadPicture,n=e.setCurrentPicture,r=Object(l.useContext)(p).dispatch;return Object(a.jsxs)("div",{className:"picture-input-container",children:[Object(a.jsx)("label",{htmlFor:"picture",className:"picture-input-container__label",children:Object(a.jsx)("i",{className:"fas fa-camera picture-input-container__icon","aria-hidden":!0})}),Object(a.jsx)("input",{id:"picture",type:"file",className:"picture-input-container__picture",accept:"image/png, image/jpeg",onChange:function(e){var a=e.target.files[0];T(a)?(t(!0),n(a)):r({type:"INVALID_FILE_TYPE"})},hidden:!0})]})},R=(n(28),function(e){return e.split("-").reverse().join(".")}),F=n.p+"static/media/no-picture.2fda6558.png";n(29);var V=function(e){var t=e.createFileURL,n=e.currentPicture,r=e.nameContainer;return Object(a.jsx)("div",{className:"person-img-container",children:Object(a.jsx)("img",{className:"person-img-container__img",src:t(n),alt:r.current.value})})};var B=function(e){var t=e.currentPersonID,n=(e.setCurrentPersonID,e.setShowEditPersonUI),r=e.setShowBackground,c=t,s=Object(l.useRef)(null),o=Object(l.useRef)(null),i=Object(l.useContext)(p),d=i.state,b=i.dispatch,j=Object(l.useState)(c),f=Object(u.a)(j,1)[0],O=Object(l.useState)(null),v=Object(u.a)(O,2),m=v[0],x=v[1],_=Object(l.useState)(!1),y=Object(u.a)(_,2),g=y[0],I=y[1],N=D(d.people,f),C=function(e){if(D(d.favourites,f)){var t=d.favourites.filter((function(e){return e.id!==f}));return[].concat(Object(E.a)(t),[e])}},S=function(e,t,n){return{id:f,name:e,birthday:t,picture:n}};return Object(a.jsxs)("div",{className:"edit-person-ui",children:[g?Object(a.jsx)(V,{createFileURL:P,currentPicture:m,nameContainer:s}):Object(a.jsx)(U,{setDidUserUploadPicture:I,setCurrentPicture:x}),Object(a.jsx)(L,{name:N.name,birthday:N.birthday,currentPersonID:t,nameContainer:s,dateContainer:o}),Object(a.jsx)(M,{handleAcceptClick:function(e){e.stopPropagation();var t=s.current.value,a=o.current.value,c=R(a),i=S(t,c,m||F),u=d.people.filter((function(e){return e.id!==f})),l=[].concat(Object(E.a)(u),[i]),p=C(i);h(i,"userDatabase","1","people"),h(i,"userDatabase","1","favourites"),b({type:"EDIT_PERSON",payload:{people:l,favourites:p||d.favourites}}),r(!1),n(!1)}})]})};var Y=function(e){var t=e.currentPersonID,n=e.setCurrentPersonID,r=e.showUI,c=Object(l.useContext)(p),s=c.state,o=c.dispatch,i=c.favState,d=c.backgroundState,b=c.showEditPersonUIState,j=Object(u.a)(i,1)[0],f=Object(l.useState)(!1),O=Object(u.a)(f,2),h=O[0],v=O[1],m=Object(u.a)(b,2),x=m[0],y=m[1],g=Object(l.useState)(null),I=Object(u.a)(g,2),N=I[0],P=I[1],E=Object(u.a)(d,2)[1],D=j?s.favourites:s.people,C=function(e,t){e.stopPropagation(),v(!0),P(t)},L=function(e){E(!0),t!==e&&r&&n(e)};return Object(a.jsxs)(a.Fragment,{children:[h&&Object(a.jsx)(k,{setShowDeletePersonDialog:v,removeItem:function(e){var t=s.people,n=A(e,s.favourites),a=t.filter((function(t){return t.id!==e}));_("userDatabase","1","people",e),o({type:"REMOVE_ITEM",payload:{people:a,favourites:n}})},deletionUserID:N}),Object(a.jsxs)("ul",{className:"person-list",children:[D.map((function(e){return Object(a.jsx)(S,{person:e,removeItemHandler:C,currentPersonID:t,setCurrentPersonID:n,selectPersonHandler:L},e.id)})),Object(a.jsx)(w,{})]}),x&&Object(a.jsx)(B,{currentPersonID:t,setCurrentPersonID:n,setShowEditPersonUI:y,setShowBackground:E})]})};n(30);var H=function(e){var t=e.showUI,n=e.setShowUI,r=e.currentPersonID,c=e.setCurrentPersonID;return Object(a.jsx)("main",{className:"home-main",children:Object(a.jsx)(Y,{currentPersonID:r,setCurrentPersonID:c,showUI:t,setShowUI:n})})},G=(n(31),function(e,t,n){return e.length<=0?"INVALID_NAME":10!==t.length?"INVALID_DATE":!!T(n)||"INVALID_FILE_TYPE"});n(32);var J=function(e){var t=e.addPersonHandler;return Object(a.jsx)("div",{className:"add-person-ui-controls",children:Object(a.jsx)("button",{className:"add-person-ui-controls__add-btn",onClick:function(){t()},children:Object(a.jsx)("i",{className:"fa fa-plus-circle add-person-ui-controls__icon","aria-hidden":"true"})})})};var q=function(e){var t=e.showAddPersonUIHandler,n=Object(l.useContext)(p),r=n.state,c=n.dispatch,s=Object(l.useState)(!1),o=Object(u.a)(s,2),i=o[0],d=o[1],b=Object(l.useState)(null),j=Object(u.a)(b,2),f=j[0],O=j[1],v=Object(l.useRef)(null),m=Object(l.useRef)(null),x=function(e,t,n){e=e.charAt(0).toUpperCase()+e.slice(1);var a=R(t),s=_(e,a,n);c({type:"ADD_ITEM",payload:[].concat(Object(E.a)(r.people),[s])}),h(s,"userDatabase","1","people")},_=function(e,t,n){return{id:(new Date).getTime().toString(),name:e,birthday:t,picture:n}};return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"add-person-ui",children:[i?Object(a.jsx)(V,{createFileURL:P,currentPicture:f,nameContainer:v}):Object(a.jsx)(U,{setDidUserUploadPicture:d,currentPicture:f,setCurrentPicture:O}),Object(a.jsx)(L,{nameContainer:v,dateContainer:m}),Object(a.jsx)(J,{addPersonHandler:function(){var e=v.current.value,n=m.current.value,a=f||F,r=G(e,n,a);switch(r){case"INVALID_NAME":case"INVALID_DATE":case"INVALID_FILE_TYPE":c({type:r});break;default:x(e,n,a),t()}}})]})})};n(33),n(34);var z=function(){var e=Object(l.useContext)(p),t=e.state,n=e.dispatch;return Object(l.useEffect)((function(){setTimeout((function(){n({type:"REMOVE_MODAL"})}),2e3)})),Object(a.jsx)("p",{className:"modal",children:t.modalContent})};n(35);var K=function(){var e=Object(l.useContext)(p),t=e.state,n=e.dispatch,r=Object(l.useRef)(null),c=function(){var e=r.current.value;"sort_by_age"===e?function(e,t){var n=e.people.sort((function(e,t){var n=e.birthday.split("."),a=Object(u.a)(n,3),r=a[0],c=a[1],s=a[2],o=t.birthday.split("."),i=Object(u.a)(o,3),l=i[0],p=i[1],d=i[2];return new Date(s,c,r).getTime()-new Date(d,p,l).getTime()}));t({type:"SORT_PEOPLE_BY_AGE",payload:n})}(t,n):"sort_by_month"===e?function(e,t){var n=e.people.sort((function(e,t){var n=e.birthday.split("."),a=Object(u.a)(n,2),r=a[0],c=a[1],s=t.birthday.split("."),o=Object(u.a)(s,2);return+r+10*+c-(+o[0]+10*+o[1])}));t({type:"SORT_PEOPLE_BY_MONTH",payload:n})}(t,n):"sort_by_name"===e&&function(e,t){var n=e.people.sort((function(e,t){var n=Object(u.a)(e.name,1)[0],a=Object(u.a)(t.name,1)[0];return n.charCodeAt(0)-a.charCodeAt(0)}));t({type:"SORT_PEOPLE_BY_NAME",payload:n})}(t,n)};return Object(a.jsxs)("select",{onChange:function(){return c()},className:"sorting-input",ref:r,children:[Object(a.jsx)("option",{className:"sorting-input__option",value:"sort_by_age",children:"Sort by age"}),Object(a.jsx)("option",{className:"sorting-input__option",value:"sort_by_month",children:"Sort by month"}),Object(a.jsx)("option",{className:"sorting-input__option",value:"sort_by_name",children:"Sort by name"})]})};var Q=function(){var e=Object(l.useContext)(p),t=e.state,n=e.favState,r=e.showAddPersonUIState,c=e.backgroundState,s=Object(u.a)(r,2),o=s[0],i=s[1],d=Object(l.useState)(!1),b=Object(u.a)(d,2),j=b[0],f=b[1],O=Object(u.a)(n,2),h=O[0],v=O[1],m=Object(u.a)(c,2),x=m[0],_=m[1],y=function(){_(!x),i(!o)};return Object(a.jsxs)(a.Fragment,{children:[t.isModalOpen&&Object(a.jsx)(z,{}),Object(a.jsxs)("nav",{className:"mobile-nav",children:[Object(a.jsx)("button",{className:"mobile-nav__add-btn mobile-nav__add-btn--side",onClick:function(){return f(!j)},children:Object(a.jsx)("i",{className:"fas fa-sort-amount-down"})}),Object(a.jsx)("button",{className:"mobile-nav__add-btn",onClick:y,children:Object(a.jsx)("i",{className:"fas fa-plus"})}),Object(a.jsx)("button",{className:"mobile-nav__add-btn mobile-nav__add-btn--side",onClick:function(){return v(!h)},children:Object(a.jsx)("i",{className:"fas fa-star"})})]}),o&&Object(a.jsx)(q,{showAddPersonUIHandler:y}),j&&Object(a.jsx)(K,{setShowSortingInput:function(){return f(!j)}})]})},W=n(3),X=function(e,t){switch(t.type){case"ADD_ITEM":return Object(W.a)(Object(W.a)({},e),{},{people:t.payload,isModalOpen:!0,modalContent:"Person is added."});case"REMOVE_ITEM":var n=t.payload.people,a=t.payload.favourites;return Object(W.a)(Object(W.a)({},e),{},{people:n,favourites:a,isModalOpen:!0,modalContent:"Person is removed."});case"REMOVE_MODAL":return Object(W.a)(Object(W.a)({},e),{},{isModalOpen:!1,modalContent:""});case"INVALID_NAME":return Object(W.a)(Object(W.a)({},e),{},{isModalOpen:!0,modalContent:"Name input should includes at least one character."});case"INVALID_DATE":return Object(W.a)(Object(W.a)({},e),{},{isModalOpen:!0,modalContent:"Please provide correct date format."});case"SORT_PEOPLE_BY_AGE":case"SORT_PEOPLE_BY_MONTH":case"SORT_PEOPLE_BY_NAME":return Object(W.a)(Object(W.a)({},e),{},{isModalOpen:!1,modalContent:""});case"FILTER_PEOPLE_BY_NAME":return Object(W.a)(Object(W.a)({},e),{},{people:t.payload,isModalOpen:!1,modalContent:""});case"FILTER_FAVOURITES_BY_NAME":return Object(W.a)(Object(W.a)({},e),{},{favourites:t.payload,isModalOpen:!1,modalContent:""});case"INITIAL_LOAD":return Object(W.a)(Object(W.a)({},e),{},{people:t.payload.people,favourites:t.payload.favourites,isModalOpen:!1,modalContent:""});case"INVALID_FILE_TYPE":return Object(W.a)(Object(W.a)({},e),{},{isModalOpen:!0,modalContent:'Invalid file type. Please provide ".jpeg", or ".png" file for the picture.'});case"ADD_FAVOURITE":var r=t.payload[t.payload.length-1].name;return Object(W.a)(Object(W.a)({},e),{},{isModalOpen:!0,modalContent:"".concat(r," has been added to your favorites."),favourites:t.payload});case"REMOVE_FAVOURITE":var c=t.payload.length&&t.payload[t.payload.length-1].name,s=c?"".concat(c," has been removed from your favorites."):"Favourites have been cleared.";return Object(W.a)(Object(W.a)({},e),{},{isModalOpen:!0,modalContent:s,favourites:t.payload});case"EDIT_PERSON":var o=t.payload.favourites,i=o[o.length-1].name;return Object(W.a)(Object(W.a)({},e),{},{isModalOpen:!0,modalContent:"".concat(i,"'s information has been changed."),people:t.payload.people,favourites:o})}};function Z(){return(Z=Object(i.a)(o.a.mark((function e(t,n,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m(t,n,a);case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var $=function(e,t,n){return Z.apply(this,arguments)};function ee(){return(ee=Object(i.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("userDatabase","1","people");case 2:return t=e.sent,e.next=5,$("userDatabase","1","favourites");case 5:return n=e.sent,a={people:t,isModalOpen:!1,modalContext:"",favourites:n},e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var te=function(){return ee.apply(this,arguments)};n(36);var ne=function(e){var t=Object(l.useContext)(p),n=t.showAddPersonUIState,r=t.showEditPersonUIState,c=Object(u.a)(n,2),s=c[0],o=c[1],i=Object(u.a)(r,2),d=i[0],b=i[1],j=e.showBackground,f=e.setShowBackground,O=e.currentPersonID,h=e.setCurrentPersonID;Object(l.useEffect)((function(){document.body.style.overflow=j?"hidden":"initial"}),[j]);var v=j?"dark-background dark-background--visible":"dark-background";return Object(a.jsx)("div",{className:v,onClick:function(e){(O||s||d)&&(e.stopPropagation(),f(!1),b(!1),o(!1),h(null))}})};var ae=function(){var e=Object(l.useReducer)(X,{people:[],isModalOpen:!1,modalContent:"",favourites:[]}),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(l.useState)(!1),s=Object(u.a)(c,2),d=s[0],b=s[1],j=Object(l.useState)(!0),f=Object(u.a)(j,2),O=f[0],h=f[1],v=Object(l.useState)(null),m=Object(u.a)(v,2),x=m[0],_=m[1],y=Object(l.useState)(!1),g=Object(u.a)(y,2),I=g[0],P=g[1],E=Object(l.useState)(!1),D=Object(u.a)(E,2),C=D[0],S=D[1],w=Object(l.useState)(!1),k=Object(u.a)(w,2),A=[C,S],L=[k[0],k[1]],M=[I,P],T=[d,b],U=function(){var e=Object(i.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te();case 2:t=e.sent,n=t.people,a=t.favourites,r({type:"INITIAL_LOAD",payload:{people:n,favourites:a}});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){U()}),[]),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(p.Provider,{value:{state:n,dispatch:r,favState:T,backgroundState:M,showAddPersonUIState:A,showEditPersonUIState:L},children:[Object(a.jsx)(ne,{showBackground:I,setShowBackground:P,currentPersonID:x,setCurrentPersonID:_}),Object(a.jsx)(N,{}),Object(a.jsx)(H,{showUI:O,setShowUI:h,currentPersonID:x,setCurrentPersonID:_}),Object(a.jsx)(Q,{})]})})};n(37);c.a.render(Object(a.jsx)(ae,{}),document.getElementById("root"))}]),[[38,1,2]]]);
//# sourceMappingURL=main.0015b78f.chunk.js.map