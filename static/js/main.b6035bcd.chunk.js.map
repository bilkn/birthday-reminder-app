{"version":3,"sources":["context/AppContext/AppContext.js","context/PeopleListContext/PeopleListContext.js","helper/filterPeopleByName.js","helper/filterFavouritePeople.js","components/SearchBox/SearchBox.js","components/AppHead/AppHead.js","helper/createFileURL.js","helper/findPersonByID.js","utils/IndexedDB/indexedDBValidation.js","utils/IndexedDB/indexedDBManagement.js","components/PersonOptions/PersonOptions.js","helper/getPersonAge.js","components/Person/Person.js","components/EmptyBox/EmptyBox.js","components/DeletePersonDialog/DeletePersonDialog.js","assets/no-picture.png","helper/validatePicture.js","components/PictureInput/PictureInput.js","helper/dateFormatValidations.js","helper/validatePersonData.js","helper/dateValueValidations.js","components/AddPersonUIControls/AddPersonUIControls.js","components/AddPersonUIInfo/AddPersonUIInfo.js","components/PersonImgContainer/PersonImgContainer.js","components/AddPersonUI/AddPersonUI.js","components/EditPersonUIControls/EditPersonUIControls.js","components/EditPersonUI/EditPersonUI.js","components/Notification/Notification.js","helper/reformatDate.js","helper/sortingLogic.js","components/SortingSelectbox/SortingSelectbox.js","components/PersonList/PersonList.js","components/HomeMain/HomeMain.js","helper/handleSorting.js","components/MobileNav/MobileNav.js","components/DarkBackground/DarkBackground.js","providers/PeopleListProvider.js","utils/data.js","utils/defaultState.js","utils/reducer.js","providers/AppProvider.js","components/App/App.js","index.js"],"names":["AppContext","createContext","PeopleListContext","filterPeopleByName","people","name","filter","person","personName","toLowerCase","includes","filterFavouritePeople","inFavourites","SearchBox","setShowSearchBox","useContext","favState","state","setPeopleList","showFavourites","searchInput","useRef","changeHandler","a","current","value","displayPeople","filteredPeople","console","log","closeBtnClickHandler","useEffect","handleKeyDown","e","key","window","addEventListener","removeEventListener","className","type","placeholder","onChange","ref","autoFocus","onClick","AppHead","setShowFavourites","useState","showSearchBox","aria-hidden","createFileURL","file","File","Blob","URL","createObjectURL","Error","findPersonByID","id","find","accesDB","database","version","myDB","openDB","upgrade","oldVersion","newVersion","transaction","createObjectStore","keyPath","getIDBStore","store","tx","myStore","objectStore","putItemToIDB","item","accessedStore","put","getDataFromIDBStore","getAll","data","delete","blobToArrayBuffer","blob","Promise","resolve","reject","reader","FileReader","result","readAsArrayBuffer","PersonOptions","props","currentPersonID","setCurrentPersonID","handleDeletePerson","dispatch","backgroundState","showEditPersonUIState","setShowBackground","setShowEditPersonUI","favText","setFavText","isPersonInFavourites","addToFavoritesHandler","oldPeople","modifiedPerson","payload","removeFromFavouritesHandler","onMouseEnter","matchMedia","matches","target","closest","handleMouseOut","relatedTarget","classList","contains","stopPropagation","setHandlerFunction","setTimeout","editHandler","getPersonAge","regex","birthday","split","test","length","reverse","date","Date","difference","now","getTime","age_dt","Math","abs","getUTCFullYear","Person","selectPersonHandler","picture","optionsBtnStyle","setOptionsBtnStyle","pictureURL","setPictureURL","parentClass","setParentClass","personAge","setPersonAge","tabindex","setTabindex","err","oldState","onKeyPress","tabIndex","height","width","handleMouseLeave","style","src","alt","EmptyBox","toggleAddPersonUIHandlerForLargerScreen","onKeyDown","DeletePersonDialog","setShowDeletePersonDialog","removeItem","deletionUserID","deleteBtnClickHandler","textContent","validatePicture","pictureType","ArrayBuffer","PictureInput","setDidUserUploadPicture","setCurrentPicture","label","focus","htmlFor","click","accept","files","hidden","testDateWithCommonFormat","testDateWithUncommonFormat","validatePersonData","dateValidation","dayValue","slice","dayValidation","monthValue","monthValidation","yearValue","getFullYear","yearValidation","AddPersonUIControls","addPersonHandler","AddPersonUIINfo","nameContainer","dateContainer","maxLength","defaultValue","PersonImgContainer","currentPicture","AddPersonUI","toggleAddPersonUI","didUserUploadPicture","blankImg","validationResult","addPerson","charAt","toUpperCase","newPerson","createNewPerson","toString","EditPersonUIControls","handleAcceptClick","EditPersonUI","defaultState","currentPersonIDForEdit","newName","newBirthday","editedPerson","createEditedPerson","newPeople","Notification","isTimePassed","setIsTimePassed","notificationHandler","notificationContent","reformatDateSeperator","replace","validateAndReformatDate","newPrevBirthday","newCurBirthday","sortingLogic","args","peopleList","nextSort","sortedPeople","sort","prev","cur","prevDay","prevMonth","prevYear","curDay","curMonth","curYear","sortByAge","sortByMonth","prevName","curName","charCodeAt","sortByName","SortingSelectbox","sortingState","sortState","setSortState","formatValue","PersonList","showAddPersonUIState","showAddPersonUI","setShowAddPersonUI","showBackground","showEditPersonUI","showDeletePersonDialog","setDeletionUserID","keyHandler","handleResize","mql","isNotificationOpen","removeDataFromIDBStore","map","HomeMain","setShowUI","handleSorting","MobileNav","DarkBackground","document","body","overflow","PeopleListProvider","React","Provider","getData","notificationContext","reducer","action","AppProvider","useReducer","getInitialData","App","ReactDOM","render","getElementById"],"mappings":"qlBACaA,G,MAAaC,wBAAc,OCCzBC,EADYD,wBAAc,MCQ1BE,MATf,SAA4BC,EAAQC,GAMlC,OALuBD,EAAOE,QAAO,SAACC,GACpC,IAAMC,EAAaD,EAAOF,KAAKI,cAE/B,OADAJ,EAAOA,EAAKI,cACLD,EAAWE,SAASL,OCAhBM,MAJf,SAA+BP,GAC7B,OAAOA,EAAOE,QAAO,SAACC,GAAD,OAAYA,EAAOK,iBC6D3BC,MAvDf,YAA0C,IAArBC,EAAoB,EAApBA,iBAAoB,EACXC,qBAAWf,GAA/BgB,EAD+B,EAC/BA,SAAUC,EADqB,EACrBA,MADqB,EAEbF,qBAAWb,GAA5BgB,EAF8B,oBAGhCC,EAHgC,YAGdH,EAHc,MAIjCI,EAAcC,iBAAO,MAErBC,EAAa,uCAAG,4BAAAC,EAAA,sDACdlB,EAAOe,EAAYI,QAAQC,MACjCC,EAAcrB,GAFM,2CAAH,qDAKbqB,EAAgB,SAACrB,GACrB,IAAID,EAASe,EACTR,EAAsBM,EAAMb,QAC5Ba,EAAMb,OACV,GAAIA,EAAQ,CACV,IAAMuB,EAAiBxB,EAAmBC,EAAQC,GAClDa,EAAcS,QAEdC,QAAQC,IAAI,0BAIVC,EAAoB,uCAAG,sBAAAP,EAAA,sDAChB,GACXT,GAAiB,GACjBY,EAFW,IADgB,2CAAH,qDAe1B,OATAK,qBAAU,WACR,IAAMC,EAAgB,SAACC,GACP,WAAVA,EAAEC,KAAkBJ,KAG1B,OADAK,OAAOC,iBAAiB,UAAWJ,GAC5B,WACLG,OAAOE,oBAAoB,UAAWL,MAEvC,IAED,sBAAKM,UAAU,aAAf,UACE,uBACEA,UAAU,2BACVC,KAAK,SACLC,YAAY,iBACZC,SAAUnB,EACVoB,IAAKtB,EACLuB,WAAS,IAEX,wBAAQL,UAAU,wBAAwBM,QAASd,EAAnD,SACE,mBAAGQ,UAAU,8BCtBNO,MA9Bf,WAAoB,IACV7B,EAAaD,qBAAWf,GAAxBgB,SADS,cAE2BA,EAF3B,GAEVG,EAFU,KAEM2B,EAFN,OAGyBC,oBAAS,GAHlC,mBAGVC,EAHU,KAGKlC,EAHL,KAKjB,OACE,wBAAQwB,UAAU,WAAlB,SAEE,sBAAKA,UAAU,eAAf,UACIU,GACA,cAAC,EAAD,CAAWlC,iBAAkBA,KAE7B,wBACEwB,UAAU,2BACVM,QAAS,kBAAM9B,GAAkBkC,IAFnC,SAIE,mBAAGV,UAAU,uCAGjB,wBACEA,UAAU,wBACVM,QAAS,kBAAOE,GAAmB3B,IAFrC,SAIE,mBAAGmB,UAAU,gCAAgCW,cAAY,iB,YCbpDC,MAdf,SAAuBC,GACrB,GAAIA,aAAgBC,MAAQD,aAAgBE,KAE1C,OADYC,IAAIC,gBAAgBJ,GAE3B,GACW,kBAATA,IACNA,EAAKzC,SAAS,SAAWyC,EAAKzC,SAAS,UAAYyC,EAAKzC,SAAS,SAElE,OAAOyC,EACT,MAAMK,MACJ,iF,oBCNWC,MAJf,SAAwBrD,EAAQsD,GAC9B,OAAOtD,EAAOuD,MAAK,SAACpD,GAAD,OAAYA,EAAOmD,KAAOA,M,iBCAhCE,E,gFAAf,WAAuBC,EAAUC,GAAjC,eAAAvC,EAAA,6DACMwC,EAAO,KADb,kBAGiBC,YAAOH,EAAUC,EAAS,CACrCG,QADqC,SAC7BJ,EAAUK,EAAYC,EAAYC,GACxCP,EAASQ,kBAAkB,SAAU,CAAEC,QAAS,UALxD,OAGIP,EAHJ,8DASInC,QAAQC,IAAR,MATJ,oDAaSkC,GAbT,0D,+BAgBeQ,E,kFAAf,WAA2BV,EAAUC,EAASU,GAA9C,mBAAAjD,EAAA,6DACMwC,EAAO,KADb,kBAGiBH,EAAQC,EAAUC,GAHnC,OAGIC,EAHJ,uDAKInC,QAAQC,IAAR,MALJ,eAOQ4C,EAAKV,EAAKK,YAAYI,EAAO,aAC7BE,EAAUD,EAAGE,YAAYH,GARjC,kBASSE,GATT,0D,+BChBeE,E,oFAAf,WAA4BC,EAAMhB,EAAUC,EAASU,GAArD,eAAAjD,EAAA,+EAEgCgD,EAAYV,EAAUC,EAASU,GAF/D,cAEUM,EAFV,gBAGUA,EAAcC,IAAIF,GAH5B,uDAKIjD,QAAQC,IAAR,MALJ,0D,+BASemD,E,kFAAf,WAAmCnB,EAAUC,EAASU,GAAtD,iBAAAjD,EAAA,+EAEgCgD,EAAYV,EAAUC,EAASU,GAF/D,cAEUM,EAFV,gBAGuBA,EAAcG,SAHrC,cAGUC,EAHV,yBAIWA,GAJX,kCAMItD,QAAQC,IAAR,MANJ,2D,kEAUC,WAAsCgC,EAAUC,EAASU,EAAOtC,GAAhE,SAAAX,EAAA,+EAE+BgD,EAAYV,EAAUC,EAASU,GAF9D,cAGiBW,OAAOjD,GAHxB,gDAMGN,QAAQC,IAAR,MANH,0D,sBAcD,SAASuD,EAAkBC,GACzB,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAS,IAAIC,WACnBD,EAAOrD,iBAAiB,WAAW,SAACH,GAClCsD,EAAQE,EAAOE,WAEjBF,EAAOrD,iBAAiB,QAASoD,GACjCC,EAAOG,kBAAkBP,MC4FdQ,MA/Hf,SAAuBC,GAAQ,IACrBC,EAA4DD,EAA5DC,gBAAiBC,EAA2CF,EAA3CE,mBAAoBC,EAAuBH,EAAvBG,mBADjB,EAOxBlF,qBAAWf,GAJbiB,EAH0B,EAG1BA,MACAiF,EAJ0B,EAI1BA,SACAC,EAL0B,EAK1BA,gBACAC,EAN0B,EAM1BA,sBAEI7F,EAASkD,EAAexC,EAAMb,OAAQ2F,GACnCM,EATmB,YASEF,EATF,MAUnBG,EAVmB,YAUIF,EAVJ,QAWErD,mBAAS,IAXX,mBAWrBwD,EAXqB,KAWZC,EAXY,KAatBC,EAAuB,SAAClG,GAC5B,OAAOA,GAAUA,EAAOK,cAUpB8F,EAAwB,WAC5B,IAAMC,EAAY1F,EAAMb,OAAOE,QAC7B,SAACC,GAAD,OAAYwF,IAAoBxF,EAAOmD,MAEnCkD,EAAc,2BACfrG,GADe,IAElBK,cAAc,IAGhBsF,EAAS,CACP3D,KAAM,gBACNsE,QAAS,CACPzG,OAAO,GAAD,mBAAMuG,GAAN,CAAiBC,IACvBvG,KAAMuG,EAAevG,QAGzBuE,EAAagC,EAAgB,eAAgB,IAAK,UAClDZ,EAAmB,OAGfc,EAA8B,WAClC,IAAMH,EAAY1F,EAAMb,OAAOE,QAC7B,SAACC,GAAD,OAAYA,EAAOmD,KAAOqC,KAEtBa,EAAc,2BACfrG,GADe,IAElBK,cAAc,IAEhBsF,EAAS,CACP3D,KAAM,mBACNsE,QAAS,CACPzG,OAAO,GAAD,mBAAMuG,GAAN,CAAiBC,IACvBvG,KAAMuG,EAAevG,QAGzB2F,EAAmB,OAiCrB,OANAjE,qBAAU,WACR0E,EAAqBlG,GACjBiG,EAAW,0BACXA,EAAW,uBACd,CAACjG,IAGF,sBAAK+B,UAAU,2BAA2ByE,aAvBpB,SAAC9E,GAEvB,GADYE,OAAO6E,WAAW,sBACtBC,QAAS,CACf,IAAMC,EAASjF,EAAEiF,OAAOC,QAAQ,OAShCD,EAAO9E,iBAAiB,cARD,SAAjBgF,EAAkBnF,GACtBoE,GAAkB,GAClB,IAAMgB,EAAgBpF,EAAEoF,cACpBA,IAAkBA,EAAcC,UAAUC,SAAS,0BACrDvB,EAAmB,MACnBkB,EAAO7E,oBAAoB,aAAc+E,SAc/C,UACE,oBAAG9E,UAAU,iCAAb,qBACW/B,GAAUA,EAAOF,QAE5B,qBAAIiC,UAAU,sBAAd,UACE,oBAAIA,UAAU,iEAAd,SACE,wBACEA,UAAU,2BACVM,QAAS,SAACX,GAAD,OAvCQ,SAACA,GAG1B,OAFAA,EAAEuF,kBACFnB,GAAkB,GACXI,EAAqBlG,GACxBuG,EACAJ,EAkCoBe,CAAmBxF,EAAnBwF,IAFlB,SAIGlB,MAGL,oBAAIjE,UAAU,gEAAd,SACE,wBACEA,UAAU,2BACVM,QAAS,SAACX,GAAD,OA5FC,SAACA,GACnBA,EAAEuF,kBACFnB,GAAkB,GAClBC,GAAoB,GACpBoB,YAAW,kBAAM1B,EAAmB,QAAO,GAwFnB2B,CAAY1F,IAF9B,oBAOF,oBAAIK,UAAU,kEAAd,SACE,wBACEA,UAAU,2BACVM,QAAS,SAACX,GAAD,OAAOgE,EAAmBhE,EAAG8D,IAFxC,6BC1GK6B,MAff,SAAsBrH,GACpB,IAAMsH,EAAQ,YACVC,EAAWvH,EAAOuH,SACnBC,MAAMF,GACNvH,QAAO,SAACuE,GAAD,OAAWgD,EAAMG,KAAKnD,MACL,IAAvBiD,EAAS,GAAGG,SACdH,EAAWA,EAASI,WAGtB,IAAMC,EAAO,IAAIC,KAAKN,EAAS,GAAIA,EAAS,GAAIA,EAAS,IACrDO,EAAaD,KAAKE,MAAQH,EAAKI,UAC/BC,EAAS,IAAIJ,KAAKC,GACtB,OAAOI,KAAKC,IAAIF,EAAOG,iBAAmB,OCuG7BC,MA7Gf,SAAgB9C,GAAQ,IAEpBvF,EAKEuF,EALFvF,OACA0F,EAIEH,EAJFG,mBACAF,EAGED,EAHFC,gBACAC,EAEEF,EAFFE,mBACA6C,EACE/C,EADF+C,oBAEMnF,EAAgCnD,EAAhCmD,GAAIrD,EAA4BE,EAA5BF,KAAMyH,EAAsBvH,EAAtBuH,SAAUgB,EAAYvI,EAAZuI,QARP,EASyB/F,mBAAS,MATlC,mBASdgG,EATc,KASGC,EATH,OAUejG,mBAAS,MAVxB,mBAUdkG,EAVc,KAUFC,EAVE,OAWiBnG,mBAAS,IAX1B,mBAWdoG,EAXc,KAWDC,EAXC,OAYarG,mBAAS,MAZtB,mBAYdsG,EAZc,KAYHC,EAZG,OAaWvG,oBAAU,GAbrB,mBAadwG,EAbc,KAaJC,EAbI,KAqErB,OAvDAzH,qBAAU,WACR,IHS+BQ,EGT3B0G,EAAa,KACjB,IACE,GAAuB,kBAAZH,EAAsB,CAC/B,IAAMzD,EHOL,IAAIhC,KAAK,CGPqByF,GHOX,CAAEvG,KAAMA,IGN5B0G,EAAa/F,EAAcmC,QAE3B4D,EAAaH,EAEf,MAAOW,GACP7H,QAAQC,IAAI4H,GAGdP,GAAc,SAACQ,GAAD,OAA0BT,OACvC,CAACH,IAEJ/G,qBAAU,WAGRqH,EADErD,IAAoBrC,EAAK,6BAA+B,YAEzD,CAACqC,EAAiBrC,IAErB3B,qBAAU,WACRuH,EAAa1B,EAAarH,MACzB,CAACA,IAEJwB,qBAAU,WACII,OAAO6E,WAAW,sBACtBC,SAASuC,EAAY,KAC5B,CAACD,IA2BF,sBACEjH,UAAW6G,EACXQ,WAtBoB,SAAC1H,GACT,UAAVA,EAAEC,KAAiB2G,EAAoBnF,IAsBzCd,QA5BgB,WACNT,OAAO6E,WAAW,sBACtBC,SAAS4B,EAAoBnF,IA2BnCkG,SAAUL,EAJZ,UAME,wBACEjH,UAAU,uBACVyE,aAzBmB,SAAC9E,GACxB,IAAMiF,EAASjF,EAAEiF,OAAOC,QAAQ,UAChC0B,EAAoBnF,GAEpBsF,EADc,CAAEa,OAAQ,OAAQC,MAAO,SAUvC5C,EAAO9E,iBAAiB,cARC,SAAnB2H,EAAoB9H,GACxB,IAAMoF,EAAgBpF,EAAEoF,cACpBA,IAAkBA,EAAcC,UAAUC,SAAS,+BACrDvB,EAAmB,MACnBgD,EAAmB,MACnB9B,EAAO7E,oBAAoB,aAAc0H,QAgBzCC,MAAOjB,EAHT,SAKE,mBAAGzG,UAAU,mBAAmBW,cAAY,WAE7C8C,IAAoBrC,GACnB,cAAC,EAAD,CACEqC,gBAAiBA,EACjBC,mBAAoBA,EACpBC,mBAAoBA,IAGxB,qBAAK3D,UAAU,uBAAf,SACE,qBACEA,UAAU,4BACV2H,IAAKhB,EACLiB,IAAK7J,MAGT,sBAAKiC,UAAU,cAAf,UACE,mBAAGA,UAAU,oBAAb,SAAkCjC,IAClC,mBAAGiC,UAAU,wBAAb,SAAsCwF,OAExC,sBAAKxF,UAAU,uBAAf,UACE,mBAAGA,UAAU,8BAAb,kBACA,mBAAGA,UAAU,4BAAb,SAA0C+G,W,MCtFnCc,MAtBf,YAAgE,IAA5CC,EAA2C,EAA3CA,wCAQlB,OACE,qBACE9H,UAAU,YACVsH,SAAU,EACVhH,QAXgB,SAACX,GACnBmI,EAAwCnI,IAWtCoI,UARkB,SAACpI,GACP,UAAVA,EAAEC,KAAiBkI,EAAwCnI,IAG/D,SAME,qBAAKK,UAAU,4BAAf,SACE,mBAAGA,UAAU,iCAAiCW,cAAY,c,MCkCnDqH,MA/Cf,SAA4BxE,GAAQ,IAEhCyE,EAIEzE,EAJFyE,0BACAC,EAGE1E,EAHF0E,WACAC,EAEE3E,EAFF2E,eACAzE,EACEF,EADFE,mBAL+B,EAOEjF,qBAAWf,GAAtCmG,EAPyB,EAOzBA,gBAAiBlF,EAPQ,EAORA,MAChBoF,EARwB,YAQHF,EARG,MAS3BuE,EAAwB,SAACzI,GAC7BA,EAAEuF,kBAEc,QADAvF,EAAEiF,OAAOyD,aAEvBH,EAAWC,GAGbF,GAA0B,GAC1BlE,GAAkB,GAClBL,GAAmB,IAGrB,OACE,sBAAK1D,UAAU,uBAAf,UACE,mBAAGA,UAAU,6BAAb,kDAEImB,EAAexC,EAAMb,OAAQqK,GAAgBpK,KAFjD,OAKA,sBAAKiC,UAAU,gCAAf,UACE,wBACEA,UAAU,qCACVM,QAAS8H,EACT/H,WAAS,EAHX,iBAOA,wBACEL,UAAU,mFACVM,QAAS8H,EAFX,uBCxCO,G,MAAA,IAA0B,wCCc1BE,EAdS,SAAC9B,GACvB,IACE,GAAuB,kBAAZA,EAAsB,OAAO,EACxC,IAAM+B,EAAc/B,EAAQvG,KAC5B,MAEkB,eAAhBsI,GAAgD,cAAhBA,GAA+B/B,aAAmBgC,YAEpF,MAAOrB,GAEP,OADA7H,QAAQC,IAAI4H,IACL,I,MCwCIsB,MA9Cf,YAAuE,IAA/CC,EAA8C,EAA9CA,wBAAyBC,EAAqB,EAArBA,kBACvC/E,EAAanF,qBAAWf,GAAxBkG,SACFgF,EAAQ7J,iBAAO,MAkBrB,OARAU,qBAAU,WACRmJ,EAAM1J,QAAQ2J,UACb,IAOD,sBAAK7I,UAAU,0BAAf,UACE,uBACE8I,QAAQ,UACR9I,UAAU,iCACVsH,SAAU,EACVlH,IAAKwI,EACLb,UAXY,SAACpI,GACH,UAAVA,EAAEC,KAAiBgJ,EAAM1J,QAAQ6J,SAKnC,SAOE,mBACE/I,UAAU,8CACVW,eAAa,MAGjB,uBACES,GAAG,UACHnB,KAAK,OACLD,UAAU,mCACVgJ,OAAO,wBACP7I,SApCmB,SAACR,GACxB,IAAM6G,EAAU7G,EAAEiF,OAAOqE,MAAM,GAC3BX,EAAgB9B,IAClBkC,GAAwB,GACxBC,EAAkBnC,IAElB5C,EAAS,CAAE3D,KAAM,uBA+BfiJ,QAAQ,QC5ChB,SAASC,EAAyBtD,GAChC,IAAMN,EAAQ,2CAEd,MAAO,CAAElC,OADMkC,EAAMG,KAAKG,GACTN,SAGnB,SAAS6D,EAA2BvD,GAClC,IAAMN,EAAQ,2CAEd,MAAO,CAAElC,OADMkC,EAAMG,KAAKG,GACTN,SCUJ8D,MAfY,SAACtL,EAAM8H,EAAMW,GACtC,OAAIzI,EAAK4H,QAAU,EAAU,eAS/B,SAAwBE,GACtB,OAAOsD,EAAyBtD,GAAMxC,QAAU+F,EAA2BvD,GAAMxC,OATvEiG,CAAezD,GCJ3B,SAAuBA,GAAO,IAEtB0D,EADaJ,EAAyBtD,GAApCxC,QACmBwC,EAAK2D,MAAM,EAAG,IAAM3D,EAAK2D,OAAO,GAC3D,OAAOD,GAAY,IAAMA,EAAW,EDE1BE,CAAc5D,GCC1B,SAAyBA,GAAO,IAExB6D,EADaP,EAAyBtD,GAApCxC,QACqBwC,EAAK2D,MAAM,EAAG,IAAM3D,EAAK2D,MAAM,EAAG,GAC/D,OAAOE,GAAc,IAAMA,EAAa,EDH9BC,CAAgB9D,GCM5B,SAAwBA,GAAO,IAEvB+D,EADaT,EAAyBtD,GAApCxC,QACoBwC,EAAK2D,OAAO,IAAM3D,EAAK2D,MAAM,EAAG,GAE5D,OAAOI,IADa,IAAI9D,MAAO+D,eACID,EAAY,IDTrCE,CAAejE,KACfyC,EAAgB9B,IAAiB,oBADJ,eADC,gBADF,cADC,gB,MEa1BuD,MAlBf,YAAoD,IAArBC,EAAoB,EAApBA,iBAC7B,OACE,qBAAKhK,UAAU,yBAAf,SACE,wBACEA,UAAU,kCACVM,QAAS,WACP0J,KAHJ,SAME,mBACEhK,UAAU,iDACVW,cAAY,c,MCePsJ,MAzBf,SAAyBzG,GAAQ,IACvB0G,EAAiD1G,EAAjD0G,cAAeC,EAAkC3G,EAAlC2G,cAAepM,EAAmByF,EAAnBzF,KAAMyH,EAAahC,EAAbgC,SAE5C,OACE,sBAAKxF,UAAU,+BAAf,UACE,uBACEC,KAAK,OACLD,UAAU,qCACVI,IAAK8J,EACLE,UAAU,KACVlK,YAAY,OACZmK,aAActM,GAAQ,KAExB,uBACEkC,KAAK,OACLD,UAAU,yCACVI,IAAK+J,EACLE,aAAc7E,GAAY,GAC1B4E,UAAU,KACVlK,YAAY,mB,MCRLoK,MAZf,YAA+E,IAAjD1J,EAAgD,EAAhDA,cAAe2J,EAAiC,EAAjCA,eAAgBL,EAAiB,EAAjBA,cAC3D,OACE,qBAAKlK,UAAU,uBAAf,SACE,qBACEA,UAAU,4BACV2H,IAAK/G,EAAc2J,GACnB3C,IAAKsC,EAAchL,QAAQC,WCuFpBqL,MAhFf,YAAgE,IAAzCzG,EAAwC,EAAxCA,kBAAmB0G,EAAqB,EAArBA,kBAAqB,EACjChM,qBAAWf,GAA/BiB,EADqD,EACrDA,MAAOiF,EAD8C,EAC9CA,SAD8C,EAELnD,oBAAS,GAFJ,mBAEtDiK,EAFsD,KAEhChC,EAFgC,OAGjBjI,mBAAS,MAHQ,mBAGtD8J,EAHsD,KAGtC5B,EAHsC,KAIvDuB,EAAgBnL,iBAAO,MACvBoL,EAAgBpL,iBAAO,MACvBiL,EAAgB,uCAAG,kCAAA/K,EAAA,yDACnBlB,EAAOmM,EAAchL,QAAQC,MAC3B0G,EAAOsE,EAAcjL,QAAQC,OACrBoL,EAHS,gCAIbzH,EAAkByH,GAJL,8CAKnBI,EALmB,OAGnBnE,EAHmB,KAMjBoE,EAAmBvB,EAAmBtL,EAAM8H,EAAMW,GANjC,KAOfoE,EAPe,OAQhB,iBARgB,MAShB,iBATgB,MAUhB,gBAVgB,MAWhB,kBAXgB,MAYhB,iBAZgB,MAahB,sBAbgB,gCAcnBhH,EAAS,CAAE3D,KAAM2K,IAdE,oCAiBnBC,EAAU9M,EAAM8H,EAAMW,GACtBiE,IACA1G,GAAkB,GAnBC,iEAAH,qDAwBhB8G,EAAY,SAAC9M,EAAMyH,EAAUgB,GACjCzI,EAAOA,EAAK+M,OAAO,GAAGC,cAAgBhN,EAAKyL,MAAM,GACjD,IAAMwB,EAAYC,EAAgBlN,EAAMyH,EAAUgB,GAClD5C,EAAS,CAAE3D,KAAM,aAAcsE,QAAQ,GAAD,mBAAM5F,EAAMb,QAAZ,CAAoBkN,MAC1D1I,EAAa0I,EAAW,eAAgB,IAAK,WAGzCC,EAAkB,SAAClN,EAAMyH,EAAUgB,GAQvC,MAPkB,CAChBpF,IAAI,IAAI0E,MAAOG,UAAUiF,WACzBnN,KAAMA,EACNyH,SAAUA,EACVgB,QAASA,EACTlI,cAAc,IAKlB,OACE,mCACE,sBAAK0B,UAAU,gBAAf,UACG0K,EACC,cAAC,EAAD,CACE9J,cAAeA,EACf2J,eAAgBA,EAChBL,cAAeA,IAGjB,cAAC,EAAD,CACExB,wBAAyBA,EACzB6B,eAAgBA,EAChB5B,kBAAmBA,IAGvB,cAAC,EAAD,CACEuB,cAAeA,EACfC,cAAeA,IAEjB,cAAC,EAAD,CAAqBH,iBAAkBA,IACvC,wBACEhK,UAAU,2BACVM,QAASmK,EAFX,SAIE,mBAAGzK,UAAU,yB,MCtERmL,MAhBf,YAAsD,IAAtBC,EAAqB,EAArBA,kBAC9B,OACE,qBAAKpL,UAAU,0BAAf,SACE,wBACEA,UAAU,sCACVM,QAAS,SAACX,GAAD,OAAKyL,EAAkBzL,IAFlC,SAIE,mBACEK,UAAU,oDACVW,eAAa,S,MCoHR0K,MA/Gf,YAII,IAHF5H,EAGC,EAHDA,gBACAO,EAEC,EAFDA,oBACAD,EACC,EADDA,kBAEMuH,EAAe7H,EACfyG,EAAgBnL,iBAAO,MACvBoL,EAAgBpL,iBAAO,MAH5B,EAI2BN,qBAAWf,GAA/BiB,EAJP,EAIOA,MAAOiF,EAJd,EAIcA,SAJd,EAKgCnD,mBAAS6K,GAAnCC,EALN,sBAM2C9K,mBAAS,MANpD,mBAMM8J,EANN,KAMsB5B,EANtB,OAOuDlI,oBAAS,GAPhE,mBAOMiK,EAPN,KAO4BhC,EAP5B,KAQKzK,EAASkD,EAAexC,EAAMb,OAAQyN,GACtCH,EAAiB,uCAAG,WAAOzL,GAAP,yBAAAV,EAAA,6DACxBU,EAAEuF,kBACIsG,EAAUtB,EAAchL,QAAQC,MAChCsM,EAActB,EAAcjL,QAAQC,MACpCqH,EAAUkE,EAAuBH,EAAiBtM,EAAOuI,QAC3DkF,EAAe,KALK,kBAODC,EAAmBH,EAASC,EAAajF,GAPxC,OAOtBkF,EAPsB,yDAStBpM,QAAQC,IAAR,MATsB,QAWpBmM,GACIrM,EAAiBV,EAAMb,OAAOE,QAClC,SAACC,GAAD,OAAYA,EAAOmD,KAAOmK,KAGtBK,EALU,sBAKMvM,GALN,CAKsBqM,IACtCpJ,EAAaoJ,EAAc,eAAgB,IAAK,UAChD9H,EAAS,CACP3D,KAAM,cACNsE,QAAS,CACPzG,OAAQ8N,EACR7N,KAAM2N,EAAa3N,QAGvBgG,GAAkB,GAClBC,GAAoB,IAGpB1E,QAAQC,IAAI,sBA7BU,0DAAH,sDAiCjBoM,EAAkB,uCAAG,WAAO5N,EAAMyH,EAAUgB,GAAvB,iBAAAvH,EAAA,yDACnByM,EADmB,2BAEpBzN,GAFoB,IAGvBmD,GAAImK,EACJxN,KAAMA,EACNyH,SAAUA,EACVgB,QAASA,KAED+D,EARe,gCASfzH,EAAkByH,GATH,8CAUrBI,EAVqB,OAQzBnE,EARyB,KAWnBoE,EAAmBvB,EAAmBtL,EAAMyH,EAAUgB,GAXnC,KAYjBoE,EAZiB,OAalB,iBAbkB,MAclB,iBAdkB,MAelB,gBAfkB,MAgBlB,kBAhBkB,MAiBlB,iBAjBkB,MAkBlB,sBAlBkB,gCAmBrBhH,EAAS,CAAE3D,KAAM2K,IAnBI,sDAsBdc,GAtBc,iCAwBlB,MAxBkB,4CAAH,0DAqCxB,OAVAjM,qBAAU,WACR,IAAMC,EAAgB,SAACC,GACP,WAAVA,EAAEC,KAAkBoE,GAAoB,IAG9C,OADAnE,OAAOC,iBAAiB,UAAWJ,GAC5B,WACLG,OAAOE,oBAAoB,UAAWL,MAEvC,IAGD,sBAAKM,UAAU,iBAAf,UACG0K,EACC,cAAC,EAAD,CACE9J,cAAeA,EACf2J,eAAgBA,EAChBL,cAAeA,IAGjB,cAAC,EAAD,CACExB,wBAAyBA,EACzB6B,eAAgBA,EAChB5B,kBAAmBA,IAIvB,cAAC,EAAD,CACE5K,KAAME,EAAOF,KACbyH,SAAUvH,EAAOuH,SACjB/B,gBAAiBA,EACjByG,cAAeA,EACfC,cAAeA,IAEjB,cAAC,EAAD,CAAsBiB,kBAAmBA,Q,MCjGhCS,MApBf,YAA0D,IAAlCC,EAAiC,EAAjCA,aAAcC,EAAmB,EAAnBA,gBAAmB,EAC3BtN,qBAAWf,GAA/BiB,EAD+C,EAC/CA,MAAOiF,EADwC,EACxCA,SAMfnE,qBAAU,WACJqM,IACFC,GAAgB,GAChB3G,WAAW4G,EAAqB,UAGpC,IAAMA,EAAsB,WAT1BpI,EAAS,CAAE3D,KAAM,iBAWjB8L,GAAgB,IAElB,OAAO,mBAAG/L,UAAU,eAAb,SAA6BrB,EAAMsN,uBCjB7BC,MAJf,SAA+BrG,GAC7B,OAAOA,EAAKsG,QAAQ,aAAc,MC2FpC,SAASC,EAAwBC,EAAiBC,GAAiB,IACzD/G,EAAU6D,EAA2BiD,GAArC9G,MAgBR,OAdA8G,EAAkBlD,EAAyBkD,GAAiBhJ,OACxDgJ,EACAA,EAAgBF,QAAQ5G,EAAO,YAEnC+G,EAAiBnD,EAAyBmD,GAAgBjJ,OACtDiJ,EACAA,EAAeH,QAAQ5G,EAAO,YAE9B,OAAOG,KAAK2G,KACdA,EAAkBH,EAAsBG,IAEtC,OAAO3G,KAAK4G,KACdA,EAAiBJ,EAAsBI,IAElC,CAACD,EAAiBC,GAGZC,MA1Gf,SAAsBC,GAAO,IAEzBC,EAKED,EALFC,WACA7I,EAIE4I,EAJF5I,SACA8I,EAGEF,EAHFE,SACA9N,EAEE4N,EAFF5N,cACAC,EACE2N,EADF3N,eAEIf,EAAS2O,EACE,cAAbC,EAUN,SAAmBrI,EAAWT,EAAUhF,EAAeC,GACrD,IAAM8N,EAAetI,EAAUuI,MAAK,SAACC,EAAMC,GACzC,IAAIT,EAAkBQ,EAAKrH,SAASgE,QAChC8C,EAAiBQ,EAAItH,SAASgE,QAFe,EAGb4C,EAClCC,EACAC,GAL+C,mBAGhDD,EAHgD,KAG/BC,EAH+B,WAOVD,EAAgB5G,MAAM,KAPZ,mBAO1CsH,EAP0C,KAOjCC,EAPiC,KAOtBC,EAPsB,OAQbX,EAAe7G,MAAM,KARR,mBAQ1CyH,EAR0C,KAQlCC,EARkC,KAQxBC,EARwB,KAWjD,OAFqB,IAAItH,KAAKmH,EAAUD,EAAWD,GAAS9G,UACxC,IAAIH,KAAKsH,EAASD,EAAUD,GAAQjH,aAG1D,GAAIpH,EAAgB,CAIlBD,EAHwB+N,EAAa3O,QACnC,SAACC,GAAD,OAAYA,EAAOK,sBAIrBM,EAAc+N,GAEhB/I,EAAS,CAAE3D,KAAM,uBA/BfoN,CAAUvP,EAAQ8F,EAAUhF,EAAeC,GACrB,gBAAb6N,EAiCb,SAAqBrI,EAAWT,EAAUhF,EAAeC,GACvD,IAAM8N,EAAetI,EAAUuI,MAAK,SAACC,EAAMC,GACzC,IAAIT,EAAkBQ,EAAKrH,SAASgE,QAChC8C,EAAiBQ,EAAItH,SAASgE,QAFe,EAGb4C,EAClCC,EACAC,GAL+C,mBAGhDD,EAHgD,KAG/BC,EAH+B,WAOpBD,EAAgB5G,MAAM,KAPF,mBAO1CsH,EAP0C,KAOjCC,EAPiC,OAQtBV,EAAe7G,MAAM,KARC,mBAWjD,OAXiD,KAUN,IAVM,OAS1BsH,EAAuB,IAAZC,MAIpC,GAAInO,EAAgB,CAIlBD,EAHwB+N,EAAa3O,QACnC,SAACC,GAAD,OAAYA,EAAOK,sBAIrBM,EAAc+N,GAEhB/I,EAAS,CAAE3D,KAAM,yBAtDfqN,CAAYxP,EAAQ8F,EAAUhF,EAAeC,GACvB,eAAb6N,GAwDb,SAAoBrI,EAAWT,EAAUhF,EAAeC,GACtD,IAAM8N,EAAetI,EAAUuI,MAAK,SAACC,EAAMC,GAAS,IAAD,EAC9BD,EAAK9O,KAAKI,cAAtBoP,EAD0C,sBAE/BT,EAAI/O,KAAKI,cAApBqP,EAF0C,oBAGjD,OAAOD,EAASE,WAAW,GAAKD,EAAQC,WAAW,MAErD,GAAI5O,EAAgB,CAIlBD,EAHwB+N,EAAa3O,QACnC,SAACC,GAAD,OAAYA,EAAOK,sBAIrBM,EAAc+N,GAEhB/I,EAAS,CAAE3D,KAAM,wBArEfyN,CAAW5P,EAAQ8F,EAAUhF,EAAeC,I,MCuCjC8O,OAtDf,WAA6B,IAAD,EACmBlP,qBAAWf,GAAhDkG,EADkB,EAClBA,SAAUlF,EADQ,EACRA,SAAUkP,EADF,EACEA,aADF,EAEUnP,qBAAWb,GAFrB,mBAEnB6O,EAFmB,KAEP7N,EAFO,KAGnBC,EAHmB,YAGDH,EAHC,oBAIQkP,EAJR,GAInBC,EAJmB,KAIRC,EAJQ,KAuBpBC,EAAc,SAAC5O,GACnB,OAAQA,GACN,IAAK,eACH,MAAO,aACT,IAAK,cACH,MAAO,YACT,IAAK,gBACH,MAAO,gBAKb,OACE,yBAAQa,UAAU,oBAAoBG,SA9BnB,SAACR,GACpB,IAAMR,EAAQQ,EAAEiF,OAAOzF,MACjBuN,EAAWqB,EAAY5O,GAS7BoN,EAPa,CACXE,aACA7N,gBACA8N,WACA7N,iBACA+E,aAGFkK,EAAapB,IAkBiDrC,aAAcwD,EAA5E,UACE,wBACEzM,GAAG,OACHjC,MAAM,eACNa,UAAU,4BAHZ,0BAOA,wBAAQb,MAAM,cAAca,UAAU,4BAAtC,yBAGA,wBAAQb,MAAM,gBAAgBa,UAAU,4BAAxC,+BCkISgO,OAxKf,SAAoBxK,GAAQ,IAClBC,EAAwCD,EAAxCC,gBAAiBC,EAAuBF,EAAvBE,mBADA,EASrBjF,qBAAWf,GANbiB,EAHuB,EAGvBA,MACAiF,EAJuB,EAIvBA,SACAlF,EALuB,EAKvBA,SACAmF,EANuB,EAMvBA,gBACAC,EAPuB,EAOvBA,sBACAmK,EARuB,EAQvBA,qBARuB,EAUWxP,qBAAWb,GAVtB,mBAUlB6O,EAVkB,KAUN7N,EAVM,mBAWqBqP,EAXrB,GAWlBC,EAXkB,KAWDC,EAXC,KAYlBtP,EAZkB,YAYAH,EAZA,oBAamBmF,EAbnB,GAalBuK,EAbkB,KAaFrK,EAbE,mBAcuBD,EAdvB,GAclBuK,EAdkB,KAcArK,EAdA,OAemCvD,oBAAS,GAf5C,mBAelB6N,EAfkB,KAeMrG,EAfN,OAgBmBxH,mBAAS,MAhB5B,mBAgBlB0H,EAhBkB,KAgBFoG,EAhBE,OAiBe9N,oBAAS,GAjBxB,mBAiBlBqL,EAjBkB,KAiBJC,EAjBI,KAkBnBpI,EAAqB,SAAChE,EAAGyB,GACjBvB,OAAO6E,WAAW,sBACtBC,SACNjB,EAAmB,MAErB/D,EAAEuF,kBACF+C,GAA0B,GAC1BsG,EAAkBnN,IAkBdmF,EAAsB,SAACnF,GACfvB,OAAO6E,WAAW,sBACtBC,SACNZ,GAAkB,GAGhBN,IAAoBrC,GACtBsC,EAAmBtC,IAQjBoN,EAAa,SAAC7O,GACJ,WAAVA,EAAEC,MACJ8D,EAAmB,MACnBK,GAAkB,GAClBoK,GAAmB,kBAAM,OAmD7B,OA/CA1O,qBAAU,WAER,OADAI,OAAOC,iBAAiB,QAAS0O,GAC1B,WACL3O,OAAOE,oBAAoB,QAASyO,OAIxC/O,qBAAU,WACR,IAAM3B,EAASe,EACXR,EAAsBM,EAAMb,QAC5Ba,EAAMb,OACVc,EAAcd,KACb,CAACe,EAAgBF,EAAMb,OAAQc,IAElCa,qBAAU,WACR,IAAMgP,EAAe,WAEnB,IAAMC,EAAM7O,OAAO6E,WAAW,sBAC1BgK,EAAI/J,SAAW2J,GACjB5K,EAAmB,MAGnBgL,EAAI/J,UACHuJ,GAAmBzK,IACpB2K,EAEArK,GAAkB,kBAAM,KAEvB2K,EAAI/J,UACJuJ,IAAmBzK,GACnB2K,GAEDrK,GAAkB,kBAAM,MAI5B,OADAlE,OAAOC,iBAAiB,SAAU2O,GAC3B,WACL5O,OAAOE,oBAAoB,SAAU0O,MAEtC,CACDL,EACArK,EACAmK,EACAzK,EACAC,EACA4K,IAGA,qCACE,cAAC,GAAD,IAEC3P,EAAMgQ,oBACL,cAAC,EAAD,CACE7C,aAAcA,EACdC,gBAAiBA,IAGpBuC,GACC,cAAC,EAAD,CACErG,0BAA2BA,EAC3BC,WA/FW,SAAC9G,GAClB,IACIwK,EADcjN,EAAMb,OACEE,QAAO,SAACC,GAAD,OAAYA,EAAOmD,KAAOA,M,0CAC3DwN,CAAuB,eAAgB,IAAK,SAAUxN,GACtDwC,EAAS,CACP3D,KAAM,gBACNsE,QAAS,CAAEzG,OAAQ8N,KAGrB7H,GAAkB,IAuFZoE,eAAgBA,EAChBzE,mBAAoBA,IAGxB,qBAAI1D,UAAU,cAAd,UACGyM,GACCA,EAAWoC,KAAI,SAAC5Q,GAAD,OACb,cAAC,EAAD,CAEEA,OAAQA,EACR0F,mBAAoBA,EACpBF,gBAAiBA,EACjBC,mBAAoBA,EACpB6C,oBAAqBA,EACrBxC,kBAAmBA,GANd9F,EAAOmD,OAShB8M,GACA,cAAC,EAAD,CACEnK,kBAAmBA,EACnB0G,kBAxHgB,WACxB0D,GAAmB,kBAAOD,SA0HpB,cAAC,EAAD,CACEpG,wCAjGsC,WAC9CqG,GAAoBD,SAsGjBG,GACC,cAAC,EAAD,CACE5K,gBAAiBA,EACjBO,oBAAqBA,EACrBD,kBAAmBA,Q,MC5Jd+K,OAdf,SAAkBtL,GAAQ,IAChBuL,EAAcvL,EAAduL,UADe,EAEyBtQ,qBAAWf,GAAnD+F,EAFe,EAEfA,gBAAiBC,EAFF,EAEEA,mBAEzB,OACE,sBAAM1D,UAAU,YAAhB,SACE,cAAC,GAAD,CACEyD,gBAAiBA,EACjBC,mBAAoBA,EACpBqL,UAAWA,O,MCDJC,OAbf,SAAuBnB,GACrB,OAAQA,GACN,IAAK,aACH,MAAO,YACT,IAAK,YACH,MAAO,cACT,IAAK,cACH,MAAO,eCuDEoB,OAvDf,WAAsB,IAAD,EAOfxQ,qBAAWf,GALbkG,EAFiB,EAEjBA,SACAlF,EAHiB,EAGjBA,SACAuP,EAJiB,EAIjBA,qBACApK,EALiB,EAKjBA,gBACA+J,EANiB,EAMjBA,aANiB,cAQ2BK,EAR3B,GAQZC,EARY,KAQKC,EARL,mBASyBzP,EATzB,GASZG,EATY,KASI2B,EATJ,mBAUyBqD,EAVzB,GAUZuK,EAVY,KAUIrK,EAVJ,mBAWe6J,EAXf,GAWZC,EAXY,KAWDC,EAXC,OAYiBrP,qBAAWb,GAZ5B,mBAYZ6O,EAZY,KAYA7N,EAZA,KA+BnB,OACE,mCACE,sBAAKoB,UAAU,aAAf,UACE,wBACEA,UAAU,wCACVM,QAlBmB,WACzB,IAAMoM,EAAWsC,GAAcnB,GAQ/BtB,EAPa,CACXE,aACA7N,gBACA8N,WACA7N,iBACA+E,aAGFkK,EAAapB,IAMT,SAIE,mBAAG1M,UAAU,8BAEf,wBAAQA,UAAU,kBAAkBM,QA1BhB,WACxByD,GAAmBqK,GACnBD,GAAoBD,IAwBhB,SACE,mBAAGlO,UAAU,kBAGf,wBACEA,UAAU,wCACVM,QAAS,kBAAME,GAAmB3B,IAFpC,SAIE,mBAAGmB,UAAU,wB,MCrBRkP,OA/Bf,WAA2B,IAAD,EAOpBzQ,qBAAWf,GALbuQ,EAFsB,EAEtBA,qBACAnK,EAHsB,EAGtBA,sBACAD,EAJsB,EAItBA,gBACAJ,EALsB,EAKtBA,gBACAC,EANsB,EAMtBA,mBANsB,cAQsBuK,EARtB,GAQjBC,EARiB,KAQAC,EARA,mBASwBrK,EATxB,GASjBuK,EATiB,KASCrK,EATD,mBAUoBH,EAVpB,GAUjBuK,EAViB,KAUDrK,EAVC,KAoBxBtE,qBAAU,WAEH0P,SAASC,KAAK1H,MAAM2H,SADzBjB,EACoC,SACA,YACnC,CAACA,IACJ,IAAMpO,EAAYoO,EACd,2CACA,kBACJ,OAAO,qBAAKpO,UAAWA,EAAWM,QAjBR,SAACX,IACrB8D,GAAmByK,GAAmBG,KACxC1O,EAAEuF,kBACFnB,GAAkB,GAClBC,GAAoB,GACpBmK,GAAmB,GACnBzK,EAAmB,WCbV4L,OALf,SAA4B9L,GAAQ,IAAD,EACG+L,IAAM9O,SAAS,MADlB,mBAC1BgM,EAD0B,KACd7N,EADc,KAEjC,OAAO,cAAC,EAAkB4Q,SAAnB,aAA4BrQ,MAAO,CAACsN,EAAY7N,IAAoB4E,K,8CCF7E,WAAuBjC,EAAUC,EAASU,GAA1C,eAAAjD,EAAA,+EAEuByD,EAAoBnB,EAAUC,EAASU,GAF9D,cAEUU,EAFV,yBAGWA,GAHX,uCAKItD,QAAQC,IAAR,MALJ,kBAMW,IANX,0D,sBAUekQ,O,+FCVf,8BAAAxQ,EAAA,sEACuBwQ,GAAQ,eAAgB,IAAK,UADpD,cACQ3R,EADR,OAEQwN,EAAe,CACnBxN,OAAQA,EACR6Q,oBAAoB,EACpBe,oBAAqB,IALzB,kBAOSpE,GAPT,4C,sBAUeA,O,4CCZFqE,GAAU,SAAChR,EAAOiR,GAC7B,OAAQA,EAAO3P,MACb,IAAK,aACH,OAAO,2BACFtB,GADL,IAEEb,OAAQ8R,EAAOrL,QACfoK,oBAAoB,EACpB1C,oBAAqB,2BAGzB,IAAK,gBACH,OAAO,2BACFtN,GADL,IAEEb,OAAQ8R,EAAOrL,QAAQzG,OACvB6Q,oBAAoB,EACpB1C,oBAAqB,6BAGzB,IAAK,eACH,OAAO,2BACFtN,GADL,IAEEgQ,oBAAoB,EACpB1C,oBAAqB,KAGzB,IAAK,eACH,OAAO,2BACFtN,GADL,IAEEgQ,oBAAoB,EACpB1C,oBAAqB,oDAGzB,IAAK,eACH,OAAO,2BACFtN,GADL,IAEEgQ,oBAAoB,EACpB1C,oBACE,gGAIN,IAAK,cACH,OAAO,2BACFtN,GADL,IAEEgQ,oBAAoB,EACpB1C,oBAAqB,oDAGzB,IAAK,gBACH,OAAO,2BACFtN,GADL,IAEEgQ,oBAAoB,EACpB1C,oBACE,sDAGN,IAAK,eACH,OAAO,2BACFtN,GADL,IAEEgQ,oBAAoB,EACpB1C,oBACE,kEAGN,IAAK,qBACH,OAAO,2BACFtN,GADL,IAEEgQ,oBAAoB,EACpB1C,oBAAqB,gBAGzB,IAAK,uBACH,OAAO,2BACFtN,GADL,IAEEgQ,oBAAoB,EACpB1C,oBAAqB,kBAGzB,IAAK,sBACH,OAAO,2BACFtN,GADL,IAEEgQ,oBAAoB,EACpB1C,oBAAqB,iBAGzB,IAAK,wBACH,OAAO,2BACFtN,GADL,IAEEb,OAAQ8R,EAAOrL,QACfoK,oBAAoB,EACpB1C,oBAAqB,KAGzB,IAAK,eACH,OAAO,2BACFtN,GADL,IAEEb,OAAQ8R,EAAOrL,QAAQzG,OACvB6Q,oBAAoB,EACpB1C,oBAAqB,KAGzB,IAAK,oBACH,OAAO,2BACFtN,GADL,IAEEgQ,oBAAoB,EACpB1C,oBACE,+EAGN,IAAK,gBACH,IAAM/N,EAAa0R,EAAOrL,QAAQxG,KAClC,OAAO,2BACFY,GADL,IAEEgQ,oBAAoB,EACpB1C,oBAAoB,GAAD,OAAK/N,EAAL,sCACnBJ,OAAQ8R,EAAOrL,QAAQzG,SAG3B,IAAK,mBACH,IAAMI,EAAa0R,EAAOrL,QAAQxG,KAClC,OAAO,2BACFY,GADL,IAEEgQ,oBAAoB,EACpB1C,oBAAoB,GAAD,OAAK/N,EAAL,0CACnBJ,OAAQ8R,EAAOrL,QAAQzG,SAG3B,IAAK,cACH,IAAMI,EAAa0R,EAAOrL,QAAQxG,KAClC,OAAO,2BACFY,GADL,IAEEgQ,oBAAoB,EACpB1C,oBAAoB,GAAD,OAAK/N,EAAL,oCACnBJ,OAAQ8R,EAAOrL,QAAQzG,SAG3B,QACE,MAAM,IAAIoD,MAAJ,iCAAoC0O,EAAO3P,SCvFxC4P,OA7Cf,SAAqBrM,GACnB,IAD0B,EAMAsM,qBAAWH,GALzB,CACV7R,OAAQ,GACR6Q,oBAAoB,EACpB1C,oBAAqB,KAJG,mBAMnBtN,EANmB,KAMZiF,EANY,OAOoBnD,mBAAS,MAP7B,mBAOnBgD,EAPmB,KAOFC,EAPE,KAQpBuK,EAAuBxN,oBAAS,GAChCqD,EAAwBrD,oBAAS,GACjCoD,EAAkBpD,oBAAS,GAC3B/B,EAAW+B,oBAAS,GACpBmN,EAAenN,mBAAS,cAExBsP,EAAc,uCAAG,8BAAA9Q,EAAA,sEACFqM,KADE,OACf1I,EADe,OAEf9E,EAAS8E,EAAK9E,OAEpB8F,EAAS,CACP3D,KAAM,eACNsE,QAAS,CAAEzG,OAAQA,KANA,2CAAH,qDAapB,OAHA2B,qBAAU,WACRsQ,MACC,IAED,cAACrS,EAAW8R,SAAZ,aACErQ,MAAO,CACLR,QACAiF,WACAlF,WACAmF,kBACAoK,uBACAnK,wBACAL,kBACAC,qBACAkK,iBAEEpK,KCxBKwM,OAff,WACE,OACE,mCACE,eAAC,GAAD,WACE,cAAC,GAAD,IACA,eAAC,GAAD,WACE,cAAC,EAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,a,MCVVC,IAASC,OAAO,cAAC,GAAD,IAASf,SAASgB,eAAe,W","file":"static/js/main.b6035bcd.chunk.js","sourcesContent":["import { createContext } from 'react';\r\nexport const AppContext = createContext(null);\r\n","import { createContext } from 'react';\r\n const PeopleListContext = createContext(null);\r\nexport default PeopleListContext;\r\n","function filterPeopleByName(people, name) {\r\n  const filteredPeople = people.filter((person) => {\r\n    const personName = person.name.toLowerCase();\r\n    name = name.toLowerCase();\r\n    return personName.includes(name);\r\n  });\r\n  return filteredPeople;\r\n}\r\n\r\nexport default filterPeopleByName;\r\n","function filterFavouritePeople(people) {\r\n  return people.filter((person) => person.inFavourites);\r\n}\r\n\r\nexport default filterFavouritePeople;\r\n\r\n","import { useRef, useContext, useEffect } from 'react';\r\nimport './SearchBox.scss';\r\nimport { AppContext } from '../../context/AppContext/AppContext';\r\nimport PeopleListContext from '../../context/PeopleListContext/PeopleListContext';\r\nimport filterPeopleByName from '../../helper/filterPeopleByName';\r\nimport filterFavouritePeople from '../../helper/filterFavouritePeople';\r\n\r\nfunction SearchBox({ setShowSearchBox }) {\r\n  const { favState, state } = useContext(AppContext);\r\n  const [, setPeopleList] = useContext(PeopleListContext);\r\n  const [showFavourites] = favState;\r\n  const searchInput = useRef(null);\r\n\r\n  const changeHandler = async () => {\r\n    const name = searchInput.current.value;\r\n    displayPeople(name);\r\n  };\r\n\r\n  const displayPeople = (name) => {\r\n    let people = showFavourites\r\n      ? filterFavouritePeople(state.people)\r\n      : state.people;\r\n    if (people) {\r\n      const filteredPeople = filterPeopleByName(people, name);\r\n      setPeopleList(filteredPeople);\r\n    } else {\r\n      console.log('Data could not found!');\r\n    }\r\n  };\r\n\r\n  const closeBtnClickHandler = async () => {\r\n    let name = '';\r\n    setShowSearchBox(false);\r\n    displayPeople(name);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleKeyDown = (e) => {\r\n      if (e.key === 'Escape') closeBtnClickHandler();\r\n    };\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, []);\r\n  return (\r\n    <div className=\"search-box\">\r\n      <input\r\n        className=\"search-box__search-input\"\r\n        type=\"search\"\r\n        placeholder=\"Search by name\"\r\n        onChange={changeHandler}\r\n        ref={searchInput}\r\n        autoFocus\r\n      />\r\n      <button className=\"search-box__close-btn\" onClick={closeBtnClickHandler}>\r\n        <i className=\"far fa-times-circle\"></i>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchBox;\r\n","import { useContext, useState } from 'react';\r\nimport './AppHead.scss';\r\nimport SearchBox from '../SearchBox/SearchBox';\r\nimport { AppContext } from '../../context/AppContext/AppContext';\r\nfunction AppHead() {\r\n  const { favState } = useContext(AppContext);\r\n  const [showFavourites, setShowFavourites] = favState;\r\n  const [showSearchBox, setShowSearchBox] = useState(false);\r\n\r\n  return (\r\n    <header className=\"app-head\">\r\n       {/*  <h1 className=\"app-head__logo\">BirthdayApp</h1> */}\r\n      <nav className=\"app-head-nav\">\r\n        {(showSearchBox && (\r\n          <SearchBox setShowSearchBox={setShowSearchBox} />\r\n        )) || (\r\n          <button\r\n            className=\"app-head-nav__search-btn\"\r\n            onClick={() => setShowSearchBox(!showSearchBox)}\r\n          >\r\n            <i className=\"fas fa-search app-head-nav__icon\"></i>\r\n          </button>\r\n        )}\r\n        <button\r\n          className=\"app-head-nav__fav-btn\"\r\n          onClick={() => !setShowFavourites(!showFavourites)}\r\n        >\r\n          <i className=\"fa fa-star app-head-nav__icon\" aria-hidden=\"true\"></i>\r\n        </button>\r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default AppHead;\r\n","function createFileURL(file) {\r\n  if (file instanceof File || file instanceof Blob) {\r\n    const url = URL.createObjectURL(file);\r\n    return url;\r\n  } else if (\r\n    typeof file === 'string' &&\r\n    (file.includes('.png') || file.includes('.jpeg') || file.includes('.jpg'))\r\n  )\r\n    return file;\r\n  throw Error(\r\n    'Input must be a File, String (includes .png, .jpeg or .jpg), or Blob object.'\r\n  );\r\n}\r\n\r\nexport default createFileURL;\r\n","function findPersonByID(people, id) {\r\n  return people.find((person) => person.id === id);\r\n}\r\n\r\nexport default findPersonByID;\r\n","import { openDB } from 'idb';\r\nasync function accesDB(database, version) {\r\n  let myDB = null;\r\n  try {\r\n    myDB = await openDB(database, version, {\r\n      upgrade(database, oldVersion, newVersion, transaction) {\r\n        database.createObjectStore('people', { keyPath: 'id' });\r\n      },\r\n    });\r\n  } catch (err) {\r\n    console.log(err);\r\n    return;\r\n  }\r\n\r\n  return myDB;\r\n}\r\n\r\nasync function getIDBStore(database, version, store) {\r\n  let myDB = null;\r\n  try {\r\n    myDB = await accesDB(database, version);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n  const tx = myDB.transaction(store, 'readwrite');\r\n  const myStore = tx.objectStore(store);\r\n  return myStore;\r\n}\r\n\r\nexport { accesDB, getIDBStore };\r\n","import { getIDBStore } from './indexedDBValidation';\r\nasync function putItemToIDB(item, database, version, store) {\r\n  try {\r\n    const accessedStore = await getIDBStore(database, version, store);\r\n    await accessedStore.put(item);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n}\r\n\r\nasync function getDataFromIDBStore(database, version, store) {\r\n  try {\r\n    const accessedStore = await getIDBStore(database, version, store);\r\n    const data = await accessedStore.getAll();\r\n    return data;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n}\r\n\r\n async function removeDataFromIDBStore(database, version, store, key) {\r\n  try {\r\n    const accessedStore = await getIDBStore(database, version, store);\r\n    accessedStore.delete(key);\r\n  }\r\n  catch (err) {\r\n    console.log(err);\r\n  }\r\n} \r\n\r\nfunction arrayBufferToBlob(buffer, type) {\r\n  return new Blob([buffer], { type: type });\r\n}\r\n\r\nfunction blobToArrayBuffer(blob) {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.addEventListener('loadend', (e) => {\r\n      resolve(reader.result);\r\n    });\r\n    reader.addEventListener('error', reject);\r\n    reader.readAsArrayBuffer(blob);\r\n  });\r\n}\r\n\r\nexport { putItemToIDB, getDataFromIDBStore, removeDataFromIDBStore, blobToArrayBuffer, arrayBufferToBlob };\r\n","import './PersonOptions.scss';\r\nimport { useContext, useEffect, useState } from 'react';\r\nimport { AppContext } from '../../context/AppContext/AppContext';\r\nimport findPersonByID from '../../helper/findPersonByID';\r\nimport { putItemToIDB } from '../../utils/IndexedDB/indexedDBManagement';\r\n\r\nfunction PersonOptions(props) {\r\n  const { currentPersonID, setCurrentPersonID, handleDeletePerson } = props;\r\n  const {\r\n    state,\r\n    dispatch,\r\n    backgroundState,\r\n    showEditPersonUIState,\r\n  } = useContext(AppContext);\r\n  const person = findPersonByID(state.people, currentPersonID);\r\n  const [, setShowBackground] = backgroundState;\r\n  const [, setShowEditPersonUI] = showEditPersonUIState;\r\n  const [favText, setFavText] = useState('');\r\n\r\n  const isPersonInFavourites = (person) => {\r\n    return person && person.inFavourites;\r\n  };\r\n\r\n  const editHandler = (e) => {\r\n    e.stopPropagation();\r\n    setShowBackground(true);\r\n    setShowEditPersonUI(true);\r\n    setTimeout(() => setCurrentPersonID(null), 0);\r\n  };\r\n\r\n  const addToFavoritesHandler = () => {\r\n    const oldPeople = state.people.filter(\r\n      (person) => currentPersonID !== person.id\r\n    );\r\n    const modifiedPerson = {\r\n      ...person,\r\n      inFavourites: true,\r\n    };\r\n\r\n    dispatch({\r\n      type: 'ADD_FAVOURITE',\r\n      payload: {\r\n        people: [...oldPeople, modifiedPerson],\r\n        name: modifiedPerson.name,\r\n      },\r\n    });\r\n    putItemToIDB(modifiedPerson, 'userDatabase', '1', 'people');\r\n    setCurrentPersonID(null);\r\n  };\r\n\r\n  const removeFromFavouritesHandler = () => {\r\n    const oldPeople = state.people.filter(\r\n      (person) => person.id !== currentPersonID\r\n    );\r\n    const modifiedPerson = {\r\n      ...person,\r\n      inFavourites: false,\r\n    };\r\n    dispatch({\r\n      type: 'REMOVE_FAVOURITE',\r\n      payload: {\r\n        people: [...oldPeople, modifiedPerson],\r\n        name: modifiedPerson.name,\r\n      },\r\n    });\r\n    setCurrentPersonID(null);\r\n  };\r\n\r\n  const setHandlerFunction = (e) => {\r\n    e.stopPropagation();\r\n    setShowBackground(false);\r\n    return isPersonInFavourites(person)\r\n      ? removeFromFavouritesHandler\r\n      : addToFavoritesHandler;\r\n  };\r\n\r\n  const handleMouseOver = (e) => {\r\n    const mql = window.matchMedia('(min-width: 769px)');\r\n    if (mql.matches) {\r\n      const target = e.target.closest('div');\r\n      const handleMouseOut = (e) => {\r\n        setShowBackground(false);\r\n        const relatedTarget = e.relatedTarget;\r\n        if (relatedTarget && !relatedTarget.classList.contains('person__dropdown-btn')) {\r\n          setCurrentPersonID(null);\r\n          target.removeEventListener('mouseleave', handleMouseOut);\r\n        }\r\n      };\r\n      target.addEventListener('mouseleave', handleMouseOut);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    isPersonInFavourites(person)\r\n      ? setFavText('Remove from favourites')\r\n      : setFavText('Add to favourites');\r\n  }, [person]);\r\n\r\n  return (\r\n    <div className=\"person-options-container\" onMouseEnter={handleMouseOver}>\r\n      <p className=\"person-options-container__name\">\r\n        Person: {person && person.name}\r\n      </p>\r\n      <ul className=\"person-options-list\">\r\n        <li className=\"person-options-list__item person-options-list__item--triangled\">\r\n          <button\r\n            className=\"person-options-list__btn\"\r\n            onClick={(e) => setHandlerFunction(e)()}\r\n          >\r\n            {favText}\r\n          </button>\r\n        </li>\r\n        <li className=\"person-options-list__item person-options-list__item--edit-btn\">\r\n          <button\r\n            className=\"person-options-list__btn\"\r\n            onClick={(e) => editHandler(e)}\r\n          >\r\n            Edit\r\n          </button>\r\n        </li>\r\n        <li className=\"person-options-list__item person-options-list__item--delete-btn\">\r\n          <button\r\n            className=\"person-options-list__btn\"\r\n            onClick={(e) => handleDeletePerson(e, currentPersonID)}\r\n          >\r\n            Delete\r\n          </button>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PersonOptions;\r\n","function getPersonAge(person) {\r\n  const regex = /(\\.|-|\\/)/;\r\n  let birthday = person.birthday\r\n    .split(regex)\r\n    .filter((item) => !regex.test(item));\r\n  if (birthday[0].length !== 4) {\r\n    birthday = birthday.reverse();\r\n  }\r\n  // Creates Date object with year, month and day values.\r\n  const date = new Date(birthday[0], birthday[1], birthday[2]);\r\n  var difference = Date.now() - date.getTime();\r\n  var age_dt = new Date(difference);\r\n  return Math.abs(age_dt.getUTCFullYear() - 1970);\r\n}\r\n\r\nexport default getPersonAge;\r\n","import './Person.scss';\r\nimport createFileURL from '../../helper//createFileURL';\r\nimport PersonOptions from '../PersonOptions/PersonOptions';\r\nimport { arrayBufferToBlob } from '../../utils/IndexedDB/indexedDBManagement';\r\nimport { useEffect, useState } from 'react';\r\nimport getPersonAge from '../../helper/getPersonAge';\r\nfunction Person(props) {\r\n  const {\r\n    person,\r\n    handleDeletePerson,\r\n    currentPersonID,\r\n    setCurrentPersonID,\r\n    selectPersonHandler,\r\n  } = props;\r\n  const { id, name, birthday, picture } = person;\r\n  const [optionsBtnStyle, setOptionsBtnStyle] = useState(null);\r\n  const [pictureURL, setPictureURL] = useState(null);\r\n  const [parentClass, setParentClass] = useState('');\r\n  const [personAge, setPersonAge] = useState(null);\r\n  const [tabindex, setTabindex] = useState(-1);\r\n  useEffect(() => {\r\n    let pictureURL = null;\r\n    try {\r\n      if (typeof picture !== 'string') {\r\n        const blob = arrayBufferToBlob(picture);\r\n        pictureURL = createFileURL(blob);\r\n      } else {\r\n        pictureURL = picture;\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n\r\n    setPictureURL((oldState) => (oldState = pictureURL));\r\n  }, [picture]);\r\n\r\n  useEffect(() => {\r\n    let parentClassName =\r\n      currentPersonID === id ? 'person person--highlighted' : 'person';\r\n    setParentClass(parentClassName);\r\n  }, [currentPersonID, id]);\r\n\r\n  useEffect(() => {\r\n    setPersonAge(getPersonAge(person));\r\n  }, [person]);\r\n\r\n  useEffect(() => {\r\n    const mql = window.matchMedia('(max-width: 769px)');\r\n    if (mql.matches) setTabindex(0);\r\n  }, [tabindex]);\r\n\r\n  const handleClick = () => {\r\n    const mql = window.matchMedia('(max-width: 769px)');\r\n    if (mql.matches) selectPersonHandler(id);\r\n  };\r\n\r\n  const keyPressHandler = (e) => {\r\n    if (e.key === 'Enter') selectPersonHandler(id);\r\n  };\r\n  const handleMouseEnter = (e) => {\r\n    const target = e.target.closest('button');\r\n    selectPersonHandler(id);\r\n    const style = { height: '50px', width: '30px' };\r\n    setOptionsBtnStyle(style);\r\n    const handleMouseLeave = (e) => {\r\n      const relatedTarget = e.relatedTarget;\r\n      if (relatedTarget && !relatedTarget.classList.contains('person-options-list__item')) {\r\n        setCurrentPersonID(null);\r\n        setOptionsBtnStyle(null);\r\n        target.removeEventListener('mouseleave', handleMouseLeave);\r\n      }\r\n    };\r\n    target.addEventListener('mouseleave', handleMouseLeave);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={parentClass}\r\n      onKeyPress={keyPressHandler}\r\n      onClick={handleClick}\r\n      tabIndex={tabindex}\r\n    >\r\n      <button\r\n        className=\"person__dropdown-btn\"\r\n        onMouseEnter={handleMouseEnter}\r\n        style={optionsBtnStyle}\r\n      >\r\n        <i className=\"fa fa-ellipsis-h\" aria-hidden=\"true\"></i>\r\n      </button>\r\n      {currentPersonID === id && (\r\n        <PersonOptions\r\n          currentPersonID={currentPersonID}\r\n          setCurrentPersonID={setCurrentPersonID}\r\n          handleDeletePerson={handleDeletePerson}\r\n        />\r\n      )}\r\n      <div className=\"person-img-container\">\r\n        <img\r\n          className=\"person-img-container__img\"\r\n          src={pictureURL}\r\n          alt={name}\r\n        />\r\n      </div>\r\n      <div className=\"person-info\">\r\n        <p className=\"person-info__name\">{name}</p>\r\n        <p className=\"person-info__birthday\">{birthday}</p>\r\n      </div>\r\n      <div className=\"person-age-container\">\r\n        <p className=\"person-age-container__title\">Age:</p>\r\n        <p className=\"person-age-container__age\">{personAge}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Person;\r\n","import './EmptyBox.scss';\r\nfunction EmptyBox({ toggleAddPersonUIHandlerForLargerScreen }) {\r\n  const handleClick = (e) => {\r\n    toggleAddPersonUIHandlerForLargerScreen(e);\r\n  };\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.key === 'Enter') toggleAddPersonUIHandlerForLargerScreen(e);\r\n  };\r\n  return (\r\n    <div\r\n      className=\"empty-box\"\r\n      tabIndex={0}\r\n      onClick={handleClick}\r\n      onKeyDown={handleKeyDown}\r\n    >\r\n      <div className=\"empty-box__icon-container\">\r\n        <i className=\"fa fa-plus empty-box__add-icon\" aria-hidden=\"true\"></i>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EmptyBox;\r\n","import { useContext } from 'react';\r\nimport { AppContext } from '../../context/AppContext/AppContext';\r\nimport findPersonByID from '../../helper/findPersonByID';\r\nimport './DeletePersonDialog.scss';\r\nfunction DeletePersonDialog(props) {\r\n  const {\r\n    setShowDeletePersonDialog,\r\n    removeItem,\r\n    deletionUserID,\r\n    setCurrentPersonID,\r\n  } = props;\r\n  const { backgroundState, state } = useContext(AppContext);\r\n  const [, setShowBackground] = backgroundState;\r\n  const deleteBtnClickHandler = (e) => {\r\n    e.stopPropagation();\r\n    const btnText = e.target.textContent;\r\n    if (btnText === 'Yes') {\r\n      removeItem(deletionUserID);\r\n    }\r\n\r\n    setShowDeletePersonDialog(false);\r\n    setShowBackground(false);\r\n    setCurrentPersonID(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"delete-person-dialog\">\r\n      <p className=\"delete-person-dialog__text\">\r\n        {` Are you really want to delete ${\r\n          findPersonByID(state.people, deletionUserID).name\r\n        }?`}\r\n      </p>\r\n      <div className=\"delete-person-dialog-controls\">\r\n        <button\r\n          className=\"delete-person-dialog-controls__btn\"\r\n          onClick={deleteBtnClickHandler}\r\n          autoFocus\r\n        >\r\n          Yes\r\n        </button>\r\n        <button\r\n          className=\"delete-person-dialog-controls__btn delete-person-dialog-controls__btn--no-margin\"\r\n          onClick={deleteBtnClickHandler}\r\n        >\r\n          No\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DeletePersonDialog;\r\n","export default __webpack_public_path__ + \"static/media/no-picture.2fda6558.png\";","const validatePicture = (picture) => {\r\n  try {\r\n    if (typeof picture === 'string') return true;\r\n    const pictureType = picture.type;\r\n    return (\r\n      // If user doesn't choose any picture, picture will be \"no-picture.png\" (URL as string).\r\n      pictureType === 'image/jpeg' || pictureType === 'image/png' || picture instanceof ArrayBuffer\r\n    );\r\n  } catch (err) {\r\n    console.log(err);\r\n    return false;\r\n  }\r\n};\r\n\r\nexport default validatePicture;\r\n","import { useContext, useEffect, useRef } from 'react';\r\nimport validatePicture from '../../helper/validatePicture';\r\nimport { AppContext } from '../../context/AppContext/AppContext';\r\nimport './PictureInput.scss';\r\nfunction PictureInput({ setDidUserUploadPicture, setCurrentPicture }) {\r\n  const { dispatch } = useContext(AppContext);\r\n  const label = useRef(null);\r\n  const fileInputHandler = (e) => {\r\n    const picture = e.target.files[0];\r\n    if (validatePicture(picture)) {\r\n      setDidUserUploadPicture(true);\r\n      setCurrentPicture(picture);\r\n    } else {\r\n      dispatch({ type: 'INVALID_FILE_TYPE' });\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    label.current.focus();\r\n  }, []);\r\n\r\n  const onKeyDown = (e) => {\r\n    if (e.key === 'Enter') label.current.click();\r\n  };\r\n\r\n  return (\r\n    <div className=\"picture-input-container\">\r\n      <label\r\n        htmlFor=\"picture\"\r\n        className=\"picture-input-container__label\"\r\n        tabIndex={0}\r\n        ref={label}\r\n        onKeyDown={onKeyDown}\r\n      >\r\n        <i\r\n          className=\"fas fa-camera picture-input-container__icon\"\r\n          aria-hidden={true}\r\n        ></i>\r\n      </label>\r\n      <input\r\n        id=\"picture\"\r\n        type=\"file\"\r\n        className=\"picture-input-container__picture\"\r\n        accept=\"image/png, image/jpeg\"\r\n        onChange={fileInputHandler}\r\n        hidden={true}\r\n      ></input>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PictureInput;\r\n","function testDateWithCommonFormat(date) {\r\n  const regex = /(\\d\\d)(\\.|-|\\/)(\\d\\d)(\\.|-|\\/)(\\d\\d\\d\\d)/;\r\n  const result = regex.test(date);\r\n  return { result, regex };\r\n}\r\n\r\nfunction testDateWithUncommonFormat(date) {\r\n  const regex = /(\\d\\d\\d\\d)(\\.|-|\\/)(\\d\\d)(\\.|-|\\/)(\\d\\d)/;\r\n  const result = regex.test(date);\r\n  return { result, regex };\r\n}\r\n\r\nexport { testDateWithCommonFormat, testDateWithUncommonFormat };\r\n","import { testDateWithCommonFormat, testDateWithUncommonFormat } from './dateFormatValidations';\r\nimport { dayValidation, monthValidation, yearValidation } from './dateValueValidations';\r\nimport validatePicture from './validatePicture';\r\n\r\nconst validatePersonData = (name, date, picture) => {\r\n  if (name.length <= 0) return 'INVALID_NAME';\r\n  else if (!dateValidation(date)) return 'INVALID_DATE';\r\n  else if (!dayValidation(date)) return 'INVALID_DAY';\r\n  else if (!monthValidation(date)) return 'INVALID_MONTH';\r\n  else if (!yearValidation(date)) return 'INVALID_YEAR';\r\n  else if (!validatePicture(picture)) return 'INVALID_FILE_TYPE';\r\n  return true;\r\n};\r\n\r\nfunction dateValidation(date) {\r\n  return testDateWithCommonFormat(date).result || testDateWithUncommonFormat(date).result;\r\n}\r\n\r\n\r\nexport default validatePersonData;\r\n","import { testDateWithCommonFormat } from './dateFormatValidations';\r\n\r\nfunction dayValidation(date) {\r\n  const { result } = testDateWithCommonFormat(date);\r\n  const dayValue = result ? +date.slice(0, 2) : +date.slice(-2);\r\n  return dayValue <= 31 && dayValue > 0;\r\n}\r\n\r\nfunction monthValidation(date) {\r\n  const { result } = testDateWithCommonFormat(date);\r\n  const monthValue = result ? +date.slice(3, 5) : +date.slice(5, 7);\r\n  return monthValue <= 12 && monthValue > 0;\r\n}\r\n\r\nfunction yearValidation(date) {\r\n  const { result } = testDateWithCommonFormat(date);\r\n  const yearValue = result ? +date.slice(-4) : +date.slice(0, 4);\r\n  const currentYear = new Date().getFullYear();\r\n  return yearValue <= currentYear && yearValue > 1000;\r\n}\r\n\r\nexport { dayValidation, monthValidation, yearValidation };\r\n","import './AddPersonUIControls.scss';\r\nfunction AddPersonUIControls({ addPersonHandler }) {\r\n  return (\r\n    <div className=\"add-person-ui-controls\">\r\n      <button\r\n        className=\"add-person-ui-controls__add-btn\"\r\n        onClick={() => {\r\n          addPersonHandler();\r\n        }}\r\n      >\r\n        <i\r\n          className=\"fa fa-plus-circle add-person-ui-controls__icon\"\r\n          aria-hidden=\"true\"\r\n        ></i>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddPersonUIControls;\r\n","import './AddPersonUIInfo.scss';\r\n\r\nfunction AddPersonUIINfo(props) {\r\n  const { nameContainer, dateContainer, name, birthday } = props;\r\n\r\n  return (\r\n    <div className=\"add-person-ui-info-container\">\r\n      <input\r\n        type=\"text\"\r\n        className=\"add-person-ui-info-container__name\"\r\n        ref={nameContainer}\r\n        maxLength=\"15\"\r\n        placeholder=\"Name\"\r\n        defaultValue={name || ''}\r\n      />\r\n      <input\r\n        type=\"text\"\r\n        className=\"add-person-ui-info-container__birthday\"\r\n        ref={dateContainer}\r\n        defaultValue={birthday || ''}\r\n        maxLength=\"10\"\r\n        placeholder=\"dd/mm/yyyy\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddPersonUIINfo;\r\n","import './PersonImgContainer.scss';\r\nfunction PersonImgContainer({ createFileURL, currentPicture, nameContainer }) {\r\n  return (\r\n    <div className=\"person-img-container\">\r\n      <img\r\n        className=\"person-img-container__img\"\r\n        src={createFileURL(currentPicture)}\r\n        alt={nameContainer.current.value}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PersonImgContainer;\r\n","import { useContext, useRef, useState } from 'react';\r\nimport { AppContext } from '../../context/AppContext/AppContext';\r\nimport './AddPersonUI.scss';\r\nimport blankImg from '../../assets/no-picture.png';\r\nimport {\r\n  putItemToIDB,\r\n  blobToArrayBuffer,\r\n} from '../../utils/IndexedDB/indexedDBManagement';\r\nimport PictureInput from '../PictureInput/PictureInput';\r\nimport createFileURL from '../../helper/createFileURL';\r\nimport validatePersonData from '../../helper/validatePersonData';\r\nimport AddPersonUIControls from '../AddPersonUIControls/AddPersonUIControls';\r\nimport AddPersonUIINfo from '../AddPersonUIInfo/AddPersonUIInfo';\r\nimport PersonImgContainer from '../PersonImgContainer/PersonImgContainer';\r\nfunction AddPersonUI({ setShowBackground, toggleAddPersonUI }) {\r\n  const { state, dispatch } = useContext(AppContext);\r\n  const [didUserUploadPicture, setDidUserUploadPicture] = useState(false);\r\n  const [currentPicture, setCurrentPicture] = useState(null);\r\n  const nameContainer = useRef(null);\r\n  const dateContainer = useRef(null);\r\n  const addPersonHandler = async () => {\r\n    let name = nameContainer.current.value;\r\n    const date = dateContainer.current.value;\r\n    let picture = currentPicture\r\n      ? await blobToArrayBuffer(currentPicture)\r\n      : blankImg;\r\n    const validationResult = validatePersonData(name, date, picture);\r\n    switch (validationResult) {\r\n      case 'INVALID_NAME':\r\n      case 'INVALID_DATE':\r\n      case 'INVALID_DAY':\r\n      case 'INVALID_MONTH':\r\n      case 'INVALID_YEAR':\r\n      case 'INVALID_FILE_TYPE':\r\n        dispatch({ type: validationResult });\r\n        break;\r\n      default:\r\n        addPerson(name, date, picture);\r\n        toggleAddPersonUI();\r\n        setShowBackground(false);\r\n        break;\r\n    }\r\n  };\r\n\r\n  const addPerson = (name, birthday, picture) => {\r\n    name = name.charAt(0).toUpperCase() + name.slice(1);\r\n    const newPerson = createNewPerson(name, birthday, picture);\r\n    dispatch({ type: 'ADD_PERSON', payload: [...state.people, newPerson] });\r\n    putItemToIDB(newPerson, 'userDatabase', '1', 'people');\r\n  };\r\n\r\n  const createNewPerson = (name, birthday, picture) => {\r\n    const newPerson = {\r\n      id: new Date().getTime().toString(),\r\n      name: name,\r\n      birthday: birthday,\r\n      picture: picture,\r\n      inFavourites: false,\r\n    };\r\n    return newPerson;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"add-person-ui\">\r\n        {didUserUploadPicture ? (\r\n          <PersonImgContainer\r\n            createFileURL={createFileURL}\r\n            currentPicture={currentPicture}\r\n            nameContainer={nameContainer}\r\n          />\r\n        ) : (\r\n          <PictureInput\r\n            setDidUserUploadPicture={setDidUserUploadPicture}\r\n            currentPicture={currentPicture}\r\n            setCurrentPicture={setCurrentPicture}\r\n          />\r\n        )}\r\n        <AddPersonUIINfo\r\n          nameContainer={nameContainer}\r\n          dateContainer={dateContainer}\r\n        />\r\n        <AddPersonUIControls addPersonHandler={addPersonHandler} />\r\n        <button\r\n          className=\"add-person-ui__close-btn\"\r\n          onClick={toggleAddPersonUI}\r\n        >\r\n          <i className=\"fas fa-times\"></i>\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AddPersonUI;\r\n","import './EditPersonUIControls.scss';\r\nfunction EditPersonUIControls({ handleAcceptClick }) {\r\n  return (\r\n    <div className=\"edit-person-ui-controls\">\r\n      <button\r\n        className=\"edit-person-ui-controls__accept-btn\"\r\n        onClick={(e)=>handleAcceptClick(e)}\r\n      >\r\n        <i\r\n          className=\"fas fa-check-circle edit-person-ui-controls__icon\"\r\n          aria-hidden={true}\r\n        ></i>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EditPersonUIControls;\r\n","import AddPersonUIInfo from '../AddPersonUIInfo/AddPersonUIInfo';\r\nimport EditPersonUIControls from '../EditPersonUIControls/EditPersonUIControls';\r\nimport PictureInput from '../PictureInput/PictureInput';\r\nimport { useContext, useEffect, useRef, useState } from 'react';\r\nimport { AppContext } from '../../context/AppContext/AppContext';\r\nimport findPersonByID from '../../helper/findPersonByID';\r\nimport './EditPersonUI.scss';\r\nimport {\r\n  blobToArrayBuffer,\r\n  putItemToIDB,\r\n} from '../../utils/IndexedDB/indexedDBManagement';\r\nimport blankImg from '../../assets/no-picture.png';\r\nimport PersonImgContainer from '../PersonImgContainer/PersonImgContainer';\r\nimport createFileURL from '../../helper/createFileURL';\r\nimport validatePersonData from '../../helper/validatePersonData';\r\nfunction EditPersonUI({\r\n  currentPersonID,\r\n  setShowEditPersonUI,\r\n  setShowBackground,\r\n}) {\r\n  const defaultState = currentPersonID;\r\n  const nameContainer = useRef(null);\r\n  const dateContainer = useRef(null);\r\n  const { state, dispatch } = useContext(AppContext);\r\n  const [currentPersonIDForEdit] = useState(defaultState);\r\n  const [currentPicture, setCurrentPicture] = useState(null);\r\n  const [didUserUploadPicture, setDidUserUploadPicture] = useState(false);\r\n  const person = findPersonByID(state.people, currentPersonIDForEdit);\r\n  const handleAcceptClick = async (e) => {\r\n    e.stopPropagation();\r\n    const newName = nameContainer.current.value;\r\n    const newBirthday = dateContainer.current.value;\r\n    const picture = didUserUploadPicture ? currentPicture : person.picture;\r\n    let editedPerson = null;\r\n    try {\r\n      editedPerson = await createEditedPerson(newName, newBirthday, picture);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n    if (editedPerson) {\r\n      const filteredPeople = state.people.filter(\r\n        (person) => person.id !== currentPersonIDForEdit\r\n      );\r\n\r\n      const newPeople = [...filteredPeople, editedPerson];\r\n      putItemToIDB(editedPerson, 'userDatabase', '1', 'people');\r\n      dispatch({\r\n        type: 'EDIT_PERSON',\r\n        payload: {\r\n          people: newPeople,\r\n          name: editedPerson.name,\r\n        },\r\n      });\r\n      setShowBackground(false);\r\n      setShowEditPersonUI(false);\r\n    } else {\r\n      // !!! Add notification\r\n      console.log('EDIT PERSON ERROR!');\r\n    }\r\n  };\r\n\r\n  const createEditedPerson = async (name, birthday, picture) => {\r\n    const editedPerson = {\r\n      ...person,\r\n      id: currentPersonIDForEdit,\r\n      name: name,\r\n      birthday: birthday,\r\n      picture: picture,\r\n    };\r\n    picture = currentPicture\r\n      ? await blobToArrayBuffer(currentPicture)\r\n      : blankImg;\r\n    const validationResult = validatePersonData(name, birthday, picture);\r\n    switch (validationResult) {\r\n      case 'INVALID_NAME':\r\n      case 'INVALID_DATE':\r\n      case 'INVALID_DAY':\r\n      case 'INVALID_MONTH':\r\n      case 'INVALID_YEAR':\r\n      case 'INVALID_FILE_TYPE':\r\n        dispatch({ type: validationResult });\r\n        break;\r\n      default:\r\n        return editedPerson;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleKeyDown = (e) => {\r\n      if (e.key === 'Escape') setShowEditPersonUI(false);\r\n    };\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"edit-person-ui\">\r\n      {didUserUploadPicture ? (\r\n        <PersonImgContainer\r\n          createFileURL={createFileURL}\r\n          currentPicture={currentPicture}\r\n          nameContainer={nameContainer}\r\n        />\r\n      ) : (\r\n        <PictureInput\r\n          setDidUserUploadPicture={setDidUserUploadPicture}\r\n          currentPicture={currentPicture}\r\n          setCurrentPicture={setCurrentPicture}\r\n        />\r\n      )}\r\n\r\n      <AddPersonUIInfo\r\n        name={person.name}\r\n        birthday={person.birthday}\r\n        currentPersonID={currentPersonID}\r\n        nameContainer={nameContainer}\r\n        dateContainer={dateContainer}\r\n      />\r\n      <EditPersonUIControls handleAcceptClick={handleAcceptClick} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EditPersonUI;\r\n","import { useContext, useEffect } from 'react';\r\nimport { AppContext } from '../../context/AppContext/AppContext';\r\nimport './Notification.scss';\r\n\r\nfunction Notification({ isTimePassed, setIsTimePassed }) {\r\n  const { state, dispatch } = useContext(AppContext);\r\n\r\n  const clearNotification = () => {\r\n    dispatch({ type: 'REMOVE_MODAL' });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isTimePassed) {\r\n      setIsTimePassed(false);\r\n      setTimeout(notificationHandler, 2500);\r\n    }\r\n  });\r\n  const notificationHandler = () => {\r\n    clearNotification();\r\n    setIsTimePassed(true);\r\n  };\r\n  return <p className=\"notification\">{state.notificationContent}</p>;\r\n}\r\n\r\nexport default Notification;\r\n","function reformatDateSeperator(date) {\r\n  return date.replace(/(\\.|-|\\/)/g, '.');\r\n}\r\n\r\nexport default reformatDateSeperator;\r\n","import {\r\n  testDateWithCommonFormat,\r\n  testDateWithUncommonFormat,\r\n} from './dateFormatValidations';\r\nimport reformatDateSeperator from './reformatDate';\r\n\r\nfunction sortingLogic(args) {\r\n  const {\r\n    peopleList,\r\n    dispatch,\r\n    nextSort,\r\n    setPeopleList,\r\n    showFavourites,\r\n  } = args;\r\n  const people = peopleList;\r\n  if (nextSort === 'sortByAge') {\r\n    sortByAge(people, dispatch, setPeopleList, showFavourites);\r\n  } else if (nextSort === 'sortByMonth') {\r\n    sortByMonth(people, dispatch, setPeopleList, showFavourites);\r\n  } else if (nextSort === 'sortByName') {\r\n    sortByName(people, dispatch, setPeopleList, showFavourites);\r\n  }\r\n}\r\n\r\n// People sorting could be merged into a single function in the future.\r\nfunction sortByAge(oldPeople, dispatch, setPeopleList, showFavourites) {\r\n  const sortedPeople = oldPeople.sort((prev, cur) => {\r\n    let newPrevBirthday = prev.birthday.slice();\r\n    let newCurBirthday = cur.birthday.slice();\r\n    [newPrevBirthday, newCurBirthday] = validateAndReformatDate(\r\n      newPrevBirthday,\r\n      newCurBirthday\r\n    );\r\n    const [prevDay, prevMonth, prevYear] = newPrevBirthday.split('.');\r\n    const [curDay, curMonth, curYear] = newCurBirthday.split('.');\r\n    const prevDateInMs = new Date(prevYear, prevMonth, prevDay).getTime();\r\n    const curDateInMs = new Date(curYear, curMonth, curDay).getTime();\r\n    return prevDateInMs - curDateInMs;\r\n  });\r\n  if (showFavourites) {\r\n    const favouritePeople = sortedPeople.filter(\r\n      (person) => person.inFavourites\r\n    );\r\n    setPeopleList(favouritePeople);\r\n  } else {\r\n    setPeopleList(sortedPeople);\r\n  }\r\n  dispatch({ type: 'SORT_PEOPLE_BY_AGE' });\r\n}\r\n\r\nfunction sortByMonth(oldPeople, dispatch, setPeopleList, showFavourites) {\r\n  const sortedPeople = oldPeople.sort((prev, cur) => {\r\n    let newPrevBirthday = prev.birthday.slice();\r\n    let newCurBirthday = cur.birthday.slice();\r\n    [newPrevBirthday, newCurBirthday] = validateAndReformatDate(\r\n      newPrevBirthday,\r\n      newCurBirthday\r\n    );\r\n    const [prevDay, prevMonth] = newPrevBirthday.split('.');\r\n    const [curDay, curMonth] = newCurBirthday.split('.');\r\n    const prevDatePoint = +prevDay + +prevMonth * 10;\r\n    const curDatePoint = +curDay + +curMonth * 10;\r\n    return curDatePoint - prevDatePoint;\r\n  });\r\n  if (showFavourites) {\r\n    const favouritePeople = sortedPeople.filter(\r\n      (person) => person.inFavourites\r\n    );\r\n    setPeopleList(favouritePeople);\r\n  } else {\r\n    setPeopleList(sortedPeople);\r\n  }\r\n  dispatch({ type: 'SORT_PEOPLE_BY_MONTH' });\r\n}\r\n\r\nfunction sortByName(oldPeople, dispatch, setPeopleList, showFavourites) {\r\n  const sortedPeople = oldPeople.sort((prev, cur) => {\r\n    const [prevName] = prev.name.toLowerCase();\r\n    const [curName] = cur.name.toLowerCase();\r\n    return prevName.charCodeAt(0) - curName.charCodeAt(0);\r\n  });\r\n  if (showFavourites) {\r\n    const favouritePeople = sortedPeople.filter(\r\n      (person) => person.inFavourites\r\n    );\r\n    setPeopleList(favouritePeople);\r\n  } else {\r\n    setPeopleList(sortedPeople);\r\n  }\r\n  dispatch({ type: 'SORT_PEOPLE_BY_NAME' });\r\n}\r\n\r\nfunction validateAndReformatDate(newPrevBirthday, newCurBirthday) {\r\n  const { regex } = testDateWithUncommonFormat(newPrevBirthday);\r\n\r\n  newPrevBirthday = testDateWithCommonFormat(newPrevBirthday).result\r\n    ? newPrevBirthday\r\n    : newPrevBirthday.replace(regex, '$5.$3.$1');\r\n\r\n  newCurBirthday = testDateWithCommonFormat(newCurBirthday).result\r\n    ? newCurBirthday\r\n    : newCurBirthday.replace(regex, '$5.$3.$1');\r\n\r\n  if (/-|\\//.test(newPrevBirthday)) {\r\n    newPrevBirthday = reformatDateSeperator(newPrevBirthday);\r\n  }\r\n  if (/-|\\//.test(newCurBirthday)) {\r\n    newCurBirthday = reformatDateSeperator(newCurBirthday);\r\n  }\r\n  return [newPrevBirthday, newCurBirthday];\r\n}\r\n\r\nexport default sortingLogic;\r\n","import React, { useContext } from 'react';\r\nimport { AppContext } from '../../context/AppContext/AppContext';\r\nimport PeopleListContext from '../../context/PeopleListContext/PeopleListContext';\r\nimport sortingLogic from '../../helper/sortingLogic';\r\nimport './SortingSelectbox.scss';\r\nfunction SortingSelectbox() {\r\n  const { dispatch, favState, sortingState } = useContext(AppContext);\r\n  const [peopleList, setPeopleList] = useContext(PeopleListContext);\r\n  const [showFavourites] = favState;\r\n  const [sortState, setSortState] = sortingState;\r\n\r\n  const handleChange = (e) => {\r\n    const value = e.target.value;\r\n    const nextSort = formatValue(value);\r\n\r\n    const args = {\r\n      peopleList,\r\n      setPeopleList,\r\n      nextSort,\r\n      showFavourites,\r\n      dispatch,\r\n    };\r\n    sortingLogic(args);\r\n    setSortState(nextSort);\r\n  };\r\n\r\n\r\n\r\n  const formatValue = (value) => {\r\n    switch (value) {\r\n      case 'sort-by-name':\r\n        return 'sortByName';\r\n      case 'sort-by-age':\r\n        return 'sortByAge';\r\n      case 'sort-by-month':\r\n        return 'sortByMonth';\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n  return (\r\n    <select className=\"sorting-selectbox\" onChange={handleChange} defaultValue={sortState}>\r\n      <option\r\n        id=\"test\"\r\n        value=\"sort-by-name\"\r\n        className=\"sorting-selectbox__option\"\r\n      >\r\n        Sort by name\r\n      </option>\r\n      <option value=\"sort-by-age\" className=\"sorting-selectbox__option\">\r\n        Sort by age\r\n      </option>\r\n      <option value=\"sort-by-month\" className=\"sorting-selectbox__option\">\r\n        Sort by month\r\n      </option>\r\n    </select>\r\n  );\r\n}\r\n\r\nexport default SortingSelectbox;\r\n","import { useContext, useState, useEffect } from 'react';\r\nimport './PersonList.scss';\r\nimport Person from '../Person/Person';\r\nimport EmptyBox from '../EmptyBox/EmptyBox';\r\nimport { AppContext } from '../../context/AppContext/AppContext';\r\nimport PeopleListContext from '../../context/PeopleListContext/PeopleListContext';\r\nimport DeletePersonDialog from '../DeletePersonDialog/DeletePersonDialog';\r\nimport { removeDataFromIDBStore } from '../../utils/IndexedDB/indexedDBManagement';\r\nimport AddPersonUI from '../AddPersonUI/AddPersonUI';\r\nimport EditPersonUI from '../EditPersonUI/EditPersonUI';\r\nimport Notification from '../Notification/Notification';\r\nimport filterFavouritePeople from '../../helper/filterFavouritePeople';\r\nimport SortingSelectbox from '../SortingSelectbox/SortingSelectbox';\r\n\r\nfunction PersonList(props) {\r\n  const { currentPersonID, setCurrentPersonID } = props;\r\n  const {\r\n    state,\r\n    dispatch,\r\n    favState,\r\n    backgroundState,\r\n    showEditPersonUIState,\r\n    showAddPersonUIState,\r\n  } = useContext(AppContext);\r\n  const [peopleList, setPeopleList] = useContext(PeopleListContext);\r\n  const [showAddPersonUI, setShowAddPersonUI] = showAddPersonUIState;\r\n  const [showFavourites] = favState;\r\n  const [showBackground, setShowBackground] = backgroundState;\r\n  const [showEditPersonUI, setShowEditPersonUI] = showEditPersonUIState;\r\n  const [showDeletePersonDialog, setShowDeletePersonDialog] = useState(false);\r\n  const [deletionUserID, setDeletionUserID] = useState(null);\r\n  const [isTimePassed, setIsTimePassed] = useState(true);\r\n  const handleDeletePerson = (e, id) => {\r\n    const mql = window.matchMedia('(min-width: 768px)');\r\n    if (mql.matches) {\r\n      setCurrentPersonID(null);\r\n    }\r\n    e.stopPropagation();\r\n    setShowDeletePersonDialog(true);\r\n    setDeletionUserID(id);\r\n  };\r\n  const toggleAddPersonUI = () => {\r\n    setShowAddPersonUI(() => !showAddPersonUI);\r\n  };\r\n\r\n  const removeItem = (id) => {\r\n    const oldPeople = state.people;\r\n    let newPeople = oldPeople.filter((person) => person.id !== id);\r\n    removeDataFromIDBStore('userDatabase', '1', 'people', id);\r\n    dispatch({\r\n      type: 'REMOVE_PERSON',\r\n      payload: { people: newPeople },\r\n    });\r\n\r\n    setShowBackground(false);\r\n  };\r\n\r\n  const selectPersonHandler = (id) => {\r\n    const mql = window.matchMedia('(max-width: 768px)');\r\n    if (mql.matches) {\r\n      setShowBackground(true);\r\n    }\r\n\r\n    if (currentPersonID !== id) {\r\n      setCurrentPersonID(id);\r\n    }\r\n  };\r\n\r\n  const toggleAddPersonUIHandlerForLargerScreen = () => {\r\n    setShowAddPersonUI(!showAddPersonUI);\r\n  };\r\n\r\n  const keyHandler = (e) => {\r\n    if (e.key === 'Escape') {\r\n      setCurrentPersonID(null);\r\n      setShowBackground(false);\r\n      setShowAddPersonUI(() => false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('keyup', keyHandler);\r\n    return () => {\r\n      window.removeEventListener('keyup', keyHandler);\r\n    };\r\n  });\r\n\r\n  useEffect(() => {\r\n    const people = showFavourites\r\n      ? filterFavouritePeople(state.people)\r\n      : state.people;\r\n    setPeopleList(people);\r\n  }, [showFavourites, state.people, setPeopleList]);\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      // Sets several states according to the screen size, and active UI's (media queries weren't enough).\r\n      const mql = window.matchMedia('(min-width: 768px)');\r\n      if (mql.matches && showDeletePersonDialog) {\r\n        setCurrentPersonID(null);\r\n      }\r\n      if (\r\n        mql.matches &&\r\n        (showAddPersonUI || currentPersonID) &&\r\n        showBackground\r\n      ) {\r\n        setShowBackground(() => false);\r\n      } else if (\r\n        !mql.matches &&\r\n        (showAddPersonUI || currentPersonID) &&\r\n        !showBackground\r\n      ) {\r\n        setShowBackground(() => true);\r\n      }\r\n    };\r\n    window.addEventListener('resize', handleResize);\r\n    return () => {\r\n      window.removeEventListener('resize', handleResize);\r\n    };\r\n  }, [\r\n    showBackground,\r\n    setShowBackground,\r\n    showAddPersonUI,\r\n    currentPersonID,\r\n    setCurrentPersonID,\r\n    showDeletePersonDialog,\r\n  ]);\r\n  return (\r\n    <>\r\n      <SortingSelectbox />\r\n\r\n      {state.isNotificationOpen && (\r\n        <Notification\r\n          isTimePassed={isTimePassed}\r\n          setIsTimePassed={setIsTimePassed}\r\n        />\r\n      )}\r\n      {showDeletePersonDialog && (\r\n        <DeletePersonDialog\r\n          setShowDeletePersonDialog={setShowDeletePersonDialog}\r\n          removeItem={removeItem}\r\n          deletionUserID={deletionUserID}\r\n          setCurrentPersonID={setCurrentPersonID}\r\n        />\r\n      )}\r\n      <ul className=\"person-list\">\r\n        {peopleList &&\r\n          peopleList.map((person) => (\r\n            <Person\r\n              key={person.id}\r\n              person={person}\r\n              handleDeletePerson={handleDeletePerson}\r\n              currentPersonID={currentPersonID}\r\n              setCurrentPersonID={setCurrentPersonID}\r\n              selectPersonHandler={selectPersonHandler}\r\n              setShowBackground={setShowBackground}\r\n            />\r\n          ))}\r\n        {(showAddPersonUI && (\r\n          <AddPersonUI\r\n            setShowBackground={setShowBackground}\r\n            toggleAddPersonUI={toggleAddPersonUI}\r\n          />\r\n        )) || (\r\n          <EmptyBox\r\n            toggleAddPersonUIHandlerForLargerScreen={\r\n              toggleAddPersonUIHandlerForLargerScreen\r\n            }\r\n          />\r\n        )}\r\n      </ul>\r\n      {showEditPersonUI && (\r\n        <EditPersonUI\r\n          currentPersonID={currentPersonID}\r\n          setShowEditPersonUI={setShowEditPersonUI}\r\n          setShowBackground={setShowBackground}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PersonList;\r\n","import { useContext } from 'react';\r\nimport { AppContext } from '../../context/AppContext/AppContext';\r\nimport PersonList from '../PersonList/PersonList';\r\nimport './HomeMain.scss';\r\n\r\nfunction HomeMain(props) {\r\n  const { setShowUI } = props;\r\n  const { currentPersonID, setCurrentPersonID } = useContext(AppContext);\r\n\r\n  return (\r\n    <main className=\"home-main\">\r\n      <PersonList\r\n        currentPersonID={currentPersonID}\r\n        setCurrentPersonID={setCurrentPersonID}\r\n        setShowUI={setShowUI}\r\n      />\r\n    </main>\r\n  );\r\n}\r\nexport default HomeMain;\r\n","function handleSorting(sortState) {\r\n  switch (sortState) {\r\n    case 'sortByName':\r\n      return 'sortByAge';\r\n    case 'sortByAge':\r\n      return 'sortByMonth';\r\n    case 'sortByMonth':\r\n      return 'sortByName';\r\n    default:\r\n      break;\r\n  }\r\n}\r\n\r\nexport default handleSorting;\r\n","import { useContext } from 'react';\r\nimport './MobileNav.scss';\r\nimport { AppContext } from '../../context/AppContext/AppContext';\r\nimport sortingLogic from '../../helper/sortingLogic';\r\nimport PeopleListContext from '../../context/PeopleListContext/PeopleListContext';\r\nimport handleSorting from '../../helper/handleSorting';\r\n\r\nfunction MobileNav() {\r\n  const {\r\n    dispatch,\r\n    favState,\r\n    showAddPersonUIState,\r\n    backgroundState,\r\n    sortingState,\r\n  } = useContext(AppContext);\r\n  const [showAddPersonUI, setShowAddPersonUI] = showAddPersonUIState;\r\n  const [showFavourites, setShowFavourites] = favState;\r\n  const [showBackground, setShowBackground] = backgroundState;\r\n  const [sortState, setSortState] = sortingState;\r\n  const [peopleList, setPeopleList] = useContext(PeopleListContext);\r\n\r\n  const toggleAddPersonUI = () => {\r\n    setShowBackground(!showBackground);\r\n    setShowAddPersonUI(!showAddPersonUI);\r\n  };\r\n  const handleSortingClick = () => {\r\n    const nextSort = handleSorting(sortState);\r\n    const args = {\r\n      peopleList,\r\n      setPeopleList,\r\n      nextSort,\r\n      showFavourites,\r\n      dispatch,\r\n    };\r\n    sortingLogic(args);\r\n    setSortState(nextSort);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <nav className=\"mobile-nav\">\r\n        <button\r\n          className=\"mobile-nav__btn mobile-nav__btn--side\"\r\n          onClick={handleSortingClick}\r\n        >\r\n          <i className=\"fas fa-sort-amount-down\"></i>\r\n        </button>\r\n        <button className=\"mobile-nav__btn\" onClick={toggleAddPersonUI}>\r\n          <i className=\"fas fa-plus\"></i>\r\n        </button>\r\n\r\n        <button\r\n          className=\"mobile-nav__btn mobile-nav__btn--side\"\r\n          onClick={() => setShowFavourites(!showFavourites)}\r\n        >\r\n          <i className=\"fas fa-star\"></i>\r\n        </button>\r\n      </nav>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MobileNav;\r\n","import './DarkBackground.scss';\r\nimport { AppContext } from '../../context/AppContext/AppContext';\r\nimport { useEffect, useContext } from 'react';\r\nfunction DarkBackground() {\r\n  const {\r\n    showAddPersonUIState,\r\n    showEditPersonUIState,\r\n    backgroundState,\r\n    currentPersonID,\r\n    setCurrentPersonID,\r\n  } = useContext(AppContext);\r\n  const [showAddPersonUI, setShowAddPersonUI] = showAddPersonUIState;\r\n  const [showEditPersonUI, setShowEditPersonUI] = showEditPersonUIState;\r\n  const [showBackground, setShowBackground] = backgroundState;\r\n  const backgroundHandler = (e) => {\r\n    if (currentPersonID || showAddPersonUI || showEditPersonUI) {\r\n      e.stopPropagation();\r\n      setShowBackground(false);\r\n      setShowEditPersonUI(false);\r\n      setShowAddPersonUI(false);\r\n      setCurrentPersonID(null);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    showBackground\r\n      ? (document.body.style.overflow = 'hidden')\r\n      : (document.body.style.overflow = 'initial');\r\n  }, [showBackground]);\r\n  const className = showBackground\r\n    ? 'dark-background dark-background--visible'\r\n    : 'dark-background';\r\n  return <div className={className} onClick={backgroundHandler}></div>;\r\n}\r\n\r\nexport default DarkBackground;\r\n","import React from 'react';\r\nimport PeopleListContext from \"../context/PeopleListContext/PeopleListContext\";\r\nfunction PeopleListProvider(props) {\r\n  const [peopleList, setPeopleList] = React.useState(null);\r\n  return <PeopleListContext.Provider value={[peopleList, setPeopleList]} {...props} />;\r\n}\r\n\r\nexport default PeopleListProvider;\r\n","import { getDataFromIDBStore } from './IndexedDB/indexedDBManagement';\r\n\r\nasync function getData(database, version, store) {\r\n  try {\r\n    const data = await getDataFromIDBStore(database, version, store);\r\n    return data;\r\n  } catch (err) {\r\n    console.log(err);\r\n    return [];\r\n  }\r\n}\r\n\r\nexport default getData;\r\n","import getData from './data';\r\n\r\nasync function defaultState() {\r\n  const people = await getData('userDatabase', '1', 'people');\r\n  const defaultState = {\r\n    people: people,\r\n    isNotificationOpen: false,\r\n    notificationContext: '',\r\n  };\r\n  return defaultState;\r\n}\r\n\r\nexport default defaultState;\r\n","export const reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'ADD_PERSON':\r\n      return {\r\n        ...state,\r\n        people: action.payload,\r\n        isNotificationOpen: true,\r\n        notificationContent: 'Person has been added.',\r\n      };\r\n\r\n    case 'REMOVE_PERSON': {\r\n      return {\r\n        ...state,\r\n        people: action.payload.people,\r\n        isNotificationOpen: true,\r\n        notificationContent: 'Person has been deleted.',\r\n      };\r\n    }\r\n    case 'REMOVE_MODAL': {\r\n      return {\r\n        ...state,\r\n        isNotificationOpen: false,\r\n        notificationContent: '',\r\n      };\r\n    }\r\n    case 'INVALID_NAME': {\r\n      return {\r\n        ...state,\r\n        isNotificationOpen: true,\r\n        notificationContent: 'Name input must include at least one character.',\r\n      };\r\n    }\r\n    case 'INVALID_DATE': {\r\n      return {\r\n        ...state,\r\n        isNotificationOpen: true,\r\n        notificationContent:\r\n          'Please provide correct date format, (yyyy/mm/dd), or (dd/mm/yyyy) with any date seperators.',\r\n      };\r\n    }\r\n\r\n    case 'INVALID_DAY': {\r\n      return {\r\n        ...state,\r\n        isNotificationOpen: true,\r\n        notificationContent: 'Day value must be between 1 and 31 (inclusive).',\r\n      };\r\n    }\r\n    case 'INVALID_MONTH': {\r\n      return {\r\n        ...state,\r\n        isNotificationOpen: true,\r\n        notificationContent:\r\n          'Month value must be between 1 and 12 (inclusive).',\r\n      };\r\n    }\r\n    case 'INVALID_YEAR': {\r\n      return {\r\n        ...state,\r\n        isNotificationOpen: true,\r\n        notificationContent:\r\n          'Year value must be between 1000 and current year (inclusive).',\r\n      };\r\n    }\r\n    case 'SORT_PEOPLE_BY_AGE': {\r\n      return {\r\n        ...state,\r\n        isNotificationOpen: true,\r\n        notificationContent: 'SORT BY AGE',\r\n      };\r\n    }\r\n    case 'SORT_PEOPLE_BY_MONTH': {\r\n      return {\r\n        ...state,\r\n        isNotificationOpen: true,\r\n        notificationContent: 'SORT BY MONTH',\r\n      };\r\n    }\r\n    case 'SORT_PEOPLE_BY_NAME': {\r\n      return {\r\n        ...state,\r\n        isNotificationOpen: true,\r\n        notificationContent: 'SORT BY NAME',\r\n      };\r\n    }\r\n    case 'FILTER_PEOPLE_BY_NAME': {\r\n      return {\r\n        ...state,\r\n        people: action.payload,\r\n        isNotificationOpen: false,\r\n        notificationContent: '',\r\n      };\r\n    }\r\n    case 'INITIAL_LOAD': {\r\n      return {\r\n        ...state,\r\n        people: action.payload.people,\r\n        isNotificationOpen: false,\r\n        notificationContent: '',\r\n      };\r\n    }\r\n    case 'INVALID_FILE_TYPE': {\r\n      return {\r\n        ...state,\r\n        isNotificationOpen: true,\r\n        notificationContent:\r\n          'Invalid file type. Please provide \".jpeg\", or \".png\" file for the picture.',\r\n      };\r\n    }\r\n    case 'ADD_FAVOURITE': {\r\n      const personName = action.payload.name;\r\n      return {\r\n        ...state,\r\n        isNotificationOpen: true,\r\n        notificationContent: `${personName} has been added to your favorites.`,\r\n        people: action.payload.people,\r\n      };\r\n    }\r\n    case 'REMOVE_FAVOURITE': {\r\n      const personName = action.payload.name;\r\n      return {\r\n        ...state,\r\n        isNotificationOpen: true,\r\n        notificationContent: `${personName} has been removed from your favorites.`,\r\n        people: action.payload.people,\r\n      };\r\n    }\r\n    case 'EDIT_PERSON': {\r\n      const personName = action.payload.name;\r\n      return {\r\n        ...state,\r\n        isNotificationOpen: true,\r\n        notificationContent: `${personName}'s information has been changed.`,\r\n        people: action.payload.people,\r\n      };\r\n    }\r\n    default: {\r\n      throw new Error(`Unhandled action type: ${action.type}`);\r\n    }\r\n  }\r\n};\r\n","import { useEffect, useReducer, useState } from 'react';\r\nimport { AppContext } from '../context/AppContext/AppContext';\r\nimport defaultState from '../utils/defaultState';\r\nimport { reducer } from '../utils/reducer';\r\n\r\nfunction AppProvider(props) {\r\n  const def = {\r\n    people: [],\r\n    isNotificationOpen: false,\r\n    notificationContent: '',\r\n  };\r\n  const [state, dispatch] = useReducer(reducer, def);\r\n  const [currentPersonID, setCurrentPersonID] = useState(null);\r\n  const showAddPersonUIState = useState(false);\r\n  const showEditPersonUIState = useState(false);\r\n  const backgroundState = useState(false);\r\n  const favState = useState(false);\r\n  const sortingState = useState('sortByName');\r\n  // Default state.\r\n  const getInitialData = async () => {\r\n    const data = await defaultState();\r\n    const people = data.people;\r\n\r\n    dispatch({\r\n      type: 'INITIAL_LOAD',\r\n      payload: { people: people },\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getInitialData();\r\n  }, []);\r\n  return (\r\n    <AppContext.Provider\r\n      value={{\r\n        state,\r\n        dispatch,\r\n        favState,\r\n        backgroundState,\r\n        showAddPersonUIState,\r\n        showEditPersonUIState,\r\n        currentPersonID,\r\n        setCurrentPersonID,\r\n        sortingState,\r\n      }}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport default AppProvider;\r\n","import AppHead from '../AppHead/AppHead';\r\nimport HomeMain from '../HomeMain/HomeMain';\r\nimport MobileNav from '../MobileNav/MobileNav';\r\nimport DarkBackground from '../DarkBackground/DarkBackground';\r\nimport PeopleListProvider from '../../providers/PeopleListProvider';\r\nimport AppProvider from '../../providers/AppProvider';\r\nfunction App() {\r\n  return (\r\n    <>\r\n      <AppProvider>\r\n        <DarkBackground />\r\n        <PeopleListProvider>\r\n          <AppHead />\r\n          <HomeMain />\r\n          <MobileNav />\r\n        </PeopleListProvider>\r\n      </AppProvider>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import ReactDOM from 'react-dom';\r\nimport App from './components/App/App';\r\nimport \"./index.scss\";\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}