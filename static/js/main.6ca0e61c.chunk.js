(this["webpackJsonpbirthday-reminder-app"]=this["webpackJsonpbirthday-reminder-app"]||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(10),c=n.n(a),o=n(2),s=n(1),i=n.n(s),u=(n(17),n(4)),l=n.n(u),p=n(5),d=(n(19),Object(s.createContext)(null)),b=Object(s.createContext)(null);var j=function(e,t){return e.filter((function(e){var n=e.name.toLowerCase();return t=t.toLowerCase(),n.includes(t)}))};var f=function(e){return e.filter((function(e){return e.inFavourites}))};var O=function(e){var t=e.setShowSearchBox,n=Object(s.useContext)(d),a=n.favState,c=n.state,i=Object(s.useContext)(b),u=Object(o.a)(i,2)[1],O=Object(o.a)(a,1)[0],h=Object(s.useRef)(null),v=function(){var e=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=h.current.value,m(t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(e){var t=O?f(c.people):c.people;if(t){var n=j(t,e);u(n)}else console.log("Data could not found!")},x=function(){var e=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"",t(!1),m("");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){var e=function(e){"Escape"===e.key&&x()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]),Object(r.jsxs)("div",{className:"search-box",children:[Object(r.jsx)("input",{className:"search-box__search-input",type:"search",placeholder:"Search by name",onChange:v,ref:h,autoFocus:!0}),Object(r.jsx)("button",{className:"search-box__close-btn",onClick:x,children:Object(r.jsx)("i",{className:"far fa-times-circle"})})]})};var h=function(){var e=Object(s.useContext)(d).favState,t=Object(o.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(!1),i=Object(o.a)(c,2),u=i[0],l=i[1];return Object(r.jsx)("header",{className:"app-head",children:Object(r.jsxs)("nav",{className:"app-head-nav",children:[u&&Object(r.jsx)(O,{setShowSearchBox:l})||Object(r.jsx)("button",{className:"app-head-nav__search-btn",onClick:function(){return l(!u)},children:Object(r.jsx)("i",{className:"fas fa-search app-head-nav__icon"})}),Object(r.jsx)("button",{className:"app-head-nav__fav-btn",onClick:function(){return!a(!n)},style:{color:n?" #dcd6f7":"#c9c2e8"},children:Object(r.jsx)("i",{className:"fa fa-star app-head-nav__icon","aria-hidden":"true"})})]})})};n(20),n(21);var v=function(e){if(e instanceof File||e instanceof Blob)return URL.createObjectURL(e);if("string"===typeof e&&(e.includes(".png")||e.includes(".jpeg")||e.includes(".jpg")))return e;throw Error("Input must be a File, String (includes .png, .jpeg or .jpg), or Blob object.")},m=n(6),x=n(3);n(22);var _=function(e,t){return e.find((function(e){return e.id===t}))},y=n(11);function N(e,t){return g.apply(this,arguments)}function g(){return(g=Object(p.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,e.prev=1,e.next=4,Object(y.a)(t,n,{upgrade:function(e,t,n,r){e.createObjectStore("people",{keyPath:"id"})}});case 4:r=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return");case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function w(e,t,n){return I.apply(this,arguments)}function I(){return(I=Object(p.a)(l.a.mark((function e(t,n,r){var a,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,e.prev=1,e.next=4,N(t,n);case 4:a=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:return c=a.transaction(r,"readwrite"),o=c.objectStore(r),e.abrupt("return",o);case 13:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function E(e,t,n,r){return P.apply(this,arguments)}function P(){return(P=Object(p.a)(l.a.mark((function e(t,n,r,a){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(n,r,a);case 3:return c=e.sent,e.next=6,c.put(t);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function D(e,t,n){return C.apply(this,arguments)}function C(){return(C=Object(p.a)(l.a.mark((function e(t,n,r){var a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(t,n,r);case 3:return a=e.sent,e.next=6,a.getAll();case 6:return c=e.sent,e.abrupt("return",c);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function S(){return(S=Object(p.a)(l.a.mark((function e(t,n,r,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(t,n,r);case 3:e.sent.delete(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function A(e){return new Promise((function(t,n){var r=new FileReader;r.addEventListener("loadend",(function(e){t(r.result)})),r.addEventListener("error",n),r.readAsArrayBuffer(e)}))}var k=function(e){var t=e.currentPersonID,n=e.setCurrentPersonID,a=e.handleDeletePerson,c=Object(s.useContext)(d),i=c.state,u=c.dispatch,l=c.backgroundState,p=c.showEditPersonUIState,b=_(i.people,t),j=Object(o.a)(l,2)[1],f=Object(o.a)(p,2)[1],O=Object(s.useState)(""),h=Object(o.a)(O,2),v=h[0],y=h[1],N=function(e){return e&&e.inFavourites},g=function(){var e=i.people.filter((function(e){return t!==e.id})),r=Object(x.a)(Object(x.a)({},b),{},{inFavourites:!0});u({type:"ADD_FAVOURITE",payload:{people:[].concat(Object(m.a)(e),[r]),name:r.name}}),E(r,"userDatabase","1","people"),n(null)},w=function(){var e=i.people.filter((function(e){return e.id!==t})),r=Object(x.a)(Object(x.a)({},b),{},{inFavourites:!1});u({type:"REMOVE_FAVOURITE",payload:{people:[].concat(Object(m.a)(e),[r]),name:r.name}}),n(null)};return Object(s.useEffect)((function(){N(b)?y("Remove from favourites"):y("Add to favourites")}),[b]),Object(r.jsxs)("div",{className:"person-options-container",onMouseEnter:function(e){var t=window.matchMedia("(min-width: 769px)"),r=document.querySelector(".person__dropdown-btn");if(t.matches){var a=e.target.closest("div");a.addEventListener("mouseleave",(function e(t){j(!1);var c=t.relatedTarget;c&&!c.classList.contains("person__dropdown-btn")&&(r.style={},n(null),a.removeEventListener("mouseleave",e))}))}},children:[Object(r.jsxs)("p",{className:"person-options-container__name",children:["Person: ",b&&b.name]}),Object(r.jsxs)("ul",{className:"person-options-list",children:[Object(r.jsx)("li",{className:"person-options-list__item person-options-list__item--triangled",children:Object(r.jsx)("button",{className:"person-options-list__btn",onClick:function(e){return function(e){return e.stopPropagation(),j(!1),N(b)?w:g}(e)()},children:v})}),Object(r.jsx)("li",{className:"person-options-list__item person-options-list__item--edit-btn",children:Object(r.jsx)("button",{className:"person-options-list__btn",onClick:function(e){return function(e){e.stopPropagation(),j(!0),f(!0),setTimeout((function(){return n(null)}),0)}(e)},children:"Edit"})}),Object(r.jsx)("li",{className:"person-options-list__item person-options-list__item--delete-btn",children:Object(r.jsx)("button",{className:"person-options-list__btn",onClick:function(e){return a(e,t)},children:"Delete"})})]})]})};var L=function(e){var t=/(\.|-|\/)/,n=e.birthday.split(t).filter((function(e){return!t.test(e)}));4!==n[0].length&&(n=n.reverse());var r=new Date(n[0],n[1],n[2]),a=Date.now()-r.getTime(),c=new Date(a);return Math.abs(c.getUTCFullYear()-1970)};var R=function(e){var t=e.person,n=e.handleDeletePerson,a=e.currentPersonID,c=e.setCurrentPersonID,i=e.handleSelectPerson,u=t.id,l=t.name,p=t.birthday,d=t.picture,b=Object(s.useState)(null),j=Object(o.a)(b,2),f=j[0],O=j[1],h=Object(s.useState)(null),m=Object(o.a)(h,2),x=m[0],_=m[1],y=Object(s.useState)(""),N=Object(o.a)(y,2),g=N[0],w=N[1],I=Object(s.useState)(null),E=Object(o.a)(I,2),P=E[0],D=E[1],C=Object(s.useState)(-1),S=Object(o.a)(C,2),A=S[0],R=S[1];return Object(s.useEffect)((function(){var e,t=null;try{if("string"!==typeof d){var n=new Blob([d],{type:e});t=v(n)}else t=d}catch(r){console.log(r)}_((function(e){return t}))}),[d]),Object(s.useEffect)((function(){w(a===u?"person person--highlighted":"person")}),[a,u]),Object(s.useEffect)((function(){D(L(t))}),[t]),Object(s.useEffect)((function(){window.matchMedia("(max-width: 769px)").matches&&R(0)}),[A]),Object(r.jsxs)("div",{className:g,onKeyPress:function(e){"Enter"===e.key&&i(u)},onClick:function(){window.matchMedia("(max-width: 769px)").matches&&i(u)},tabIndex:A,children:[Object(r.jsx)("button",{className:"person__dropdown-btn",onMouseEnter:function(e){var t=e.target.closest("button");i(u);O({height:"50px",width:"30px"});t.addEventListener("mouseleave",(function e(n){var r=n.relatedTarget;r&&!r.classList.contains("person-options-list__item")&&(c(null),O(null),t.removeEventListener("mouseleave",e))}))},style:f,children:Object(r.jsx)("i",{className:"fa fa-ellipsis-h","aria-hidden":"true"})}),a===u&&Object(r.jsx)(k,{currentPersonID:a,setCurrentPersonID:c,handleDeletePerson:n}),Object(r.jsx)("div",{className:"person-img-container",children:Object(r.jsx)("img",{className:"person-img-container__img",src:x,alt:l})}),Object(r.jsxs)("div",{className:"person-info",children:[Object(r.jsx)("p",{className:"person-info__name",children:l}),Object(r.jsx)("p",{className:"person-info__birthday",children:p})]}),Object(r.jsxs)("div",{className:"person-age-container",children:[Object(r.jsx)("p",{className:"person-age-container__title",children:"Age:"}),Object(r.jsx)("p",{className:"person-age-container__age",children:P})]})]})};n(23);var T=function(e){var t=e.handleAddPersonUIForLargerScreen;return Object(r.jsx)("div",{className:"empty-box",tabIndex:0,onClick:function(e){t(e)},onKeyDown:function(e){"Enter"===e.key&&t(e)},children:Object(r.jsx)("div",{className:"empty-box__icon-container",children:Object(r.jsx)("i",{className:"fa fa-plus empty-box__add-icon","aria-hidden":"true"})})})};n(24);var F=function(e){var t=e.setShowDeletePersonDialog,n=e.removeItem,a=e.deletionUserID,c=e.setCurrentPersonID,i=Object(s.useContext)(d),u=i.backgroundState,l=i.state,p=Object(o.a)(u,2)[1],b=function(e){e.stopPropagation(),"Yes"===e.target.textContent&&n(a),t(!1),p(!1),c(!1)};return Object(r.jsxs)("div",{className:"delete-person-dialog",children:[Object(r.jsx)("p",{className:"delete-person-dialog__text",children:" Are you really want to delete ".concat(_(l.people,a).name,"?")}),Object(r.jsxs)("div",{className:"delete-person-dialog-controls",children:[Object(r.jsx)("button",{className:"delete-person-dialog-controls__btn",onClick:b,autoFocus:!0,children:"Yes"}),Object(r.jsx)("button",{className:"delete-person-dialog-controls__btn delete-person-dialog-controls__btn--no-margin",onClick:b,children:"No"})]})]})},V=(n(25),n.p+"static/media/no-picture.2fda6558.png"),M=function(e){try{if("string"===typeof e)return!0;var t=e.type;return"image/jpeg"===t||"image/png"===t||e instanceof ArrayBuffer}catch(n){return console.log(n),!1}};n(26);var B=function(e){var t=e.setDidUserUploadPicture,n=e.setCurrentPicture,a=Object(s.useContext)(d).dispatch,c=Object(s.useRef)(null);return Object(s.useEffect)((function(){c.current.focus()}),[]),Object(r.jsxs)("div",{className:"picture-input-container",children:[Object(r.jsx)("label",{htmlFor:"picture",className:"picture-input-container__label",tabIndex:0,ref:c,onKeyDown:function(e){"Enter"===e.key&&c.current.click()},children:Object(r.jsx)("i",{className:"fas fa-camera picture-input-container__icon","aria-hidden":!0})}),Object(r.jsx)("input",{id:"picture",type:"file",className:"picture-input-container__picture",accept:"image/png, image/jpeg",onChange:function(e){var r=e.target.files[0];M(r)?(t(!0),n(r)):a({type:"INVALID_FILE_TYPE"})},hidden:!0})]})};function U(e){var t=/(\d\d)(\.|-|\/)(\d\d)(\.|-|\/)(\d\d\d\d)/;return{result:t.test(e),regex:t}}function Y(e){var t=/(\d\d\d\d)(\.|-|\/)(\d\d)(\.|-|\/)(\d\d)/;return{result:t.test(e),regex:t}}var H=function(e,t,n){return e.length<=0?"INVALID_NAME":function(e){return U(e).result||Y(e).result}(t)?function(e){var t=U(e).result?+e.slice(0,2):+e.slice(-2);return t<=31&&t>0}(t)?function(e){var t=U(e).result?+e.slice(3,5):+e.slice(5,7);return t<=12&&t>0}(t)?function(e){var t=U(e).result?+e.slice(-4):+e.slice(0,4);return t<=(new Date).getFullYear()&&t>1e3}(t)?!!M(n)||"INVALID_FILE_TYPE":"INVALID_YEAR":"INVALID_MONTH":"INVALID_DAY":"INVALID_DATE"};n(27);var $=function(e){var t=e.handleAddPerson;return Object(r.jsx)("div",{className:"add-person-ui-controls",children:Object(r.jsx)("button",{className:"add-person-ui-controls__add-btn",onClick:function(){t()},children:Object(r.jsx)("i",{className:"fa fa-plus-circle add-person-ui-controls__icon","aria-hidden":"true"})})})};n(28);var G=function(e){var t=e.nameContainer,n=e.dateContainer,a=e.name,c=e.birthday;return Object(r.jsxs)("div",{className:"add-person-ui-info-container",children:[Object(r.jsx)("input",{type:"text",className:"add-person-ui-info-container__name",ref:t,maxLength:"15",placeholder:"Name",defaultValue:a||""}),Object(r.jsx)("input",{type:"text",className:"add-person-ui-info-container__birthday",ref:n,defaultValue:c||"",maxLength:"10",placeholder:"dd/mm/yyyy"})]})};n(29);var K=function(e){var t=e.createFileURL,n=e.currentPicture,a=e.nameContainer;return Object(r.jsx)("div",{className:"person-img-container",children:Object(r.jsx)("img",{className:"person-img-container__img",src:t(n),alt:a.current.value})})};var z=function(e){var t=e.setShowBackground,n=e.toggleAddPersonUI,a=Object(s.useContext)(d),c=a.state,i=a.dispatch,u=Object(s.useState)(!1),b=Object(o.a)(u,2),j=b[0],f=b[1],O=Object(s.useState)(null),h=Object(o.a)(O,2),x=h[0],_=h[1],y=Object(s.useRef)(null),N=Object(s.useRef)(null),g=function(){var e=Object(p.a)(l.a.mark((function e(){var r,a,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=y.current.value,a=N.current.value,!x){e.next=8;break}return e.next=5,A(x);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=V;case 9:c=e.t0,o=H(r,a,c),e.t1=o,e.next="INVALID_NAME"===e.t1||"INVALID_DATE"===e.t1||"INVALID_DAY"===e.t1||"INVALID_MONTH"===e.t1||"INVALID_YEAR"===e.t1||"INVALID_FILE_TYPE"===e.t1?14:16;break;case 14:return i({type:o}),e.abrupt("break",20);case 16:return w(r,a,c),n(),t(!1),e.abrupt("break",20);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(e,t,n){e=e.charAt(0).toUpperCase()+e.slice(1);var r=I(e,t,n);i({type:"ADD_PERSON",payload:[].concat(Object(m.a)(c.people),[r])}),E(r,"userDatabase","1","people")},I=function(e,t,n){return{id:(new Date).getTime().toString(),name:e,birthday:t,picture:n,inFavourites:!1}};return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"add-person-ui",children:[j?Object(r.jsx)(K,{createFileURL:v,currentPicture:x,nameContainer:y}):Object(r.jsx)(B,{setDidUserUploadPicture:f,currentPicture:x,setCurrentPicture:_}),Object(r.jsx)(G,{nameContainer:y,dateContainer:N}),Object(r.jsx)($,{handleAddPerson:g}),Object(r.jsx)("button",{className:"add-person-ui__close-btn",onClick:n,children:Object(r.jsx)("i",{className:"fas fa-times"})})]})})};n(30);var J=function(e){var t=e.handleAcceptClick;return Object(r.jsx)("div",{className:"edit-person-ui-controls",children:Object(r.jsx)("button",{className:"edit-person-ui-controls__accept-btn",onClick:function(e){return t(e)},children:Object(r.jsx)("i",{className:"fas fa-check-circle edit-person-ui-controls__icon","aria-hidden":!0})})})};n(31);var q=function(e){var t=e.currentPersonID,n=e.setShowEditPersonUI,a=e.setShowBackground,c=t,i=Object(s.useRef)(null),u=Object(s.useRef)(null),b=Object(s.useContext)(d),j=b.state,f=b.dispatch,O=Object(s.useState)(c),h=Object(o.a)(O,1)[0],y=Object(s.useState)(null),N=Object(o.a)(y,2),g=N[0],w=N[1],I=Object(s.useState)(!1),P=Object(o.a)(I,2),D=P[0],C=P[1],S=_(j.people,h),k=function(){var e=Object(p.a)(l.a.mark((function e(t){var r,c,o,s,p,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),r=i.current.value,c=u.current.value,o=D?g:S.picture,s=null,e.prev=5,e.next=8,L(r,c,o);case 8:s=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),console.log(e.t0);case 14:s?(p=j.people.filter((function(e){return e.id!==h})),d=[].concat(Object(m.a)(p),[s]),E(s,"userDatabase","1","people"),f({type:"EDIT_PERSON",payload:{people:d,name:s.name}}),a(!1),n(!1)):console.log("EDIT PERSON ERROR!");case 15:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(p.a)(l.a.mark((function e(t,n,r){var a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object(x.a)(Object(x.a)({},S),{},{id:h,name:t,birthday:n,picture:r}),!g){e.next=7;break}return e.next=4,A(g);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=V;case 8:r=e.t0,c=H(t,n,r),e.t1=c,e.next="INVALID_NAME"===e.t1||"INVALID_DATE"===e.t1||"INVALID_DAY"===e.t1||"INVALID_MONTH"===e.t1||"INVALID_YEAR"===e.t1||"INVALID_FILE_TYPE"===e.t1?13:15;break;case 13:return f({type:c}),e.abrupt("break",16);case 15:return e.abrupt("return",a);case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){var e=function(e){"Escape"===e.key&&n(!1)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[n]),Object(r.jsxs)("div",{className:"edit-person-ui",children:[D?Object(r.jsx)(K,{createFileURL:v,currentPicture:g,nameContainer:i}):Object(r.jsx)(B,{setDidUserUploadPicture:C,currentPicture:g,setCurrentPicture:w}),Object(r.jsx)(G,{name:S.name,birthday:S.birthday,currentPersonID:t,nameContainer:i,dateContainer:u}),Object(r.jsx)(J,{handleAcceptClick:k})]})};n(32);var Q=function(e){var t=e.isTimePassed,n=e.setIsTimePassed,a=Object(s.useContext)(d),c=a.state,o=a.dispatch;Object(s.useEffect)((function(){t&&(n(!1),setTimeout(i,2500))}));var i=function(){o({type:"REMOVE_MODAL"}),n(!0)};return Object(r.jsx)("p",{className:"notification",children:c.notificationContent})};var W=function(e){return e.replace(/(\.|-|\/)/g,".")};function X(e,t){var n=Y(e).regex;return e=U(e).result?e:e.replace(n,"$5.$3.$1"),t=U(t).result?t:t.replace(n,"$5.$3.$1"),/-|\//.test(e)&&(e=W(e)),/-|\//.test(t)&&(t=W(t)),[e,t]}var Z=function(e){var t=e.peopleList,n=e.dispatch,r=e.nextSort,a=e.setPeopleList,c=e.showFavourites,s=t;"sortByAge"===r?function(e,t,n,r){var a=e.sort((function(e,t){var n=e.birthday.slice(),r=t.birthday.slice(),a=X(n,r),c=Object(o.a)(a,2);n=c[0],r=c[1];var s=n.split("."),i=Object(o.a)(s,3),u=i[0],l=i[1],p=i[2],d=r.split("."),b=Object(o.a)(d,3),j=b[0],f=b[1],O=b[2];return new Date(p,l,u).getTime()-new Date(O,f,j).getTime()}));if(r){n(a.filter((function(e){return e.inFavourites})))}else n(a);t({type:"SORT_PEOPLE_BY_AGE"})}(s,n,a,c):"sortByMonth"===r?function(e,t,n,r){var a=e.sort((function(e,t){var n=e.birthday.slice(),r=t.birthday.slice(),a=X(n,r),c=Object(o.a)(a,2);n=c[0],r=c[1];var s=n.split("."),i=Object(o.a)(s,2),u=i[0],l=i[1],p=r.split("."),d=Object(o.a)(p,2);return+d[0]+10*+d[1]-(+u+10*+l)}));if(r){n(a.filter((function(e){return e.inFavourites})))}else n(a);t({type:"SORT_PEOPLE_BY_MONTH"})}(s,n,a,c):"sortByName"===r&&function(e,t,n,r){var a=e.sort((function(e,t){var n=e.name.toLowerCase(),r=Object(o.a)(n,1)[0],a=t.name.toLowerCase(),c=Object(o.a)(a,1)[0];return r.charCodeAt(0)-c.charCodeAt(0)}));if(r){n(a.filter((function(e){return e.inFavourites})))}else n(a);t({type:"SORT_PEOPLE_BY_NAME"})}(s,n,a,c)};n(33);var ee=function(){var e=Object(s.useContext)(d),t=e.dispatch,n=e.favState,a=e.sortingState,c=Object(s.useContext)(b),i=Object(o.a)(c,2),u=i[0],l=i[1],p=Object(o.a)(n,1)[0],j=Object(o.a)(a,2),f=j[0],O=j[1],h=function(e){switch(e){case"sort-by-name":return"sortByName";case"sort-by-age":return"sortByAge";case"sort-by-month":return"sortByMonth"}};return Object(r.jsxs)("select",{className:"sorting-selectbox",onChange:function(e){var n=e.target.value,r=h(n);Z({peopleList:u,setPeopleList:l,nextSort:r,showFavourites:p,dispatch:t}),O(r)},defaultValue:f,children:[Object(r.jsx)("option",{id:"test",value:"sort-by-name",className:"sorting-selectbox__option",children:"Sort by name"}),Object(r.jsx)("option",{value:"sort-by-age",className:"sorting-selectbox__option",children:"Sort by age"}),Object(r.jsx)("option",{value:"sort-by-month",className:"sorting-selectbox__option",children:"Sort by month"})]})};var te=function(e){var t=e.currentPersonID,n=e.setCurrentPersonID,a=Object(s.useContext)(d),c=a.state,i=a.dispatch,u=a.favState,l=a.backgroundState,p=a.showEditPersonUIState,j=a.showAddPersonUIState,O=Object(s.useContext)(b),h=Object(o.a)(O,2),v=h[0],m=h[1],x=Object(o.a)(j,2),_=x[0],y=x[1],N=Object(o.a)(u,1)[0],g=Object(o.a)(l,2),w=g[0],I=g[1],E=Object(o.a)(p,2),P=E[0],D=E[1],C=Object(s.useState)(!1),A=Object(o.a)(C,2),k=A[0],L=A[1],V=Object(s.useState)(null),M=Object(o.a)(V,2),B=M[0],U=M[1],Y=Object(s.useState)(!0),H=Object(o.a)(Y,2),$=H[0],G=H[1],K=function(e,t){window.matchMedia("(min-width: 768px)").matches&&n(null),e.stopPropagation(),L(!0),U(t)},J=function(e){window.matchMedia("(max-width: 768px)").matches&&I(!0),t!==e&&n(e)},W=function(e){"Escape"===e.key&&(n(null),I(!1),y((function(){return!1})))};return Object(s.useEffect)((function(){return window.addEventListener("keyup",W),function(){window.removeEventListener("keyup",W)}})),Object(s.useEffect)((function(){var e=N?f(c.people):c.people;m(e)}),[N,c.people,m]),Object(s.useEffect)((function(){var e=function(){var e=window.matchMedia("(min-width: 769px)");e.matches&&k&&n(null),e.matches&&(_||t)&&w?I((function(){return!1})):e.matches||!_&&!t||w||I((function(){return!0}))};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[w,I,_,t,n,k]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ee,{}),c.isNotificationOpen&&Object(r.jsx)(Q,{isTimePassed:$,setIsTimePassed:G}),k&&Object(r.jsx)(F,{setShowDeletePersonDialog:L,removeItem:function(e){var t=c.people.filter((function(t){return t.id!==e}));!function(e,t,n,r){S.apply(this,arguments)}("userDatabase","1","people",e),i({type:"REMOVE_PERSON",payload:{people:t}}),I(!1)},deletionUserID:B,setCurrentPersonID:n}),Object(r.jsxs)("ul",{className:"person-list",children:[v&&v.map((function(e){return Object(r.jsx)(R,{person:e,handleDeletePerson:K,currentPersonID:t,setCurrentPersonID:n,handleSelectPerson:J,setShowBackground:I},e.id)})),_&&Object(r.jsx)(z,{setShowBackground:I,toggleAddPersonUI:function(){y((function(){return!_}))}})||Object(r.jsx)(T,{handleAddPersonUIForLargerScreen:function(){y(!_)}})]}),P&&Object(r.jsx)(q,{currentPersonID:t,setShowEditPersonUI:D,setShowBackground:I})]})};n(34);var ne=function(e){var t=e.setShowUI,n=Object(s.useContext)(d),a=n.currentPersonID,c=n.setCurrentPersonID;return Object(r.jsx)("main",{className:"home-main",children:Object(r.jsx)(te,{currentPersonID:a,setCurrentPersonID:c,setShowUI:t})})};n(35);var re=function(e){switch(e){case"sortByName":return"sortByAge";case"sortByAge":return"sortByMonth";case"sortByMonth":return"sortByName"}};var ae=function(){var e=Object(s.useContext)(d),t=e.dispatch,n=e.favState,a=e.showAddPersonUIState,c=e.backgroundState,i=e.sortingState,u=Object(o.a)(a,2),l=u[0],p=u[1],j=Object(o.a)(n,2),f=j[0],O=j[1],h=Object(o.a)(c,2),v=h[0],m=h[1],x=Object(o.a)(i,2),_=x[0],y=x[1],N=Object(s.useContext)(b),g=Object(o.a)(N,2),w=g[0],I=g[1];return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("nav",{className:"mobile-nav",children:[Object(r.jsx)("button",{className:"mobile-nav__btn mobile-nav__btn--side",onClick:function(){var e=re(_);Z({peopleList:w,setPeopleList:I,nextSort:e,showFavourites:f,dispatch:t}),y(e)},children:Object(r.jsx)("i",{className:"fas fa-sort-amount-down"})}),Object(r.jsx)("button",{className:"mobile-nav__btn",onClick:function(){m(!v),p(!l)},children:Object(r.jsx)("i",{className:"fas fa-plus"})}),Object(r.jsx)("button",{className:"mobile-nav__btn mobile-nav__btn--side",onClick:function(){return O(!f)},children:Object(r.jsx)("i",{className:"fas fa-star"})})]})})};n(36);var ce=function(){var e=Object(s.useContext)(d),t=e.showAddPersonUIState,n=e.showEditPersonUIState,a=e.backgroundState,c=e.currentPersonID,i=e.setCurrentPersonID,u=Object(o.a)(t,2),l=u[0],p=u[1],b=Object(o.a)(n,2),j=b[0],f=b[1],O=Object(o.a)(a,2),h=O[0],v=O[1];Object(s.useEffect)((function(){document.body.style.overflow=h?"hidden":"initial"}),[h]);var m=h?"dark-background dark-background--visible":"dark-background";return Object(r.jsx)("div",{className:m,onClick:function(e){(c||l||j)&&(e.stopPropagation(),v(!1),f(!1),p(!1),i(null))}})};var oe=function(e){var t=i.a.useState(null),n=Object(o.a)(t,2),a=n[0],c=n[1];return Object(r.jsx)(b.Provider,Object(x.a)({value:[a,c]},e))};function se(){return(se=Object(p.a)(l.a.mark((function e(t,n,r){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D(t,n,r);case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var ie=function(e,t,n){return se.apply(this,arguments)};function ue(){return(ue=Object(p.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie("userDatabase","1","people");case 2:return t=e.sent,n={people:t,isNotificationOpen:!1,notificationContext:""},e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var le=function(){return ue.apply(this,arguments)},pe=function(e,t){switch(t.type){case"ADD_PERSON":return Object(x.a)(Object(x.a)({},e),{},{people:t.payload,isNotificationOpen:!0,notificationContent:"Person has been added."});case"REMOVE_PERSON":return Object(x.a)(Object(x.a)({},e),{},{people:t.payload.people,isNotificationOpen:!0,notificationContent:"Person has been deleted."});case"REMOVE_MODAL":return Object(x.a)(Object(x.a)({},e),{},{isNotificationOpen:!1,notificationContent:""});case"INVALID_NAME":return Object(x.a)(Object(x.a)({},e),{},{isNotificationOpen:!0,notificationContent:"Name input must include at least one character."});case"INVALID_DATE":return Object(x.a)(Object(x.a)({},e),{},{isNotificationOpen:!0,notificationContent:"Please provide correct date format, (yyyy/mm/dd), or (dd/mm/yyyy) with any date seperators."});case"INVALID_DAY":return Object(x.a)(Object(x.a)({},e),{},{isNotificationOpen:!0,notificationContent:"Day value must be between 1 and 31 (inclusive)."});case"INVALID_MONTH":return Object(x.a)(Object(x.a)({},e),{},{isNotificationOpen:!0,notificationContent:"Month value must be between 1 and 12 (inclusive)."});case"INVALID_YEAR":return Object(x.a)(Object(x.a)({},e),{},{isNotificationOpen:!0,notificationContent:"Year value must be between 1000 and current year (inclusive)."});case"SORT_PEOPLE_BY_AGE":return Object(x.a)(Object(x.a)({},e),{},{isNotificationOpen:!0,notificationContent:"SORT BY AGE"});case"SORT_PEOPLE_BY_MONTH":return Object(x.a)(Object(x.a)({},e),{},{isNotificationOpen:!0,notificationContent:"SORT BY MONTH"});case"SORT_PEOPLE_BY_NAME":return Object(x.a)(Object(x.a)({},e),{},{isNotificationOpen:!0,notificationContent:"SORT BY NAME"});case"FILTER_PEOPLE_BY_NAME":return Object(x.a)(Object(x.a)({},e),{},{people:t.payload,isNotificationOpen:!1,notificationContent:""});case"INITIAL_LOAD":return Object(x.a)(Object(x.a)({},e),{},{people:t.payload.people,isNotificationOpen:!1,notificationContent:""});case"INVALID_FILE_TYPE":return Object(x.a)(Object(x.a)({},e),{},{isNotificationOpen:!0,notificationContent:'Invalid file type. Please provide ".jpeg", or ".png" file for the picture.'});case"ADD_FAVOURITE":var n=t.payload.name;return Object(x.a)(Object(x.a)({},e),{},{isNotificationOpen:!0,notificationContent:"".concat(n," has been added to your favorites."),people:t.payload.people});case"REMOVE_FAVOURITE":var r=t.payload.name;return Object(x.a)(Object(x.a)({},e),{},{isNotificationOpen:!0,notificationContent:"".concat(r," has been removed from your favorites."),people:t.payload.people});case"EDIT_PERSON":var a=t.payload.name;return Object(x.a)(Object(x.a)({},e),{},{isNotificationOpen:!0,notificationContent:"".concat(a,"'s information has been changed."),people:t.payload.people});default:throw new Error("Unhandled action type: ".concat(t.type))}};var de=function(e){var t=Object(s.useReducer)(pe,{people:[],isNotificationOpen:!1,notificationContent:""}),n=Object(o.a)(t,2),a=n[0],c=n[1],i=Object(s.useState)(null),u=Object(o.a)(i,2),b=u[0],j=u[1],f=Object(s.useState)(!1),O=Object(s.useState)(!1),h=Object(s.useState)(!1),v=Object(s.useState)(!1),m=Object(s.useState)("sortByName"),_=function(){var e=Object(p.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le();case 2:t=e.sent,n=t.people,c({type:"INITIAL_LOAD",payload:{people:n}});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){_()}),[]),Object(r.jsx)(d.Provider,Object(x.a)({value:{state:a,dispatch:c,favState:v,backgroundState:h,showAddPersonUIState:f,showEditPersonUIState:O,currentPersonID:b,setCurrentPersonID:j,sortingState:m}},e))};var be=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(de,{children:[Object(r.jsx)(ce,{}),Object(r.jsxs)(oe,{children:[Object(r.jsx)(h,{}),Object(r.jsx)(ne,{}),Object(r.jsx)(ae,{})]})]})})};n(37);c.a.render(Object(r.jsx)(be,{}),document.getElementById("root"))}],[[38,1,2]]]);
//# sourceMappingURL=main.6ca0e61c.chunk.js.map