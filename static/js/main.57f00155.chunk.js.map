{"version":3,"sources":["context/AppContext/AppContext.js","context/PeopleListContext/PeopleListContext.js","helpers/filterPeopleByName.js","helpers/filterFavouritePeople.js","demoData.js","components/SearchBox/SearchBox.js","helpers/dateFormatValidations.js","helpers/reformatDate.js","helpers/sortingLogic.js","components/SortingSelectbox/SortingSelectbox.js","context/ScreenContext/ScreenContext.js","helpers/matchMinMedia.js","components/AppHead/AppHead.js","helpers/createFileURL.js","helpers/findPersonByID.js","utils/IndexedDB/indexedDBValidation.js","utils/IndexedDB/indexedDBManagement.js","components/PersonOptions/PersonOptions.js","helpers/getPersonAge.js","components/Person/Person.js","components/DeletePersonDialog/DeletePersonDialog.js","assets/no-picture.png","helpers/validatePicture.js","components/PictureInput/PictureInput.js","helpers/validatePersonData.js","helpers/dateValueValidations.js","components/AddPersonUIControls/AddPersonUIControls.js","components/AddPersonUIInfo/AddPersonUIInfo.js","components/PersonImgContainer/PersonImgContainer.js","components/AddPersonUI/AddPersonUI.js","components/AddPersonUILarge/AddPersonUILarge.js","components/EditPersonUIControls/EditPersonUIControls.js","components/EditPersonUI/EditPersonUI.js","components/Notification/Notification.js","components/PeopleList/PeopleList.js","components/HomeMain/HomeMain.js","helpers/handleSorting.js","components/MobileNav/MobileNav.js","components/DarkBackground/DarkBackground.js","providers/PeopleListProvider.js","utils/data.js","utils/defaultState.js","utils/reducer.js","providers/AppProvider.js","providers/ScreenProvider.js","components/App/App.js","index.js"],"names":["AppContext","createContext","PeopleListContext","filterPeopleByName","people","name","filter","person","personName","toLowerCase","includes","filterFavouritePeople","inFavourites","demoData","id","birthday","picture","SearchBox","setShowSearchBox","useContext","dispatch","state","favState","setPeopleList","showFavourites","searchInput","useRef","handleChange","a","current","value","demoPeople","type","payload","handleSearchBoxClose","displayPeople","filteredPeople","console","log","useEffect","handleKeyDown","e","key","window","addEventListener","removeEventListener","className","placeholder","onChange","ref","autoFocus","aria-label","onClick","testDateWithCommonFormat","date","regex","result","test","testDateWithUncommonFormat","reformatDateSeperator","replace","validateAndReformatDate","newPrevBirthday","newCurBirthday","sortingLogic","args","peopleList","nextSort","oldPeople","sortedPeople","sort","prev","cur","slice","split","prevDay","prevMonth","prevYear","curDay","curMonth","curYear","Date","getTime","sortByAge","sortByMonth","prevName","curName","charCodeAt","sortByName","SortingSelectbox","sortingState","sortState","setSortState","reformatValue","aria-selected","role","target","defaultValue","ScreenContext","matchMinMedia","size","matchMedia","matches","AppHead","setShowFavourites","useState","showSearchBox","isLargeScreen","setIsLargeScreen","style","color","aria-hidden","createFileURL","file","File","Blob","URL","createObjectURL","Error","findPersonByID","find","accesDB","database","version","openDB","upgrade","createObjectStore","keyPath","myDB","getIDBStore","store","tx","transaction","myStore","objectStore","putItemToIDB","item","accessedStore","put","getDataFromIDBStore","getAll","data","delete","blobToArrayBuffer","blob","Promise","resolve","reject","reader","FileReader","readAsArrayBuffer","PersonOptions","props","currentPersonID","setCurrentPersonID","handleDeletePerson","backgroundState","showEditPersonUIState","setShowBackground","setShowEditPersonUI","favText","setFavText","isPersonInFavourites","handleAddFavourites","modifiedPerson","err","handleRemoveFavourites","onMouseEnter","dropDownBtn","document","querySelector","closest","handleMouseOut","relatedTarget","classList","contains","stopPropagation","setHandlerFunction","setTimeout","handleEdit","getPersonAge","length","reverse","difference","now","age_dt","Math","abs","getUTCFullYear","Person","handleSelectPerson","dropdownBtnStyle","setDropdownBtnStyle","pictureURL","setPictureURL","parentClass","setParentClass","personAge","setPersonAge","tabindex","setTabindex","handleWindowKey","onKeyPress","tabIndex","height","width","handleMouseLeave","src","alt","DeletePersonDialog","setShowDeletePersonDialog","removeItem","deletionUserID","handleDelete","textContent","validatePicture","pictureType","ArrayBuffer","PictureInput","setDidUserUploadPicture","setCurrentPicture","label","focus","htmlFor","onKeyDown","click","accept","files","hidden","validatePersonData","dateValidation","dayValue","dayValidation","monthValue","monthValidation","yearValue","getFullYear","yearValidation","AddPersonUIControls","handleAddPerson","AddPersonUIINfo","nameContainer","dateContainer","maxLength","PersonImgContainer","currentPicture","AddPersonUI","toggleAddPersonUI","didUserUploadPicture","blankImg","validationResult","addPerson","charAt","toUpperCase","newPerson","createNewPerson","toString","AddPersonUILarge","handleAddPersonUIForLargerScreen","EditPersonUIControls","handleAcceptClick","EditPersonUI","defaultState","currentPersonIDForEdit","newName","newBirthday","editedPerson","createEditedPerson","newPeople","Notification","isTimePassed","setIsTimePassed","notificationCallback","notificationContent","PeopleList","setIsScreenLarge","showAddPersonUIState","showAddPersonUI","setShowAddPersonUI","showBackground","showEditPersonUI","showDeletePersonDialog","setDeletionUserID","isSorted","setIsSorted","handleKeyUp","handleResize","screenResult","isNotificationOpen","removeDataFromIDBStore","map","HomeMain","setShowUI","handleSorting","MobileNav","DarkBackground","body","overflow","PeopleListProvider","React","Provider","getData","notificationContext","reducer","action","AppProvider","useReducer","getInitialData","ScreenProvider","isScreenLarge","App","ReactDOM","render","getElementById"],"mappings":"6lBACaA,G,MAAaC,wBAAc,OCCzBC,EADYD,wBAAc,MCQ1BE,MATf,SAA4BC,EAAQC,GAMlC,OALuBD,EAAOE,QAAO,SAACC,GACpC,IAAMC,EAAaD,EAAOF,KAAKI,cAE/B,OADAJ,EAAOA,EAAKI,cACLD,EAAWE,SAASL,OCAhBM,MAJf,SAA+BP,GAC7B,OAAOA,EAAOE,QAAO,SAACC,GAAD,OAAYA,EAAOK,iBCkC3BC,EAnCE,CACfT,OAAQ,CACN,CACEU,GAAI,EACJT,KAAM,cACNU,SAAU,aACVC,QAAS,sBAEX,CACEF,GAAI,EACJT,KAAM,eACNU,SAAU,aACVC,QAAS,sBAEX,CACEF,GAAI,EACJT,KAAM,eACNU,SAAU,aACVC,QAAS,sBAEX,CACEF,GAAI,EACJT,KAAM,YACNU,SAAU,aACVC,QAAS,uBAEX,CACEF,GAAI,EACJT,KAAM,YACNU,SAAU,aACVC,QAAS,wBC8CAC,MApEf,YAA0C,IAArBC,EAAoB,EAApBA,iBAAoB,EACDC,qBAAWnB,GAAzCoB,EAD+B,EAC/BA,SAAUC,EADqB,EACrBA,MAAOC,EADc,EACdA,SADc,EAEbH,qBAAWjB,GAA5BqB,EAF8B,oBAGhCC,EAHgC,YAGdF,EAHc,MAIjCG,EAAcC,iBAAO,MAErBC,EAAY,uCAAG,8BAAAC,EAAA,sDAEN,eADPvB,EAAOoB,EAAYI,QAAQC,SAEfC,EAAelB,EAAvBT,OACRgB,EAAS,CACPY,KAAM,aACNC,QAAQ,GAAD,mBAAMZ,EAAMjB,QAAZ,YAAuB2B,MAEhCG,KAEFC,EAAc9B,GAVK,2CAAH,qDAaZ8B,EAAgB,SAAC9B,GACrB,IAAMD,EAASoB,EACXb,EAAsBU,EAAMjB,QAC5BiB,EAAMjB,OACV,GAAIA,EAAQ,CACV,IAAMgC,EAAiBjC,EAAmBC,EAAQC,GAClDkB,EAAca,QAEdC,QAAQC,IAAI,0BAIVJ,EAAoB,uCAAG,sBAAAN,EAAA,sDACd,GACbV,GAAiB,GACjBiB,EAFa,IADc,2CAAH,qDAgB1B,OAVAI,qBAAU,WACR,IAAMC,EAAgB,SAACC,GACP,WAAVA,EAAEC,KAAkBR,KAG1B,OADAS,OAAOC,iBAAiB,UAAWJ,GAC5B,WACLG,OAAOE,oBAAoB,UAAWL,MAEvC,IAGD,sBAAKM,UAAU,aAAf,UACE,uBACEA,UAAU,2BACVd,KAAK,SACLe,YAAY,iBACZC,SAAUrB,EACVsB,IAAKxB,EACLyB,WAAS,IAEX,wBACEJ,UAAU,wBACVK,aAAW,SACXC,QAASlB,EAHX,SAKE,mBAAGY,UAAU,8BCtErB,SAASO,EAAyBC,GAChC,IAAMC,EAAQ,wCAEd,MAAO,CAAEC,OADMD,EAAME,KAAKH,GACTC,SAGnB,SAASG,EAA2BJ,GAClC,IAAMC,EAAQ,wCAEd,MAAO,CAAEC,OADMD,EAAME,KAAKH,GACTC,SCLJI,MAJf,SAA+BL,GAC7B,OAAOA,EAAKM,QAAQ,aAAc,MC2FpC,SAASC,EAAwBC,EAAiBC,GAAiB,IACzDR,EAAUG,EAA2BI,GAArCP,MAgBR,OAdAO,EAAkBT,EAAyBS,GAAiBN,OACxDM,EACAA,EAAgBF,QAAQL,EAAO,YAEnCQ,EAAiBV,EAAyBU,GAAgBP,OACtDO,EACAA,EAAeH,QAAQL,EAAO,YAE9B,OAAOE,KAAKK,KACdA,EAAkBH,EAAsBG,IAEtC,OAAOL,KAAKM,KACdA,EAAiBJ,EAAsBI,IAElC,CAACD,EAAiBC,GAGZC,MA1Gf,SAAsBC,GAAO,IAEzBC,EAKED,EALFC,WACA9C,EAIE6C,EAJF7C,SACA+C,EAGEF,EAHFE,SACA5C,EAEE0C,EAFF1C,cACAC,EACEyC,EADFzC,eAEIpB,EAAS8D,EACE,cAAbC,EASN,SAAmBC,EAAWhD,EAAUG,EAAeC,GACrD,IAAM6C,EAAeD,EAAUE,MAAK,SAACC,EAAMC,GACzC,IAAIV,EAAkBS,EAAKxD,SAAS0D,QAChCV,EAAiBS,EAAIzD,SAAS0D,QAFe,EAGbZ,EAClCC,EACAC,GAL+C,mBAGhDD,EAHgD,KAG/BC,EAH+B,WAOVD,EAAgBY,MAAM,KAPZ,mBAO1CC,EAP0C,KAOjCC,EAPiC,KAOtBC,EAPsB,OAQbd,EAAeW,MAAM,KARR,mBAQ1CI,EAR0C,KAQlCC,EARkC,KAQxBC,EARwB,KAWjD,OAFqB,IAAIC,KAAKJ,EAAUD,EAAWD,GAASO,UACxC,IAAID,KAAKD,EAASD,EAAUD,GAAQI,aAG1D,GAAI1D,EAAgB,CAIlBD,EAHwB8C,EAAa/D,QACnC,SAACC,GAAD,OAAYA,EAAOK,sBAIrBW,EAAc8C,GAEhBjD,EAAS,CAAEY,KAAM,uBA9BfmD,CAAU/E,EAAQgB,EAAUG,EAAeC,GACrB,gBAAb2C,EAgCb,SAAqBC,EAAWhD,EAAUG,EAAeC,GACvD,IAAM6C,EAAeD,EAAUE,MAAK,SAACC,EAAMC,GACzC,IAAIV,EAAkBS,EAAKxD,SAAS0D,QAChCV,EAAiBS,EAAIzD,SAAS0D,QAFe,EAGbZ,EAClCC,EACAC,GAL+C,mBAGhDD,EAHgD,KAG/BC,EAH+B,WAOpBD,EAAgBY,MAAM,KAPF,mBAO1CC,EAP0C,KAOjCC,EAPiC,OAQtBb,EAAeW,MAAM,KARC,mBAWjD,OAXiD,KAUN,KAVM,OAS1BC,EAAuB,KAAZC,MAIpC,GAAIpD,EAAgB,CAIlBD,EAHwB8C,EAAa/D,QACnC,SAACC,GAAD,OAAYA,EAAOK,sBAIrBW,EAAc8C,GAEhBjD,EAAS,CAAEY,KAAM,yBArDfoD,CAAYhF,EAAQgB,EAAUG,EAAeC,GACvB,eAAb2C,GAuDb,SAAoBC,EAAWhD,EAAUG,EAAeC,GACtD,IAAM6C,EAAeD,EAAUE,MAAK,SAACC,EAAMC,GAAS,IAAD,EAC9BD,EAAKlE,KAAKI,cAAtB4E,EAD0C,sBAE/Bb,EAAInE,KAAKI,cAApB6E,EAF0C,oBAGjD,OAAOD,EAASE,WAAW,GAAKD,EAAQC,WAAW,MAErD,GAAI/D,EAAgB,CAIlBD,EAHwB8C,EAAa/D,QACnC,SAACC,GAAD,OAAYA,EAAOK,sBAIrBW,EAAc8C,GAEhBjD,EAAS,CAAEY,KAAM,wBApEfwD,CAAWpF,EAAQgB,EAAUG,EAAeC,I,MC6CjCiE,MA5Df,WAA6B,IAAD,EACmBtE,qBAAWnB,GAAhDoB,EADkB,EAClBA,SAAUE,EADQ,EACRA,SAAUoE,EADF,EACEA,aADF,EAEUvE,qBAAWjB,GAFrB,mBAEnBgE,EAFmB,KAEP3C,EAFO,KAGnBC,EAHmB,YAGDF,EAHC,oBAIQoE,EAJR,GAInBC,EAJmB,KAIRC,EAJQ,KAoBpBC,EAAgB,SAAC/D,GACrB,OAAQA,GACN,IAAK,eACH,MAAO,aACT,IAAK,cACH,MAAO,YACT,IAAK,gBACH,MAAO,gBAMb,OACE,gCACE,yBACEgB,UAAU,oBACVgD,iBAAA,EACAC,KAAK,SACL/C,SAjCe,SAACP,GACpB,IAAMX,EAAQW,EAAEuD,OAAOlE,MACjBqC,EAAW0B,EAAc/D,GAQ/BkC,EAPa,CACXE,aACA3C,gBACA4C,WACA3C,iBACAJ,aAGFwE,EAAazB,IAuBT8B,aAAcN,EALhB,UAOE,wBACE7E,GAAG,OACHgB,MAAM,eACNgB,UAAU,4BAHZ,0BAOA,wBAAQhB,MAAM,cAAcgB,UAAU,4BAAtC,yBAGA,wBAAQhB,MAAM,gBAAgBgB,UAAU,4BAAxC,iCCvDOoD,EADOjG,wBAAc,MCIrBkG,MALf,SAAuBC,GAErB,OADYzD,OAAO0D,WAAP,sBAAiCD,EAAjC,QACDE,SCoDEC,MA/Cf,WAAoB,IACVjF,EAAaH,qBAAWnB,GAAxBsB,SADS,cAE2BA,EAF3B,GAEVE,EAFU,KAEMgF,EAFN,OAGyBC,oBAAS,GAHlC,mBAGVC,EAHU,KAGKxF,EAHL,OAIyBC,qBAAW+E,GAJpC,mBAIVS,EAJU,KAIKC,EAJL,KAUjB,OAJArE,qBAAU,WACJ4D,EAAc,KAAMS,GAAiB,kBAAM,KAC1CA,GAAiB,kBAAM,OAC3B,CAACA,IAEF,yBAAQ9D,UAAU,WAAlB,WACI6D,IAAkBD,IAClB,oBAAI5D,UAAU,iBAAd,8BAGF,sBAAKA,UAAU,eAAf,UACI4D,GACA,cAAC,EAAD,CAAWxF,iBAAkBA,KAE7B,qCACE,cAAC,EAAD,IACA,wBACE4B,UAAU,2BACVK,aAAW,SACXC,QAAS,kBAAMlC,GAAkBwF,IAHnC,SAKE,mBAAG5D,UAAU,0CAKnB,wBACEA,UAAU,wBACVM,QAAS,kBAAOoD,GAAmBhF,IACnCqF,MAAO,CACLC,MAAOtF,EAAiB,WAAa,WAEvC2B,aAAW,aANb,SAQE,mBAAGL,UAAU,gCAAgCiE,cAAY,kB,YCjCpDC,MAdf,SAAuBC,GACrB,GAAIA,aAAgBC,MAAQD,aAAgBE,KAE1C,OADYC,IAAIC,gBAAgBJ,GAE3B,GACW,kBAATA,IACNA,EAAKvG,SAAS,SAAWuG,EAAKvG,SAAS,UAAYuG,EAAKvG,SAAS,SAElE,OAAOuG,EACT,MAAMK,MACJ,iF,aCNWC,MAJf,SAAwBnH,EAAQU,GAC9B,OAAOV,EAAOoH,MAAK,SAACjH,GAAD,OAAYA,EAAOO,KAAOA,M,iBCAhC2G,E,gFAAf,WAAuBC,EAAUC,GAAjC,eAAA/F,EAAA,sEACqBgG,YAAOF,EAAUC,EAAS,CAC3CE,QAD2C,SACnCH,GACNA,EAASI,kBAAkB,SAAU,CAAEC,QAAS,UAHtD,cACQC,EADR,yBAOSA,GAPT,4C,+BAUeC,E,kFAAf,WAA2BP,EAAUC,EAASO,GAA9C,mBAAAtG,EAAA,sEACqB6F,EAAQC,EAAUC,GADvC,cACQK,EADR,OAEQG,EAAKH,EAAKI,YAAYF,EAAO,aAC7BG,EAAUF,EAAGG,YAAYJ,GAHjC,kBAISG,GAJT,4C,+BCVeE,E,oFAAf,WAA4BC,EAAMd,EAAUC,EAASO,GAArD,eAAAtG,EAAA,sEAC8BqG,EAAYP,EAAUC,EAASO,GAD7D,cACQO,EADR,gBAEQA,EAAcC,IAAIF,GAF1B,4C,+BAKeG,E,kFAAf,WAAmCjB,EAAUC,EAASO,GAAtD,iBAAAtG,EAAA,sEAC8BqG,EAAYP,EAAUC,EAASO,GAD7D,cACQO,EADR,gBAEqBA,EAAcG,SAFnC,cAEQC,EAFR,yBAGSA,GAHT,4C,kEAMA,WAAsCnB,EAAUC,EAASO,EAAOxF,GAAhE,SAAAd,EAAA,sEAC8BqG,EAAYP,EAAUC,EAASO,GAD7D,cAEgBY,OAAOpG,GAFvB,4C,sBASA,SAASqG,EAAkBC,GACzB,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAS,IAAIC,WACnBD,EAAOxG,iBAAiB,WAAW,SAACH,GAClCyG,EAAQE,EAAO5F,WAEjB4F,EAAOxG,iBAAiB,QAASuG,GACjCC,EAAOE,kBAAkBN,MCiHdO,MAtIf,SAAuBC,GAAQ,IACrBC,EAA4DD,EAA5DC,gBAAiBC,EAA2CF,EAA3CE,mBAAoBC,EAAuBH,EAAvBG,mBADjB,EAOxBxI,qBAAWnB,GAJbqB,EAH0B,EAG1BA,MACAD,EAJ0B,EAI1BA,SACAwI,EAL0B,EAK1BA,gBACAC,EAN0B,EAM1BA,sBAEItJ,EAASgH,EAAelG,EAAMjB,OAAQqJ,GACnCK,EATmB,YASEF,EATF,MAUnBG,EAVmB,YAUIF,EAVJ,QAWEpD,mBAAS,IAXX,mBAWrBuD,EAXqB,KAWZC,EAXY,KAatBC,EAAuB,SAAC3J,GAC5B,OAAOA,GAAUA,EAAOK,cAUpBuJ,EAAsB,WAC1B,IAAM/F,EAAY/C,EAAMjB,OAAOE,QAC7B,SAACC,GAAD,OAAYkJ,IAAoBlJ,EAAOO,MAEnCsJ,EAAc,2BACf7J,GADe,IAElBK,cAAc,IAGhBQ,EAAS,CACPY,KAAM,gBACNC,QAAS,CACP7B,OAAO,GAAD,mBAAMgE,GAAN,CAAiBgG,IACvB/J,KAAM+J,EAAe/J,QAGzB,IACEkI,EAAa6B,EAAgB,eAAgB,IAAK,UAClD,MAAOC,GACPhI,QAAQC,IAAI+H,GAEdX,EAAmB,OAGfY,EAAyB,WAC7B,IAAMlG,EAAY/C,EAAMjB,OAAOE,QAC7B,SAACC,GAAD,OAAYA,EAAOO,KAAO2I,KAEtBW,EAAc,2BACf7J,GADe,IAElBK,cAAc,IAEhBQ,EAAS,CACPY,KAAM,mBACNC,QAAS,CACP7B,OAAO,GAAD,mBAAMgE,GAAN,CAAiBgG,IACvB/J,KAAM+J,EAAe/J,QAGzBqJ,EAAmB,OAoCrB,OANAnH,qBAAU,WACR2H,EAAqB3J,GACjB0J,EAAW,0BACXA,EAAW,uBACd,CAAC1J,IAGF,sBAAKuC,UAAU,2BAA2ByH,aA1BpB,SAAC9H,GACvB,IAAM+H,EAAcC,SAASC,cAAc,yBAC3C,GAAIvE,EAAc,KAAM,CACtB,IAAMH,EAASvD,EAAEuD,OAAO2E,QAAQ,OAYhC3E,EAAOpD,iBAAiB,cAXD,SAAjBgI,EAAkBnI,GACtB,IAAMoI,EAAgBpI,EAAEoI,cAEtBA,IACCA,EAAcC,UAAUC,SAAS,0BAElCP,EAAY3D,MAAQ,GACpB6C,EAAmB,MACnB1D,EAAOnD,oBAAoB,aAAc+H,SAc/C,UACE,oBAAG9H,UAAU,iCAAb,qBACWvC,GAAUA,EAAOF,QAE5B,qBAAIyC,UAAU,sBAAd,UACE,oBAAIA,UAAU,iEAAd,SACE,wBACEA,UAAU,2BACVM,QAAS,SAACX,GAAD,OA1CQ,SAACA,GAG1B,OAFAA,EAAEuI,kBACFlB,GAAkB,GACXI,EAAqB3J,GACxB+J,EACAH,EAqCoBc,CAAmBxI,EAAnBwI,IAFlB,SAIGjB,MAGL,oBAAIlH,UAAU,gEAAd,SACE,wBACEA,UAAU,2BACVM,QAAS,SAACX,GAAD,OAnGA,SAACA,GAClBA,EAAEuI,kBACFlB,GAAkB,GAClBC,GAAoB,GACpBmB,YAAW,kBAAMxB,EAAmB,QAAO,GA+FnByB,CAAW1I,IAF7B,oBAOF,oBAAIK,UAAU,kEAAd,SACE,wBACEA,UAAU,2BACVM,QAAS,SAACX,GAAD,OAAOkH,EAAmBlH,EAAGgH,IAFxC,6BClHK2B,MAff,SAAsB7K,GACpB,IAAMgD,EAAQ,YACVxC,EAAWR,EAAOQ,SACnB2D,MAAMnB,GACNjD,QAAO,SAACkI,GAAD,OAAWjF,EAAME,KAAK+E,MACL,IAAvBzH,EAAS,GAAGsK,SACdtK,EAAWA,EAASuK,WAGtB,IAAMhI,EAAO,IAAI2B,KAAKlE,EAAS,GAAIA,EAAS,GAAIA,EAAS,IACrDwK,EAAatG,KAAKuG,MAAQlI,EAAK4B,UAC/BuG,EAAS,IAAIxG,KAAKsG,GACtB,OAAOG,KAAKC,IAAIF,EAAOG,iBAAmB,OC8H7BC,MAlIf,SAAgBrC,GAAQ,IAEpBjJ,EAKEiJ,EALFjJ,OACAoJ,EAIEH,EAJFG,mBACAF,EAGED,EAHFC,gBACAC,EAEEF,EAFFE,mBACAoC,EACEtC,EADFsC,mBAEMhL,EAAgCP,EAAhCO,GAAIT,EAA4BE,EAA5BF,KAAMU,EAAsBR,EAAtBQ,SAAUC,EAAYT,EAAZS,QARP,EAS2ByF,mBAAS,MATpC,mBASdsF,EATc,KASIC,EATJ,OAUevF,mBAAS,MAVxB,mBAUdwF,EAVc,KAUFC,EAVE,OAWiBzF,mBAAS,IAX1B,mBAWd0F,EAXc,KAWDC,EAXC,OAYa3F,mBAAS,MAZtB,mBAYd4F,EAZc,KAYHC,EAZG,OAaW7F,oBAAU,GAbrB,mBAad8F,EAbc,KAaJC,EAbI,KAerBjK,qBAAU,WACR,IHP+BP,EGO3BiK,EAAa,KACjB,IACE,GAAuB,kBAAZjL,EAAsB,CAC/B,IAAMgI,EHTL,IAAI7B,KAAK,CGSqBnG,GHTX,CAAEgB,KAAMA,IGU5BiK,EAAajF,EAAcgC,QAE3BiD,EAAajL,EAEf,MAAOqJ,GACPhI,QAAQC,IAAI+H,GAGd6B,GAAc,kBAAMD,OACnB,CAACjL,IAEJuB,qBAAU,WAIR6J,EADE3C,IAAoB3I,EAAK,6BAA+B,YAEzD,CAAC2I,EAAiB3I,IAErByB,qBAAU,WACR+J,EAAalB,EAAa7K,MACzB,CAACA,IAEJgC,qBAAU,WACH4D,EAAc,MAAMqG,GAAa,KACrC,IAEH,IAQMC,EAAkB,SAAChK,GACT,QAAVA,EAAEC,KAAkByD,EAAc,KAEjB,QAAV1D,EAAEC,KAAiByD,EAAc,MAC1CqG,GAAa,GAFbA,EAAY,IAiChB,OAPAjK,qBAAU,WAER,OADAI,OAAOC,iBAAiB,QAAS6J,GAC1B,WACL9J,OAAOE,oBAAoB,QAAS4J,MAErC,IAGD,qBACE3J,UAAWqJ,EACXO,WA1CmB,SAACjK,GACR,UAAVA,EAAEC,KAAiBoJ,EAAmBhL,IA0CxCsC,QA/CgB,WACb+C,EAAc,MAAM2F,EAAmBhL,IA+C1C6L,SAAUJ,EAJZ,UAME,wBACEzJ,UAAU,uBACVyH,aAnCmB,SAAC9H,GACxB,IAAMuD,EAASvD,EAAEuD,OAAO2E,QAAQ,UAChCmB,EAAmBhL,GAEnBkL,EADc,CAAEY,OAAQ,OAAQC,MAAO,SAavC7G,EAAOpD,iBAAiB,cAXC,SAAnBkK,EAAoBrK,GACxB,IAAMoI,EAAgBpI,EAAEoI,cAEtBA,IACCA,EAAcC,UAAUC,SAAS,+BAElCrB,EAAmB,MACnBsC,EAAoB,MACpBhG,EAAOnD,oBAAoB,aAAciK,QAuBzCjG,MAAOkF,EACP5I,aAAW,gBAJb,SAME,mBAAGL,UAAU,mBAAmBiE,cAAY,WAE7C0C,IAAoB3I,GACnB,cAAC,EAAD,CACE2I,gBAAiBA,EACjBC,mBAAoBA,EACpBC,mBAAoBA,IAGxB,qBAAK7G,UAAU,uBAAf,SACE,qBACEA,UAAU,4BACViK,IAAKd,EACLe,IAAK3M,MAGT,sBAAKyC,UAAU,cAAf,UACE,mBAAGA,UAAU,oBAAb,SAAkCzC,IAClC,mBAAGyC,UAAU,wBAAb,SAAsC/B,OAExC,sBAAK+B,UAAU,uBAAf,UACE,mBAAGA,UAAU,8BAAb,kBACA,mBAAGA,UAAU,4BAAb,SAA0CuJ,W,MC/EnCY,MAjDf,SAA4BzD,GAAQ,IAEhC0D,EAIE1D,EAJF0D,0BACAC,EAGE3D,EAHF2D,WACAC,EAEE5D,EAFF4D,eACA1D,EACEF,EADFE,mBAL+B,EAOEvI,qBAAWnB,GAAtC4J,EAPyB,EAOzBA,gBAAiBvI,EAPQ,EAORA,MAChByI,EARwB,YAQHF,EARG,MAU3ByD,EAAe,SAAC5K,GACpBA,EAAEuI,kBAGc,QAFAvI,EAAEuD,OAAOsH,aAGvBH,EAAWC,GAGbF,GAA0B,GAC1BpD,GAAkB,GAClBJ,GAAmB,IAGrB,OACE,sBAAK5G,UAAU,uBAAf,UACE,mBAAGA,UAAU,6BAAb,kDAEIyE,EAAelG,EAAMjB,OAAQgN,GAAgB/M,KAFjD,OAKA,sBAAKyC,UAAU,gCAAf,UACE,wBACEA,UAAU,qCACVM,QAASiK,EACTnK,WAAS,EAHX,iBAOA,wBACEJ,UAAU,mFACVM,QAASiK,EAFX,uBC1CO,G,MAAA,IAA0B,wCCc1BE,EAdS,SAACvM,GACvB,IACE,GAAuB,kBAAZA,EAAsB,OAAO,EACxC,IAAMwM,EAAcxM,EAAQgB,KAC5B,MAEkB,eAAhBwL,GAAgD,cAAhBA,GAA+BxM,aAAmByM,YAEpF,MAAOpD,GAEP,OADAhI,QAAQC,IAAI+H,IACL,I,MC0CIqD,MAhDf,YAAuE,IAA/CC,EAA8C,EAA9CA,wBAAyBC,EAAqB,EAArBA,kBACvCxM,EAAaD,qBAAWnB,GAAxBoB,SACFyM,EAAQnM,iBAAO,MAoBrB,OAJAa,qBAAU,WACRsL,EAAMhM,QAAQiM,UACb,IAGD,sBAAKhL,UAAU,0BAAf,UACE,uBACEiL,QAAQ,UACRjL,UAAU,iCACV6J,SAAU,EACV1J,IAAK4K,EACLG,UAfY,SAACvL,GACH,UAAVA,EAAEC,KAAiBmL,EAAMhM,QAAQoM,SASnC,SAOE,mBACEnL,UAAU,8CACViE,eAAa,MAGjB,uBACEjG,GAAG,UACHkB,KAAK,OACLc,UAAU,mCACVoL,OAAO,wBACPlL,SArCa,SAACP,GAClB,IAAMzB,EAAUyB,EAAEuD,OAAOmI,MAAM,GAC3BZ,EAAgBvM,IAClB2M,GAAwB,GACxBC,EAAkB5M,IAElBI,EAAS,CAAEY,KAAM,uBAgCfoM,QAAQ,QC3BDC,MAfY,SAAChO,EAAMiD,EAAMtC,GACtC,OAAIX,EAAKgL,QAAU,EAAU,eAS/B,SAAwB/H,GACtB,OAAOD,EAAyBC,GAAME,QAAUE,EAA2BJ,GAAME,OATvE8K,CAAehL,GCJ3B,SAAuBA,GAAO,IAEtBiL,EADalL,EAAyBC,GAApCE,QACmBF,EAAKmB,MAAM,EAAG,IAAMnB,EAAKmB,OAAO,GAC3D,OAAO8J,GAAY,IAAMA,EAAW,EDE1BC,CAAclL,GCC1B,SAAyBA,GAAO,IAExBmL,EADapL,EAAyBC,GAApCE,QACqBF,EAAKmB,MAAM,EAAG,IAAMnB,EAAKmB,MAAM,EAAG,GAC/D,OAAOgK,GAAc,IAAMA,EAAa,EDH9BC,CAAgBpL,GCM5B,SAAwBA,GAAO,IAEvBqL,EADatL,EAAyBC,GAApCE,QACoBF,EAAKmB,OAAO,IAAMnB,EAAKmB,MAAM,EAAG,GAE5D,OAAOkK,IADa,IAAI1J,MAAO2J,eACID,EAAY,IDTrCE,CAAevL,KACfiK,EAAgBvM,IAAiB,oBADJ,eADC,gBADF,cADC,gB,MEa1B8N,MAlBf,YAAmD,IAApBC,EAAmB,EAAnBA,gBAC7B,OACE,qBAAKjM,UAAU,yBAAf,SACE,wBACEA,UAAU,kCACVM,QAAS,WACP2L,KAHJ,SAME,mBACEjM,UAAU,iDACViE,cAAY,c,MCePiI,MAzBf,SAAyBxF,GAAQ,IACvByF,EAAiDzF,EAAjDyF,cAAeC,EAAkC1F,EAAlC0F,cAAe7O,EAAmBmJ,EAAnBnJ,KAAMU,EAAayI,EAAbzI,SAE5C,OACE,sBAAK+B,UAAU,+BAAf,UACE,uBACEd,KAAK,OACLc,UAAU,qCACVG,IAAKgM,EACLE,UAAU,KACVpM,YAAY,OACZkD,aAAc5F,GAAQ,KAExB,uBACE2B,KAAK,OACLc,UAAU,yCACVG,IAAKiM,EACLjJ,aAAclF,GAAY,GAC1BoO,UAAU,KACVpM,YAAY,mB,MCRLqM,MAZf,YAA+E,IAAjDpI,EAAgD,EAAhDA,cAAeqI,EAAiC,EAAjCA,eAAgBJ,EAAiB,EAAjBA,cAC3D,OACE,qBAAKnM,UAAU,uBAAf,SACE,qBACEA,UAAU,4BACViK,IAAK/F,EAAcqI,GACnBrC,IAAKiC,EAAcpN,QAAQC,WCkGpBwN,MA3Ff,YAAgE,IAAzCxF,EAAwC,EAAxCA,kBAAmByF,EAAqB,EAArBA,kBAAqB,EACjCpO,qBAAWnB,GAA/BqB,EADqD,EACrDA,MAAOD,EAD8C,EAC9CA,SAD8C,EAELqF,oBAAS,GAFJ,mBAEtD+I,EAFsD,KAEhC7B,EAFgC,OAGjBlH,mBAAS,MAHQ,mBAGtD4I,EAHsD,KAGtCzB,EAHsC,KAIvDqB,EAAgBvN,iBAAO,MACvBwN,EAAgBxN,iBAAO,MAEvBqN,EAAe,uCAAG,kCAAAnN,EAAA,yDAChBvB,EAAO4O,EAAcpN,QAAQC,MAC7BwB,EAAO4L,EAAcrN,QAAQC,MAC/Bd,EAAU,KAHQ,UAKVqO,EALU,iCAMVtG,EAAkBsG,GANR,gDAOhBI,EAPgB,QAKpBzO,EALoB,uDASpBqB,QAAQC,IAAR,MAToB,QAWhBoN,EAAmBrB,EAAmBhO,EAAMiD,EAAMtC,GAXlC,KAad0O,EAbc,OAcf,iBAde,MAef,iBAfe,MAgBf,gBAhBe,MAiBf,kBAjBe,MAkBf,iBAlBe,MAmBf,sBAnBe,gCAoBlBtO,EAAS,CAAEY,KAAM0N,IApBC,oCAuBlBC,EAAUtP,EAAMiD,EAAMtC,GACtB8I,GAAkB,GAClByF,IAzBkB,+EAAH,qDA8BfI,EAAY,SAACtP,EAAMU,EAAUC,GACjCX,EAAOA,EAAKuP,OAAO,GAAGC,cAAgBxP,EAAKoE,MAAM,GACjD,IAAMqL,EAAYC,EAAgB1P,EAAMU,EAAUC,GAClDI,EAAS,CAAEY,KAAM,aAAcC,QAAQ,GAAD,mBAAMZ,EAAMjB,QAAZ,CAAoB0P,MAC1D,IACEvH,EAAauH,EAAW,eAAgB,IAAK,UAC7C,MAAOzF,GACPhI,QAAQC,IAAI+H,KAIV0F,EAAkB,SAAC1P,EAAMU,EAAUC,GAQvC,MAPkB,CAChBF,IAAI,IAAImE,MAAOC,UAAU8K,WACzB3P,KAAMA,EACNU,SAAUA,EACVC,QAASA,EACTJ,cAAc,IAKlB,OACE,mCACE,qBAAIkC,UAAU,gBAAd,UACG0M,EACC,cAAC,EAAD,CACExI,cAAeA,EACfqI,eAAgBA,EAChBJ,cAAeA,IAGjB,cAAC,EAAD,CACEtB,wBAAyBA,EACzB0B,eAAgBA,EAChBzB,kBAAmBA,IAGvB,cAAC,EAAD,CACEqB,cAAeA,EACfC,cAAeA,IAEjB,cAAC,EAAD,CAAqBH,gBAAiBA,IACtC,wBACEjM,UAAU,2BACVM,QAASmM,EAFX,SAIE,mBAAGzM,UAAU,yB,MC3ERmN,OAtBf,YAAiE,IAArCC,EAAoC,EAApCA,iCAQ1B,OACE,oBACEpN,UAAU,sBACV6J,SAAU,EACVvJ,QAXgB,SAACX,GACnByN,EAAiCzN,IAW/BuL,UARkB,SAACvL,GACP,UAAVA,EAAEC,KAAiBwN,EAAiCzN,IAGxD,SAME,qBAAKK,UAAU,sCAAf,SACE,mBAAGA,UAAU,2CAA2CiE,cAAY,c,MCA7DoJ,OAhBf,YAAsD,IAAtBC,EAAqB,EAArBA,kBAC9B,OACE,qBAAKtN,UAAU,0BAAf,SACE,wBACEA,UAAU,sCACVM,QAAS,SAACX,GAAD,OAAK2N,EAAkB3N,IAFlC,SAIE,mBACEK,UAAU,oDACViE,eAAa,S,MCwHRsJ,OAnHf,SAAsB7G,GAAQ,IACpBC,EAA4DD,EAA5DC,gBAAiBM,EAA2CP,EAA3CO,oBAAqBD,EAAsBN,EAAtBM,kBACxCwG,EAAe7G,EACfwF,EAAgBvN,iBAAO,MACvBwN,EAAgBxN,iBAAO,MAJF,EAKCP,qBAAWnB,GAA/BqB,EALmB,EAKnBA,MAAOD,EALY,EAKZA,SALY,EAMMqF,mBAAS6J,GAAnCC,EANoB,sBAOiB9J,mBAAS,MAP1B,mBAOpB4I,EAPoB,KAOJzB,EAPI,OAQ6BnH,oBAAS,GARtC,mBAQpB+I,EARoB,KAQE7B,EARF,KASrBpN,EAASgH,EAAelG,EAAMjB,OAAQmQ,GAEtCH,EAAiB,uCAAG,WAAO3N,GAAP,yBAAAb,EAAA,6DACxBa,EAAEuI,kBACIwF,EAAUvB,EAAcpN,QAAQC,MAChC2O,EAAcvB,EAAcrN,QAAQC,MACpCd,EAAUwO,EAAuBH,EAAiB9O,EAAOS,QAC3D0P,EAAe,KALK,kBAODC,EAAmBH,EAASC,EAAazP,GAPxC,OAOtB0P,EAPsB,yDAUtBrO,QAAQC,IAAR,MAVsB,QAYxB,GAAIoO,EAAc,CACVtO,EAAiBf,EAAMjB,OAAOE,QAClC,SAACC,GAAD,OAAYA,EAAOO,KAAOyP,KAGtBK,EALU,sBAKMxO,GALN,CAKsBsO,IACtC,IACEnI,EAAamI,EAAc,eAAgB,IAAK,UAChD,MAAOrG,GACPhI,QAAQC,IAAI+H,GAEdjJ,EAAS,CACPY,KAAM,cACNC,QAAS,CACP7B,OAAQwQ,EACRvQ,KAAMqQ,EAAarQ,QAGvByJ,GAAkB,GAClBC,GAAoB,GA/BE,0DAAH,sDAmCjB4G,EAAkB,uCAAG,WAAOtQ,EAAMU,EAAUC,GAAvB,iBAAAY,EAAA,yDACnB8O,EADmB,2BAEpBnQ,GAFoB,IAGvBO,GAAIyP,EACJlQ,OACAU,WACAC,YANuB,UASbqO,EATa,gCAUbtG,EAAkBsG,GAVL,8CAWnBI,EAXmB,OASvBzO,EATuB,uDAavBqB,QAAQC,IAAR,MAbuB,QAenBoN,EAAmBrB,EAAmBhO,EAAMU,EAAUC,GAfnC,KAgBjB0O,EAhBiB,OAiBlB,iBAjBkB,MAkBlB,iBAlBkB,MAmBlB,gBAnBkB,MAoBlB,kBApBkB,MAqBlB,iBArBkB,MAsBlB,sBAtBkB,gCAuBrBtO,EAAS,CAAEY,KAAM0N,IAvBI,sDA0BdgB,GA1Bc,iCA4BlB,MA5BkB,0DAAH,0DAyCxB,OAVAnO,qBAAU,WACR,IAAMC,EAAgB,SAACC,GACP,WAAVA,EAAEC,KAAkBqH,GAAoB,IAG9C,OADApH,OAAOC,iBAAiB,UAAWJ,GAC5B,WACLG,OAAOE,oBAAoB,UAAWL,MAEvC,CAACuH,IAGF,sBAAKjH,UAAU,iBAAf,UACG0M,EACC,cAAC,EAAD,CACExI,cAAeA,EACfqI,eAAgBA,EAChBJ,cAAeA,IAGjB,cAAC,EAAD,CACEtB,wBAAyBA,EACzB0B,eAAgBA,EAChBzB,kBAAmBA,IAIvB,cAAC,EAAD,CACEvN,KAAME,EAAOF,KACbU,SAAUR,EAAOQ,SACjB0I,gBAAiBA,EACjBwF,cAAeA,EACfC,cAAeA,IAEjB,cAAC,GAAD,CAAsBkB,kBAAmBA,Q,MCrGhCS,OApBf,YAA0D,IAAlCC,EAAiC,EAAjCA,aAAcC,EAAmB,EAAnBA,gBAAmB,EAC3B5P,qBAAWnB,GAA/BqB,EAD+C,EAC/CA,MAAOD,EADwC,EACxCA,SAMfmB,qBAAU,WACJuO,IACFC,GAAgB,GAChB7F,WAAW8F,EAAsB,UAGrC,IAAMA,EAAuB,WAT3B5P,EAAS,CAAEY,KAAM,iBAWjB+O,GAAgB,IAElB,OAAO,mBAAGjO,UAAU,eAAb,SAA6BzB,EAAM4P,uBCqL7BC,OA1Lf,SAAoB1H,GAAQ,IAClBC,EAAwCD,EAAxCC,gBAAiBC,EAAuBF,EAAvBE,mBADA,EAEWvI,qBAAWjB,GAFtB,mBAElBgE,EAFkB,KAEN3C,EAFM,OAGIJ,qBAAW+E,GAA/BiL,EAHgB,sBAWrBhQ,qBAAWnB,GANbqB,EALuB,EAKvBA,MACAD,EANuB,EAMvBA,SACAE,EAPuB,EAOvBA,SACAsI,EARuB,EAQvBA,gBACAC,EATuB,EASvBA,sBACAuH,EAVuB,EAUvBA,qBAVuB,cAYqBA,EAZrB,GAYlBC,EAZkB,KAYDC,EAZC,KAalB9P,EAbkB,YAaAF,EAbA,oBAcmBsI,EAdnB,GAclB2H,EAdkB,KAcFzH,EAdE,mBAeuBD,EAfvB,GAelB2H,EAfkB,KAeAzH,EAfA,OAgBmCtD,oBAAS,GAhB5C,mBAgBlBgL,EAhBkB,KAgBMvE,EAhBN,OAiBmBzG,mBAAS,MAjB5B,mBAiBlB2G,EAjBkB,KAiBFsE,EAjBE,OAkBejL,oBAAS,GAlBxB,mBAkBlBqK,EAlBkB,KAkBJC,EAlBI,OAmBOtK,oBAAS,GAnBhB,mBAmBlBkL,EAnBkB,KAmBRC,GAnBQ,KAqBnBjI,GAAqB,SAAClH,EAAG3B,GACxBqF,EAAc,MACjBuD,EAAmB,MAErBjH,EAAEuI,kBACFkC,GAA0B,GAC1BwE,EAAkB5Q,IAsBdgL,GAAqB,SAAChL,GACrBqF,EAAc,MACjB2D,GAAkB,GAGhBL,IAAoB3I,GACtB4I,EAAmB5I,IAgFvB,OAxEAyB,qBAAU,WACR,IAAMsP,EAAc,SAACpP,GACL,WAAVA,EAAEC,MACJgH,EAAmB,MACnBI,GAAkB,GAClBwH,GAAmB,KAKvB,OADA3O,OAAOC,iBAAiB,QAASiP,GAC1B,WACLlP,OAAOE,oBAAoB,QAASgP,MAErC,CAACnI,EAAoBI,EAAmBwH,IAE3C/O,qBAAU,WACR,IAAMnC,EAASoB,EACXb,EAAsBU,EAAMjB,QAC5BiB,EAAMjB,OACVmB,EAAcnB,KACb,CAACoB,EAAgBH,EAAMjB,OAAQmB,IAElCgB,qBAAU,WACR,IAAMuP,EAAe,WAEnB,IAAMC,EAAe5L,EAAc,KAEjCgL,EADEY,EACe,kBAAM,GAEN,kBAAM,IAGvBA,IACCV,GAAmB5H,GAAmBgI,IACvCF,EAEAzH,GAAkB,GAEjBiI,KACAV,GAAmB5H,GAAmBgI,IACtCF,GAEDzH,GAAkB,IAItB,OADAnH,OAAOC,iBAAiB,SAAUkP,GAC3B,WACLnP,OAAOE,oBAAoB,SAAUiP,MAEtC,CACDP,EACAzH,EACAuH,EACA5H,EACAgI,EACAN,IAGF5O,qBAAU,WACR,GAAI2B,EAAWmH,SAAWsG,EAAU,CASlC3N,EAPa,CACXE,aACA3C,gBACA4C,SAJe,aAKf3C,iBACAJ,aAGFwQ,IAAY,MAEb,CAACxQ,EAAU8C,EAAY3C,EAAeoQ,EAAUnQ,IAEjD,qCACGH,EAAM2Q,oBACL,cAAC,GAAD,CACElB,aAAcA,EACdC,gBAAiBA,IAGpBU,GACC,cAAC,EAAD,CACEvE,0BAA2BA,EAC3BC,WAjHW,SAACrM,GAClB,IACI8P,EADcvP,EAAMjB,OACEE,QAAO,SAACC,GAAD,OAAYA,EAAOO,KAAOA,KAC3D,K,0CACEmR,CAAuB,eAAgB,IAAK,SAAUnR,GACtD,MAAOuJ,GACPhI,QAAQC,IAAI+H,GAEdjJ,EAAS,CACPY,KAAM,gBACNC,QAAS,CAAE7B,OAAQwQ,KAGrB9G,GAAkB,IAqGZsD,eAAgBA,EAChB1D,mBAAoBA,IAGxB,qBAAI5G,UAAU,cAAd,UACGoB,GACCA,EAAWgO,KAAI,SAAC3R,GAAD,OACb,cAAC,EAAD,CAEEA,OAAQA,EACRoJ,mBAAoBA,GACpBF,gBAAiBA,EACjBC,mBAAoBA,EACpBoC,mBAAoBA,GACpBhC,kBAAmBA,GANdvJ,EAAOO,OAShBuQ,GACA,cAAC,EAAD,CACEvH,kBAAmBA,EACnByF,kBA1IgB,WACxB+B,GAAmB,kBAAOD,SA4IpB,cAAC,GAAD,CACEnB,iCAhH+B,WACvCoB,GAAoBD,SAmHjBG,GACC,cAAC,GAAD,CACE/H,gBAAiBA,EACjBM,oBAAqBA,EACrBD,kBAAmBA,Q,MChLdqI,OAdf,SAAkB3I,GAAQ,IAChB4I,EAAc5I,EAAd4I,UADe,EAEyBjR,qBAAWnB,GAAnDyJ,EAFe,EAEfA,gBAAiBC,EAFF,EAEEA,mBAEzB,OACE,sBAAM5G,UAAU,YAAhB,SACE,cAAC,GAAD,CACE2G,gBAAiBA,EACjBC,mBAAoBA,EACpB0I,UAAWA,O,MCDJC,OAbf,SAAuB1M,GACrB,OAAQA,GACN,IAAK,aACH,MAAO,YACT,IAAK,YACH,MAAO,cACT,IAAK,cACH,MAAO,eC6DE2M,OA7Df,WAAsB,IAAD,EAOfnR,qBAAWnB,GALboB,EAFiB,EAEjBA,SACAE,EAHiB,EAGjBA,SACA8P,EAJiB,EAIjBA,qBACAxH,EALiB,EAKjBA,gBACAlE,EANiB,EAMjBA,aANiB,cAQ2B0L,EAR3B,GAQZC,EARY,KAQKC,EARL,mBASyBhQ,EATzB,GASZE,EATY,KASIgF,EATJ,mBAUyBoD,EAVzB,GAUZ2H,EAVY,KAUIzH,EAVJ,mBAWepE,EAXf,GAWZC,EAXY,KAWDC,EAXC,OAYiBzE,qBAAWjB,GAZ5B,mBAYZgE,EAZY,KAYA3C,EAZA,KA+BnB,OACE,mCACE,sBAAKuB,UAAU,aAAf,UACE,wBACEA,UAAU,wCACVK,aAAW,mBACXC,QAnBmB,WACzB,IAAMe,EAAWkO,GAAc1M,GAQ/B3B,EAPa,CACXE,aACA3C,gBACA4C,WACA3C,iBACAJ,aAGFwE,EAAazB,IAMT,SAKE,mBAAGrB,UAAU,8BAEf,wBACEA,UAAU,kBACVK,aAAW,aACXC,QA9BkB,WACxB0G,GAAmByH,GACnBD,GAAoBD,IAyBhB,SAKE,mBAAGvO,UAAU,kBAGf,wBACEA,UAAU,wCACVK,aAAW,oBACXC,QAAS,kBAAMoD,GAAmBhF,IAHpC,SAKE,mBAAGsB,UAAU,wB,MCvBRyP,OAnCf,WAA2B,IAAD,EAOpBpR,qBAAWnB,GALboR,EAFsB,EAEtBA,qBACAvH,EAHsB,EAGtBA,sBACAD,EAJsB,EAItBA,gBACAH,EALsB,EAKtBA,gBACAC,EANsB,EAMtBA,mBANsB,cAQsB0H,EARtB,GAQjBC,EARiB,KAQAC,EARA,mBASwBzH,EATxB,GASjB2H,EATiB,KASCzH,EATD,mBAUoBH,EAVpB,GAUjB2H,EAViB,KAUDzH,EAVC,KAsBxBvH,qBAAU,WAEHkI,SAAS+H,KAAK3L,MAAM4L,SADzBlB,EACoC,SACA,YACnC,CAACA,IAEJ,IAAMzO,EAAYyO,EACd,2CACA,kBAEJ,OAAO,qBAAKzO,UAAWA,EAAWM,QApBT,SAACX,IACpBgH,GAAmB4H,GAAmBG,KACxC/O,EAAEuI,kBACFlB,GAAkB,GAClBC,GAAoB,GACpBuH,GAAmB,GACnB5H,EAAmB,WCdVgJ,OALf,SAA4BlJ,GAAQ,IAAD,EACGmJ,IAAMlM,SAAS,IADlB,mBAC1BvC,EAD0B,KACd3C,EADc,KAEjC,OAAO,cAAC,EAAkBqR,SAAnB,aAA4B9Q,MAAO,CAACoC,EAAY3C,IAAoBiI,K,8CCF7E,WAAuB9B,EAAUC,EAASO,GAA1C,eAAAtG,EAAA,+EAEuB+G,EAAoBjB,EAAUC,EAASO,GAF9D,cAEUW,EAFV,yBAGWA,GAHX,uCAKIxG,QAAQC,IAAR,MALJ,kBAMW,IANX,0D,sBAUeuQ,O,+FCVf,8BAAAjR,EAAA,sEACuBiR,GAAQ,eAAgB,IAAK,UADpD,cACQzS,EADR,OAEQkQ,EAAe,CACnBlQ,SACA4R,oBAAoB,EACpBc,oBAAqB,IALzB,kBAOSxC,GAPT,4C,sBAUeA,O,4CCZFyC,GAAU,SAAC1R,EAAO2R,GAC7B,OAAQA,EAAOhR,MACb,IAAK,aACH,OAAO,2BACFX,GADL,IAEEjB,OAAQ4S,EAAO/Q,QACf+P,oBAAoB,EACpBf,oBAAqB,2BAGzB,IAAK,gBACH,OAAO,2BACF5P,GADL,IAEEjB,OAAQ4S,EAAO/Q,QAAQ7B,OACvB4R,oBAAoB,EACpBf,oBAAqB,6BAGzB,IAAK,eACH,OAAO,2BACF5P,GADL,IAEE2Q,oBAAoB,EACpBf,oBAAqB,KAGzB,IAAK,eACH,OAAO,2BACF5P,GADL,IAEE2Q,oBAAoB,EACpBf,oBAAqB,oDAGzB,IAAK,eACH,OAAO,2BACF5P,GADL,IAEE2Q,oBAAoB,EACpBf,oBACE,gGAIN,IAAK,cACH,OAAO,2BACF5P,GADL,IAEE2Q,oBAAoB,EACpBf,oBAAqB,oDAGzB,IAAK,gBACH,OAAO,2BACF5P,GADL,IAEE2Q,oBAAoB,EACpBf,oBACE,sDAGN,IAAK,eACH,OAAO,2BACF5P,GADL,IAEE2Q,oBAAoB,EACpBf,oBACE,kEAGN,IAAK,qBACH,OAAO,2BACF5P,GADL,IAEE2Q,oBAAoB,EACpBf,oBAAqB,gBAGzB,IAAK,uBACH,OAAO,2BACF5P,GADL,IAEE2Q,oBAAoB,EACpBf,oBAAqB,kBAGzB,IAAK,sBACH,OAAO,2BACF5P,GADL,IAEE2Q,oBAAoB,EACpBf,oBAAqB,iBAGzB,IAAK,wBACH,OAAO,2BACF5P,GADL,IAEEjB,OAAQ4S,EAAO/Q,QACf+P,oBAAoB,EACpBf,oBAAqB,KAGzB,IAAK,eACH,OAAO,2BACF5P,GADL,IAEEjB,OAAQ4S,EAAO/Q,QAAQ7B,OACvB4R,oBAAoB,EACpBf,oBAAqB,KAGzB,IAAK,oBACH,OAAO,2BACF5P,GADL,IAEE2Q,oBAAoB,EACpBf,oBACE,+EAGN,IAAK,gBACH,IAAMzQ,EAAawS,EAAO/Q,QAAQ5B,KAClC,OAAO,2BACFgB,GADL,IAEE2Q,oBAAoB,EACpBf,oBAAoB,GAAD,OAAKzQ,EAAL,sCACnBJ,OAAQ4S,EAAO/Q,QAAQ7B,SAG3B,IAAK,mBACH,IAAMI,EAAawS,EAAO/Q,QAAQ5B,KAClC,OAAO,2BACFgB,GADL,IAEE2Q,oBAAoB,EACpBf,oBAAoB,GAAD,OAAKzQ,EAAL,0CACnBJ,OAAQ4S,EAAO/Q,QAAQ7B,SAG3B,IAAK,cACH,IAAMI,EAAawS,EAAO/Q,QAAQ5B,KAClC,OAAO,2BACFgB,GADL,IAEE2Q,oBAAoB,EACpBf,oBAAoB,GAAD,OAAKzQ,EAAL,oCACnBJ,OAAQ4S,EAAO/Q,QAAQ7B,SAG3B,QACE,MAAM,IAAIkH,MAAJ,iCAAoC0L,EAAOhR,SCnFxCiR,OAjDf,SAAqBzJ,GAEnB,IAF0B,EAOA0J,qBAAWH,GALzB,CACV3S,OAAQ,GACR4R,oBAAoB,EACpBf,oBAAqB,KALG,mBAOnB5P,EAPmB,KAOZD,EAPY,OAQoBqF,mBAAS,MAR7B,mBAQnBgD,EARmB,KAQFC,EARE,KASpB0H,EAAuB3K,oBAAS,GAChCoD,EAAwBpD,oBAAS,GACjCmD,EAAkBnD,oBAAS,GAC3BnF,EAAWmF,oBAAS,GACpBf,EAAee,mBAAS,cAExB0M,EAAc,uCAAG,8BAAAvR,EAAA,+EAEA0O,KAFA,OAEbzH,EAFa,OAGXzI,EAAWyI,EAAXzI,OACRgB,EAAS,CACPY,KAAM,eACNC,QAAS,CAAE7B,OAAQA,KANF,gDASnBiC,QAAQC,IAAR,MATmB,yDAAH,qDAgBpB,OAHAC,qBAAU,WACR4Q,MACC,IAED,cAACnT,EAAW4S,SAAZ,aACE9Q,MAAO,CACLT,QACAD,WACAE,WACAsI,kBACAwH,uBACAvH,wBACAJ,kBACAC,qBACAhE,iBAEE8D,KCnCK4J,OAXf,SAAwB5J,GAAQ,IAAD,EACa/C,oBAAS,GADtB,mBACtB4M,EADsB,KACPlC,EADO,KAG7B,OACE,cAAC,EAAcyB,SAAf,aACE9Q,MAAO,CAACuR,EAAelC,IACnB3H,KCeK8J,OAjBf,WACE,OACE,mCACE,eAAC,GAAD,WACE,cAAC,GAAD,IACA,eAAC,GAAD,WACE,eAAC,GAAD,WACE,cAAC,EAAD,IACA,cAAC,GAAD,OAEF,cAAC,GAAD,a,YCbVC,IAASC,OAAO,cAAC,GAAD,IAAS/I,SAASgJ,eAAe,W","file":"static/js/main.57f00155.chunk.js","sourcesContent":["import { createContext } from 'react';\r\nexport const AppContext = createContext(null);\r\n","import { createContext } from 'react';\r\n const PeopleListContext = createContext(null);\r\nexport default PeopleListContext;\r\n","function filterPeopleByName(people, name) {\r\n  const filteredPeople = people.filter((person) => {\r\n    const personName = person.name.toLowerCase();\r\n    name = name.toLowerCase();\r\n    return personName.includes(name);\r\n  });\r\n  return filteredPeople;\r\n}\r\n\r\nexport default filterPeopleByName;\r\n","function filterFavouritePeople(people) {\r\n  return people.filter((person) => person.inFavourites);\r\n}\r\n\r\nexport default filterFavouritePeople;\r\n\r\n","const demoData = {\r\n  people: [\r\n    {\r\n      id: 1,\r\n      name: 'Derek Green',\r\n      birthday: '20.05.1992',\r\n      picture: './assets/man-3.png',\r\n    },\r\n    {\r\n      id: 2,\r\n      name: 'Lewis Milton',\r\n      birthday: '15.11.1980',\r\n      picture: './assets/man-4.png',\r\n    },\r\n    {\r\n      id: 3,\r\n      name: 'Michael John',\r\n      birthday: '20.10.1985',\r\n      picture: './assets/man-1.png',\r\n    },\r\n    {\r\n      id: 4,\r\n      name: 'Niho Kerr',\r\n      birthday: '06.04.1993',\r\n      picture: './assets/girl-1.png',\r\n    },\r\n    {\r\n      id: 5,\r\n      name: 'Tom Bloom',\r\n      birthday: '12.02.1990',\r\n      picture: './assets/man-2.png',\r\n    },\r\n  ],\r\n};\r\n\r\nexport default demoData;\r\n","import { useRef, useContext, useEffect } from 'react';\r\nimport './SearchBox.scss';\r\nimport { AppContext } from '../../context/AppContext/AppContext';\r\nimport PeopleListContext from '../../context/PeopleListContext/PeopleListContext';\r\nimport filterPeopleByName from '../../helpers/filterPeopleByName';\r\nimport filterFavouritePeople from '../../helpers/filterFavouritePeople';\r\nimport demoData from '../../demoData';\r\n\r\nfunction SearchBox({ setShowSearchBox }) {\r\n  const { dispatch, state, favState } = useContext(AppContext);\r\n  const [, setPeopleList] = useContext(PeopleListContext);\r\n  const [showFavourites] = favState;\r\n  const searchInput = useRef(null);\r\n\r\n  const handleChange = async () => {\r\n    const name = searchInput.current.value;\r\n    if (name === 'DEMO-DATA') {\r\n      const { people: demoPeople } = demoData;\r\n      dispatch({\r\n        type: 'ADD_PERSON',\r\n        payload: [...state.people, ...demoPeople],\r\n      });\r\n      handleSearchBoxClose();\r\n    }\r\n    displayPeople(name);\r\n  };\r\n\r\n  const displayPeople = (name) => {\r\n    const people = showFavourites\r\n      ? filterFavouritePeople(state.people)\r\n      : state.people;\r\n    if (people) {\r\n      const filteredPeople = filterPeopleByName(people, name);\r\n      setPeopleList(filteredPeople);\r\n    } else {\r\n      console.log('Data could not found!');\r\n    }\r\n  };\r\n\r\n  const handleSearchBoxClose = async () => {\r\n    const name = '';\r\n    setShowSearchBox(false);\r\n    displayPeople(name);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleKeyDown = (e) => {\r\n      if (e.key === 'Escape') handleSearchBoxClose();\r\n    };\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, []); \r\n\r\n  return (\r\n    <div className=\"search-box\">\r\n      <input\r\n        className=\"search-box__search-input\"\r\n        type=\"search\"\r\n        placeholder=\"Search by name\"\r\n        onChange={handleChange}\r\n        ref={searchInput}\r\n        autoFocus\r\n      />\r\n      <button\r\n        className=\"search-box__close-btn\"\r\n        aria-label=\"Search\"\r\n        onClick={handleSearchBoxClose}\r\n      >\r\n        <i className=\"far fa-times-circle\"></i>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchBox;\r\n","function testDateWithCommonFormat(date) {\r\n  const regex = /(\\d\\d)(\\.|-|\\/)(\\d\\d)(\\.|-|\\/)(\\d{4})/;\r\n  const result = regex.test(date);\r\n  return { result, regex };\r\n}\r\n\r\nfunction testDateWithUncommonFormat(date) {\r\n  const regex = /(\\d{4})(\\.|-|\\/)(\\d\\d)(\\.|-|\\/)(\\d\\d)/;\r\n  const result = regex.test(date);\r\n  return { result, regex };\r\n}\r\n\r\nexport { testDateWithCommonFormat, testDateWithUncommonFormat };\r\n","function reformatDateSeperator(date) {\r\n  return date.replace(/(\\.|-|\\/)/g, '.');\r\n}\r\n\r\nexport default reformatDateSeperator;\r\n","import {\r\n  testDateWithCommonFormat,\r\n  testDateWithUncommonFormat,\r\n} from './dateFormatValidations';\r\nimport reformatDateSeperator from './reformatDate';\r\n\r\nfunction sortingLogic(args) {\r\n  const {\r\n    peopleList,\r\n    dispatch,\r\n    nextSort,\r\n    setPeopleList,\r\n    showFavourites,\r\n  } = args;\r\n  const people = peopleList;\r\n  if (nextSort === 'sortByAge') {\r\n    sortByAge(people, dispatch, setPeopleList, showFavourites);\r\n  } else if (nextSort === 'sortByMonth') {\r\n    sortByMonth(people, dispatch, setPeopleList, showFavourites);\r\n  } else if (nextSort === 'sortByName') {\r\n    sortByName(people, dispatch, setPeopleList, showFavourites);\r\n  }\r\n}\r\n\r\nfunction sortByAge(oldPeople, dispatch, setPeopleList, showFavourites) {\r\n  const sortedPeople = oldPeople.sort((prev, cur) => {\r\n    let newPrevBirthday = prev.birthday.slice();\r\n    let newCurBirthday = cur.birthday.slice();\r\n    [newPrevBirthday, newCurBirthday] = validateAndReformatDate(\r\n      newPrevBirthday,\r\n      newCurBirthday\r\n    );\r\n    const [prevDay, prevMonth, prevYear] = newPrevBirthday.split('.');\r\n    const [curDay, curMonth, curYear] = newCurBirthday.split('.');\r\n    const prevDateInMs = new Date(prevYear, prevMonth, prevDay).getTime();\r\n    const curDateInMs = new Date(curYear, curMonth, curDay).getTime();\r\n    return prevDateInMs - curDateInMs;\r\n  });\r\n  if (showFavourites) {\r\n    const favouritePeople = sortedPeople.filter(\r\n      (person) => person.inFavourites\r\n    );\r\n    setPeopleList(favouritePeople);\r\n  } else {\r\n    setPeopleList(sortedPeople);\r\n  }\r\n  dispatch({ type: 'SORT_PEOPLE_BY_AGE' });\r\n}\r\n\r\nfunction sortByMonth(oldPeople, dispatch, setPeopleList, showFavourites) {\r\n  const sortedPeople = oldPeople.sort((prev, cur) => {\r\n    let newPrevBirthday = prev.birthday.slice();\r\n    let newCurBirthday = cur.birthday.slice();\r\n    [newPrevBirthday, newCurBirthday] = validateAndReformatDate(\r\n      newPrevBirthday,\r\n      newCurBirthday\r\n    );\r\n    const [prevDay, prevMonth] = newPrevBirthday.split('.');\r\n    const [curDay, curMonth] = newCurBirthday.split('.');\r\n    const prevDatePoint = +prevDay + +prevMonth * 100;\r\n    const curDatePoint = +curDay + +curMonth * 100;\r\n    return curDatePoint - prevDatePoint;\r\n  });\r\n  if (showFavourites) {\r\n    const favouritePeople = sortedPeople.filter(\r\n      (person) => person.inFavourites\r\n    );\r\n    setPeopleList(favouritePeople);\r\n  } else {\r\n    setPeopleList(sortedPeople);\r\n  }\r\n  dispatch({ type: 'SORT_PEOPLE_BY_MONTH' });\r\n}\r\n\r\nfunction sortByName(oldPeople, dispatch, setPeopleList, showFavourites) {\r\n  const sortedPeople = oldPeople.sort((prev, cur) => {\r\n    const [prevName] = prev.name.toLowerCase();\r\n    const [curName] = cur.name.toLowerCase();\r\n    return prevName.charCodeAt(0) - curName.charCodeAt(0);\r\n  });\r\n  if (showFavourites) {\r\n    const favouritePeople = sortedPeople.filter(\r\n      (person) => person.inFavourites\r\n    );\r\n    setPeopleList(favouritePeople);\r\n  } else {\r\n    setPeopleList(sortedPeople);\r\n  }\r\n  dispatch({ type: 'SORT_PEOPLE_BY_NAME' });\r\n}\r\n\r\n// Validates the date input value, and reformats the value, if it can be reformatted.\r\nfunction validateAndReformatDate(newPrevBirthday, newCurBirthday) {\r\n  const { regex } = testDateWithUncommonFormat(newPrevBirthday);\r\n\r\n  newPrevBirthday = testDateWithCommonFormat(newPrevBirthday).result\r\n    ? newPrevBirthday\r\n    : newPrevBirthday.replace(regex, '$5.$3.$1');\r\n\r\n  newCurBirthday = testDateWithCommonFormat(newCurBirthday).result\r\n    ? newCurBirthday\r\n    : newCurBirthday.replace(regex, '$5.$3.$1');\r\n\r\n  if (/-|\\//.test(newPrevBirthday)) {\r\n    newPrevBirthday = reformatDateSeperator(newPrevBirthday);\r\n  }\r\n  if (/-|\\//.test(newCurBirthday)) {\r\n    newCurBirthday = reformatDateSeperator(newCurBirthday);\r\n  }\r\n  return [newPrevBirthday, newCurBirthday];\r\n}\r\n\r\nexport default sortingLogic;\r\n","import React, { useContext } from 'react';\r\nimport { AppContext } from '../../context/AppContext/AppContext';\r\nimport PeopleListContext from '../../context/PeopleListContext/PeopleListContext';\r\nimport sortingLogic from '../../helpers/sortingLogic';\r\nimport './SortingSelectbox.scss';\r\nfunction SortingSelectbox() {\r\n  const { dispatch, favState, sortingState } = useContext(AppContext);\r\n  const [peopleList, setPeopleList] = useContext(PeopleListContext);\r\n  const [showFavourites] = favState;\r\n  const [sortState, setSortState] = sortingState;\r\n\r\n  const handleChange = (e) => {\r\n    const value = e.target.value;\r\n    const nextSort = reformatValue(value);\r\n    const args = {\r\n      peopleList,\r\n      setPeopleList,\r\n      nextSort,\r\n      showFavourites,\r\n      dispatch,\r\n    };\r\n    sortingLogic(args);\r\n    setSortState(nextSort);\r\n  };\r\n\r\n  const reformatValue = (value) => {\r\n    switch (value) {\r\n      case 'sort-by-name':\r\n        return 'sortByName';\r\n      case 'sort-by-age':\r\n        return 'sortByAge';\r\n      case 'sort-by-month':\r\n        return 'sortByMonth';\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <label>\r\n      <select\r\n        className=\"sorting-selectbox\"\r\n        aria-selected\r\n        role=\"option\"\r\n        onChange={handleChange}\r\n        defaultValue={sortState}\r\n      >\r\n        <option\r\n          id=\"test\"\r\n          value=\"sort-by-name\"\r\n          className=\"sorting-selectbox__option\"\r\n        >\r\n          Sort by name\r\n        </option>\r\n        <option value=\"sort-by-age\" className=\"sorting-selectbox__option\">\r\n          Sort by age\r\n        </option>\r\n        <option value=\"sort-by-month\" className=\"sorting-selectbox__option\">\r\n          Sort by month\r\n        </option>\r\n      </select>\r\n    </label>\r\n  );\r\n}\r\n\r\nexport default SortingSelectbox;\r\n","import { createContext } from 'react';\r\nconst ScreenContext = createContext(null);\r\nexport default ScreenContext;\r\n\r\n\r\n","function matchMinMedia(size) {\r\n  const mql = window.matchMedia(`(min-width: ${size}px)`);\r\n  return mql.matches;\r\n}\r\n\r\nexport default matchMinMedia;\r\n","import { useContext, useEffect, useState } from 'react';\r\nimport './AppHead.scss';\r\nimport SearchBox from '../SearchBox/SearchBox';\r\nimport { AppContext } from '../../context/AppContext/AppContext';\r\nimport SortingSelectbox from '../SortingSelectbox/SortingSelectbox';\r\nimport ScreenContext from '../../context/ScreenContext/ScreenContext';\r\nimport matchMinMedia from '../../helpers/matchMinMedia';\r\nfunction AppHead() {\r\n  const { favState } = useContext(AppContext);\r\n  const [showFavourites, setShowFavourites] = favState;\r\n  const [showSearchBox, setShowSearchBox] = useState(false);\r\n  const [isLargeScreen, setIsLargeScreen] = useContext(ScreenContext);\r\n\r\n  useEffect(() => {\r\n    if (matchMinMedia(769)) setIsLargeScreen(() => true);\r\n    else setIsLargeScreen(() => false);\r\n  }, [setIsLargeScreen]);\r\n  return (\r\n    <header className=\"app-head\">\r\n      {(isLargeScreen || !showSearchBox) && (\r\n        <h1 className=\"app-head__logo\">BirthdayReminder</h1>\r\n      )}\r\n\r\n      <nav className=\"app-head-nav\">\r\n        {(showSearchBox && (\r\n          <SearchBox setShowSearchBox={setShowSearchBox} />\r\n        )) || (\r\n          <>\r\n            <SortingSelectbox />\r\n            <button\r\n              className=\"app-head-nav__search-btn\"\r\n              aria-label=\"Search\"\r\n              onClick={() => setShowSearchBox(!showSearchBox)}\r\n            >\r\n              <i className=\"fas fa-search app-head-nav__icon\"></i>\r\n            </button>\r\n          </>\r\n        )}\r\n\r\n        <button\r\n          className=\"app-head-nav__fav-btn\"\r\n          onClick={() => !setShowFavourites(!showFavourites)}\r\n          style={{\r\n            color: showFavourites ? ' #dcd6f7' : '#c9c2e8',\r\n          }}\r\n          aria-label=\"Favourites\"\r\n        >\r\n          <i className=\"fa fa-star app-head-nav__icon\" aria-hidden=\"true\"></i>\r\n        </button>\r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default AppHead;\r\n","function createFileURL(file) {\r\n  if (file instanceof File || file instanceof Blob) {\r\n    const url = URL.createObjectURL(file);\r\n    return url;\r\n  } else if (\r\n    typeof file === 'string' &&\r\n    (file.includes('.png') || file.includes('.jpeg') || file.includes('.jpg'))\r\n  )\r\n    return file;\r\n  throw Error(\r\n    'Input must be a File, String (includes .png, .jpeg or .jpg), or Blob object.'\r\n  );\r\n}\r\n\r\nexport default createFileURL;\r\n","function findPersonByID(people, id) {\r\n  return people.find((person) => person.id === id);\r\n}\r\n\r\nexport default findPersonByID;\r\n","import { openDB } from 'idb';\r\nasync function accesDB(database, version) {\r\n  const myDB = await openDB(database, version, {\r\n    upgrade(database) {\r\n      database.createObjectStore('people', { keyPath: 'id' });\r\n    },\r\n  });\r\n  \r\n  return myDB;\r\n}\r\n\r\nasync function getIDBStore(database, version, store) {\r\n  const myDB = await accesDB(database, version);\r\n  const tx = myDB.transaction(store, 'readwrite');\r\n  const myStore = tx.objectStore(store);\r\n  return myStore;\r\n}\r\n\r\nexport { accesDB, getIDBStore };\r\n","import { getIDBStore } from './indexedDBValidation';\r\nasync function putItemToIDB(item, database, version, store) {\r\n  const accessedStore = await getIDBStore(database, version, store);\r\n  await accessedStore.put(item);\r\n}\r\n\r\nasync function getDataFromIDBStore(database, version, store) {\r\n  const accessedStore = await getIDBStore(database, version, store);\r\n  const data = await accessedStore.getAll();\r\n  return data;\r\n}\r\n\r\nasync function removeDataFromIDBStore(database, version, store, key) {\r\n  const accessedStore = await getIDBStore(database, version, store);\r\n  accessedStore.delete(key);\r\n}\r\n\r\nfunction arrayBufferToBlob(buffer, type) {\r\n  return new Blob([buffer], { type: type });\r\n}\r\n\r\nfunction blobToArrayBuffer(blob) {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.addEventListener('loadend', (e) => {\r\n      resolve(reader.result);\r\n    });\r\n    reader.addEventListener('error', reject);\r\n    reader.readAsArrayBuffer(blob);\r\n  });\r\n}\r\n\r\nexport {\r\n  putItemToIDB,\r\n  getDataFromIDBStore,\r\n  removeDataFromIDBStore,\r\n  blobToArrayBuffer,\r\n  arrayBufferToBlob,\r\n};\r\n","import './PersonOptions.scss';\r\nimport { useContext, useEffect, useState } from 'react';\r\nimport { AppContext } from '../../context/AppContext/AppContext';\r\nimport findPersonByID from '../../helpers/findPersonByID';\r\nimport { putItemToIDB } from '../../utils/IndexedDB/indexedDBManagement';\r\nimport matchMinMedia from '../../helpers/matchMinMedia';\r\n\r\nfunction PersonOptions(props) {\r\n  const { currentPersonID, setCurrentPersonID, handleDeletePerson } = props;\r\n  const {\r\n    state,\r\n    dispatch,\r\n    backgroundState,\r\n    showEditPersonUIState,\r\n  } = useContext(AppContext);\r\n  const person = findPersonByID(state.people, currentPersonID);\r\n  const [, setShowBackground] = backgroundState;\r\n  const [, setShowEditPersonUI] = showEditPersonUIState;\r\n  const [favText, setFavText] = useState('');\r\n\r\n  const isPersonInFavourites = (person) => {\r\n    return person && person.inFavourites;\r\n  };\r\n\r\n  const handleEdit = (e) => {\r\n    e.stopPropagation();\r\n    setShowBackground(true);\r\n    setShowEditPersonUI(true);\r\n    setTimeout(() => setCurrentPersonID(null), 0);\r\n  };\r\n\r\n  const handleAddFavourites = () => {\r\n    const oldPeople = state.people.filter(\r\n      (person) => currentPersonID !== person.id\r\n    );\r\n    const modifiedPerson = {\r\n      ...person,\r\n      inFavourites: true,\r\n    };\r\n\r\n    dispatch({\r\n      type: 'ADD_FAVOURITE',\r\n      payload: {\r\n        people: [...oldPeople, modifiedPerson],\r\n        name: modifiedPerson.name,\r\n      },\r\n    });\r\n    try {\r\n      putItemToIDB(modifiedPerson, 'userDatabase', '1', 'people');\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n    setCurrentPersonID(null);\r\n  };\r\n\r\n  const handleRemoveFavourites = () => {\r\n    const oldPeople = state.people.filter(\r\n      (person) => person.id !== currentPersonID\r\n    );\r\n    const modifiedPerson = {\r\n      ...person,\r\n      inFavourites: false,\r\n    };\r\n    dispatch({\r\n      type: 'REMOVE_FAVOURITE',\r\n      payload: {\r\n        people: [...oldPeople, modifiedPerson],\r\n        name: modifiedPerson.name,\r\n      },\r\n    });\r\n    setCurrentPersonID(null);\r\n  };\r\n\r\n  const setHandlerFunction = (e) => {\r\n    e.stopPropagation();\r\n    setShowBackground(false);\r\n    return isPersonInFavourites(person)\r\n      ? handleRemoveFavourites\r\n      : handleAddFavourites;\r\n  };\r\n\r\n  const handleMouseOver = (e) => {\r\n    const dropDownBtn = document.querySelector('.person__dropdown-btn');\r\n    if (matchMinMedia(769)) {\r\n      const target = e.target.closest('div');\r\n      const handleMouseOut = (e) => {\r\n        const relatedTarget = e.relatedTarget;\r\n        if (\r\n          relatedTarget &&\r\n          !relatedTarget.classList.contains('person__dropdown-btn')\r\n        ) {\r\n          dropDownBtn.style = {};\r\n          setCurrentPersonID(null);\r\n          target.removeEventListener('mouseleave', handleMouseOut);\r\n        }\r\n      };\r\n      target.addEventListener('mouseleave', handleMouseOut);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    isPersonInFavourites(person)\r\n      ? setFavText('Remove from favourites')\r\n      : setFavText('Add to favourites');\r\n  }, [person]);\r\n\r\n  return (\r\n    <div className=\"person-options-container\" onMouseEnter={handleMouseOver}>\r\n      <p className=\"person-options-container__name\">\r\n        Person: {person && person.name}\r\n      </p>\r\n      <ul className=\"person-options-list\">\r\n        <li className=\"person-options-list__item person-options-list__item--triangled\">\r\n          <button\r\n            className=\"person-options-list__btn\"\r\n            onClick={(e) => setHandlerFunction(e)()}\r\n          >\r\n            {favText}\r\n          </button>\r\n        </li>\r\n        <li className=\"person-options-list__item person-options-list__item--edit-btn\">\r\n          <button\r\n            className=\"person-options-list__btn\"\r\n            onClick={(e) => handleEdit(e)}\r\n          >\r\n            Edit\r\n          </button>\r\n        </li>\r\n        <li className=\"person-options-list__item person-options-list__item--delete-btn\">\r\n          <button\r\n            className=\"person-options-list__btn\"\r\n            onClick={(e) => handleDeletePerson(e, currentPersonID)}\r\n          >\r\n            Delete\r\n          </button>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PersonOptions;\r\n","function getPersonAge(person) {\r\n  const regex = /(\\.|-|\\/)/;\r\n  let birthday = person.birthday\r\n    .split(regex)\r\n    .filter((item) => !regex.test(item));\r\n  if (birthday[0].length !== 4) {\r\n    birthday = birthday.reverse();\r\n  }\r\n  // Creates Date object with year, month and day values.\r\n  const date = new Date(birthday[0], birthday[1], birthday[2]);\r\n  var difference = Date.now() - date.getTime();\r\n  var age_dt = new Date(difference);\r\n  return Math.abs(age_dt.getUTCFullYear() - 1970);\r\n}\r\n\r\nexport default getPersonAge;\r\n","import './Person.scss';\r\nimport createFileURL from '../../helpers/createFileURL';\r\nimport PersonOptions from '../PersonOptions/PersonOptions';\r\nimport { arrayBufferToBlob } from '../../utils/IndexedDB/indexedDBManagement';\r\nimport { useEffect, useState } from 'react';\r\nimport getPersonAge from '../../helpers/getPersonAge';\r\nimport matchMinMedia from '../../helpers/matchMinMedia';\r\n\r\nfunction Person(props) {\r\n  const {\r\n    person,\r\n    handleDeletePerson,\r\n    currentPersonID,\r\n    setCurrentPersonID,\r\n    handleSelectPerson,\r\n  } = props;\r\n  const { id, name, birthday, picture } = person;\r\n  const [dropdownBtnStyle, setDropdownBtnStyle] = useState(null);\r\n  const [pictureURL, setPictureURL] = useState(null);\r\n  const [parentClass, setParentClass] = useState('');\r\n  const [personAge, setPersonAge] = useState(null);\r\n  const [tabindex, setTabindex] = useState(-1);\r\n\r\n  useEffect(() => {\r\n    let pictureURL = null;\r\n    try {\r\n      if (typeof picture !== 'string') {\r\n        const blob = arrayBufferToBlob(picture);\r\n        pictureURL = createFileURL(blob);\r\n      } else {\r\n        pictureURL = picture;\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n\r\n    setPictureURL(() => pictureURL);\r\n  }, [picture]);\r\n\r\n  useEffect(() => {\r\n    /*   document.q */\r\n    let parentClassName =\r\n      currentPersonID === id ? 'person person--highlighted' : 'person';\r\n    setParentClass(parentClassName);\r\n  }, [currentPersonID, id]);\r\n\r\n  useEffect(() => {\r\n    setPersonAge(getPersonAge(person));\r\n  }, [person]);\r\n\r\n  useEffect(() => {\r\n    if (!matchMinMedia(769)) setTabindex(-1);\r\n  }, []);\r\n\r\n  const handleClick = () => {\r\n    if (!matchMinMedia(769)) handleSelectPerson(id);\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter') handleSelectPerson(id);\r\n  };\r\n\r\n  const handleWindowKey = (e) => {\r\n    if (e.key === 'Tab' && !matchMinMedia(769)) {\r\n      setTabindex(1);\r\n    } else if (e.key === 'Tab' && matchMinMedia(769)) {\r\n      setTabindex(-1);\r\n    }\r\n  };\r\n\r\n  // Handles person dropdown menu.\r\n  const handleMouseEnter = (e) => {\r\n    const target = e.target.closest('button');\r\n    handleSelectPerson(id);\r\n    const style = { height: '50px', width: '30px' };\r\n    setDropdownBtnStyle(style);\r\n    const handleMouseLeave = (e) => {\r\n      const relatedTarget = e.relatedTarget;\r\n      if (\r\n        relatedTarget &&\r\n        !relatedTarget.classList.contains('person-options-list__item')\r\n      ) {\r\n        setCurrentPersonID(null);\r\n        setDropdownBtnStyle(null);\r\n        target.removeEventListener('mouseleave', handleMouseLeave);\r\n      }\r\n    };\r\n    target.addEventListener('mouseleave', handleMouseLeave);\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('keyup', handleWindowKey);\r\n    return () => {\r\n      window.removeEventListener('keyup', handleWindowKey);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <li\r\n      className={parentClass}\r\n      onKeyPress={handleKeyPress}\r\n      onClick={handleClick}\r\n      tabIndex={tabindex}\r\n    >\r\n      <button\r\n        className=\"person__dropdown-btn\"\r\n        onMouseEnter={handleMouseEnter}\r\n        style={dropdownBtnStyle}\r\n        aria-label=\"Dropdown menu\"\r\n      >\r\n        <i className=\"fa fa-ellipsis-h\" aria-hidden=\"true\"></i>\r\n      </button>\r\n      {currentPersonID === id && (\r\n        <PersonOptions\r\n          currentPersonID={currentPersonID}\r\n          setCurrentPersonID={setCurrentPersonID}\r\n          handleDeletePerson={handleDeletePerson}\r\n        />\r\n      )}\r\n      <div className=\"person-img-container\">\r\n        <img\r\n          className=\"person-img-container__img\"\r\n          src={pictureURL}\r\n          alt={name}\r\n        />\r\n      </div>\r\n      <div className=\"person-info\">\r\n        <p className=\"person-info__name\">{name}</p>\r\n        <p className=\"person-info__birthday\">{birthday}</p>\r\n      </div>\r\n      <div className=\"person-age-container\">\r\n        <p className=\"person-age-container__title\">Age:</p>\r\n        <p className=\"person-age-container__age\">{personAge}</p>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Person;\r\n","import { useContext } from 'react';\r\nimport { AppContext } from '../../context/AppContext/AppContext';\r\nimport findPersonByID from '../../helpers/findPersonByID';\r\nimport './DeletePersonDialog.scss';\r\nfunction DeletePersonDialog(props) {\r\n  const {\r\n    setShowDeletePersonDialog,\r\n    removeItem,\r\n    deletionUserID,\r\n    setCurrentPersonID,\r\n  } = props;\r\n  const { backgroundState, state } = useContext(AppContext);\r\n  const [, setShowBackground] = backgroundState;\r\n\r\n  const handleDelete = (e) => {\r\n    e.stopPropagation();\r\n    const btnText = e.target.textContent;\r\n    \r\n    if (btnText === 'Yes') {\r\n      removeItem(deletionUserID);\r\n    }\r\n\r\n    setShowDeletePersonDialog(false);\r\n    setShowBackground(false);\r\n    setCurrentPersonID(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"delete-person-dialog\">\r\n      <p className=\"delete-person-dialog__text\">\r\n        {` Are you really want to delete ${\r\n          findPersonByID(state.people, deletionUserID).name\r\n        }?`}\r\n      </p>\r\n      <div className=\"delete-person-dialog-controls\">\r\n        <button\r\n          className=\"delete-person-dialog-controls__btn\"\r\n          onClick={handleDelete}\r\n          autoFocus\r\n        >\r\n          Yes\r\n        </button>\r\n        <button\r\n          className=\"delete-person-dialog-controls__btn delete-person-dialog-controls__btn--no-margin\"\r\n          onClick={handleDelete}\r\n        >\r\n          No\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DeletePersonDialog;\r\n","export default __webpack_public_path__ + \"static/media/no-picture.2fda6558.png\";","const validatePicture = (picture) => {\r\n  try {\r\n    if (typeof picture === 'string') return true;\r\n    const pictureType = picture.type;\r\n    return (\r\n      // If user doesn't choose any picture, picture will be \"no-picture.png\" (URL as string).\r\n      pictureType === 'image/jpeg' || pictureType === 'image/png' || picture instanceof ArrayBuffer\r\n    );\r\n  } catch (err) {\r\n    console.log(err);\r\n    return false;\r\n  }\r\n};\r\n\r\nexport default validatePicture;\r\n","import { useContext, useEffect, useRef } from 'react';\r\nimport validatePicture from '../../helpers/validatePicture';\r\nimport { AppContext } from '../../context/AppContext/AppContext';\r\nimport './PictureInput.scss';\r\nfunction PictureInput({ setDidUserUploadPicture, setCurrentPicture }) {\r\n  const { dispatch } = useContext(AppContext);\r\n  const label = useRef(null);\r\n\r\n  const handleFile = (e) => {\r\n    const picture = e.target.files[0];\r\n    if (validatePicture(picture)) {\r\n      setDidUserUploadPicture(true);\r\n      setCurrentPicture(picture);\r\n    } else {\r\n      dispatch({ type: 'INVALID_FILE_TYPE' });\r\n    }\r\n  };\r\n\r\n  const onKeyDown = (e) => {\r\n    if (e.key === 'Enter') label.current.click();\r\n  };\r\n\r\n  useEffect(() => {\r\n    label.current.focus();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"picture-input-container\">\r\n      <label\r\n        htmlFor=\"picture\"\r\n        className=\"picture-input-container__label\"\r\n        tabIndex={0}\r\n        ref={label}\r\n        onKeyDown={onKeyDown}\r\n      >\r\n        <i\r\n          className=\"fas fa-camera picture-input-container__icon\"\r\n          aria-hidden={true}\r\n        ></i>\r\n      </label>\r\n      <input\r\n        id=\"picture\"\r\n        type=\"file\"\r\n        className=\"picture-input-container__picture\"\r\n        accept=\"image/png, image/jpeg\"\r\n        onChange={handleFile}\r\n        hidden={true}\r\n      ></input>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PictureInput;\r\n","import { testDateWithCommonFormat, testDateWithUncommonFormat } from './dateFormatValidations';\r\nimport { dayValidation, monthValidation, yearValidation } from './dateValueValidations';\r\nimport validatePicture from './validatePicture';\r\n\r\nconst validatePersonData = (name, date, picture) => {\r\n  if (name.length <= 0) return 'INVALID_NAME';\r\n  else if (!dateValidation(date)) return 'INVALID_DATE';\r\n  else if (!dayValidation(date)) return 'INVALID_DAY';\r\n  else if (!monthValidation(date)) return 'INVALID_MONTH';\r\n  else if (!yearValidation(date)) return 'INVALID_YEAR';\r\n  else if (!validatePicture(picture)) return 'INVALID_FILE_TYPE';\r\n  return true;\r\n};\r\n\r\nfunction dateValidation(date) {\r\n  return testDateWithCommonFormat(date).result || testDateWithUncommonFormat(date).result;\r\n}\r\n\r\n\r\nexport default validatePersonData;\r\n","import { testDateWithCommonFormat } from './dateFormatValidations';\r\n\r\nfunction dayValidation(date) {\r\n  const { result } = testDateWithCommonFormat(date);\r\n  const dayValue = result ? +date.slice(0, 2) : +date.slice(-2);\r\n  return dayValue <= 31 && dayValue > 0;\r\n}\r\n\r\nfunction monthValidation(date) {\r\n  const { result } = testDateWithCommonFormat(date);\r\n  const monthValue = result ? +date.slice(3, 5) : +date.slice(5, 7);\r\n  return monthValue <= 12 && monthValue > 0;\r\n}\r\n\r\nfunction yearValidation(date) {\r\n  const { result } = testDateWithCommonFormat(date);\r\n  const yearValue = result ? +date.slice(-4) : +date.slice(0, 4);\r\n  const currentYear = new Date().getFullYear();\r\n  return yearValue <= currentYear && yearValue > 1000;\r\n}\r\n\r\nexport { dayValidation, monthValidation, yearValidation };\r\n","import './AddPersonUIControls.scss';\r\nfunction AddPersonUIControls({ handleAddPerson }) {\r\n  return (\r\n    <div className=\"add-person-ui-controls\">\r\n      <button\r\n        className=\"add-person-ui-controls__add-btn\"\r\n        onClick={() => {\r\n          handleAddPerson();\r\n        }}\r\n      >\r\n        <i\r\n          className=\"fa fa-plus-circle add-person-ui-controls__icon\"\r\n          aria-hidden=\"true\"\r\n        ></i>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddPersonUIControls;\r\n","import './AddPersonUIInfo.scss';\r\n\r\nfunction AddPersonUIINfo(props) {\r\n  const { nameContainer, dateContainer, name, birthday } = props;\r\n\r\n  return (\r\n    <div className=\"add-person-ui-info-container\">\r\n      <input\r\n        type=\"text\"\r\n        className=\"add-person-ui-info-container__name\"\r\n        ref={nameContainer}\r\n        maxLength=\"15\"\r\n        placeholder=\"Name\"\r\n        defaultValue={name || ''}\r\n      />\r\n      <input\r\n        type=\"text\"\r\n        className=\"add-person-ui-info-container__birthday\"\r\n        ref={dateContainer}\r\n        defaultValue={birthday || ''}\r\n        maxLength=\"10\"\r\n        placeholder=\"dd/mm/yyyy\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddPersonUIINfo;\r\n","import './PersonImgContainer.scss';\r\nfunction PersonImgContainer({ createFileURL, currentPicture, nameContainer }) {\r\n  return (\r\n    <div className=\"person-img-container\">\r\n      <img\r\n        className=\"person-img-container__img\"\r\n        src={createFileURL(currentPicture)}\r\n        alt={nameContainer.current.value}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PersonImgContainer;\r\n","import { useContext, useRef, useState } from 'react';\r\nimport { AppContext } from '../../context/AppContext/AppContext';\r\nimport './AddPersonUI.scss';\r\nimport blankImg from '../../assets/no-picture.png';\r\nimport {\r\n  putItemToIDB,\r\n  blobToArrayBuffer,\r\n} from '../../utils/IndexedDB/indexedDBManagement';\r\nimport PictureInput from '../PictureInput/PictureInput';\r\nimport createFileURL from '../../helpers/createFileURL';\r\nimport validatePersonData from '../../helpers/validatePersonData';\r\nimport AddPersonUIControls from '../AddPersonUIControls/AddPersonUIControls';\r\nimport AddPersonUIINfo from '../AddPersonUIInfo/AddPersonUIInfo';\r\nimport PersonImgContainer from '../PersonImgContainer/PersonImgContainer';\r\nfunction AddPersonUI({ setShowBackground, toggleAddPersonUI }) {\r\n  const { state, dispatch } = useContext(AppContext);\r\n  const [didUserUploadPicture, setDidUserUploadPicture] = useState(false);\r\n  const [currentPicture, setCurrentPicture] = useState(null);\r\n  const nameContainer = useRef(null);\r\n  const dateContainer = useRef(null);\r\n\r\n  const handleAddPerson = async () => {\r\n    const name = nameContainer.current.value;\r\n    const date = dateContainer.current.value;\r\n    let picture = null;\r\n    try {\r\n      picture = currentPicture\r\n        ? await blobToArrayBuffer(currentPicture)\r\n        : blankImg;\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n    const validationResult = validatePersonData(name, date, picture);\r\n\r\n    switch (validationResult) {\r\n      case 'INVALID_NAME':\r\n      case 'INVALID_DATE':\r\n      case 'INVALID_DAY':\r\n      case 'INVALID_MONTH':\r\n      case 'INVALID_YEAR':\r\n      case 'INVALID_FILE_TYPE':\r\n        dispatch({ type: validationResult });\r\n        break;\r\n      default:\r\n        addPerson(name, date, picture);\r\n        setShowBackground(false);\r\n        toggleAddPersonUI();\r\n        break;\r\n    }\r\n  };\r\n\r\n  const addPerson = (name, birthday, picture) => {\r\n    name = name.charAt(0).toUpperCase() + name.slice(1);\r\n    const newPerson = createNewPerson(name, birthday, picture);\r\n    dispatch({ type: 'ADD_PERSON', payload: [...state.people, newPerson] });\r\n    try {\r\n      putItemToIDB(newPerson, 'userDatabase', '1', 'people');\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const createNewPerson = (name, birthday, picture) => {\r\n    const newPerson = {\r\n      id: new Date().getTime().toString(),\r\n      name: name,\r\n      birthday: birthday,\r\n      picture: picture,\r\n      inFavourites: false,\r\n    };\r\n    return newPerson;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <li className=\"add-person-ui\">\r\n        {didUserUploadPicture ? (\r\n          <PersonImgContainer\r\n            createFileURL={createFileURL}\r\n            currentPicture={currentPicture}\r\n            nameContainer={nameContainer}\r\n          />\r\n        ) : (\r\n          <PictureInput\r\n            setDidUserUploadPicture={setDidUserUploadPicture}\r\n            currentPicture={currentPicture}\r\n            setCurrentPicture={setCurrentPicture}\r\n          />\r\n        )}\r\n        <AddPersonUIINfo\r\n          nameContainer={nameContainer}\r\n          dateContainer={dateContainer}\r\n        />\r\n        <AddPersonUIControls handleAddPerson={handleAddPerson} />\r\n        <button\r\n          className=\"add-person-ui__close-btn\"\r\n          onClick={toggleAddPersonUI}\r\n        >\r\n          <i className=\"fas fa-times\"></i>\r\n        </button>\r\n      </li>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AddPersonUI;\r\n","import './AddPersonUILarge.scss';\r\nfunction AddPersonUILarge({ handleAddPersonUIForLargerScreen }) {\r\n  const handleClick = (e) => {\r\n    handleAddPersonUIForLargerScreen(e);\r\n  };\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.key === 'Enter') handleAddPersonUIForLargerScreen(e);\r\n  };\r\n  return (\r\n    <li\r\n      className=\"add-person-ui-large\"\r\n      tabIndex={0}\r\n      onClick={handleClick}\r\n      onKeyDown={handleKeyDown}\r\n    >\r\n      <div className=\"add-person-ui-large__icon-container\">\r\n        <i className=\"fa fa-plus add-person-ui-large__add-icon\" aria-hidden=\"true\"></i>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default AddPersonUILarge;\r\n","import './EditPersonUIControls.scss';\r\nfunction EditPersonUIControls({ handleAcceptClick }) {\r\n  return (\r\n    <div className=\"edit-person-ui-controls\">\r\n      <button\r\n        className=\"edit-person-ui-controls__accept-btn\"\r\n        onClick={(e)=>handleAcceptClick(e)}\r\n      >\r\n        <i\r\n          className=\"fas fa-check-circle edit-person-ui-controls__icon\"\r\n          aria-hidden={true}\r\n        ></i>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EditPersonUIControls;\r\n","import AddPersonUIInfo from '../AddPersonUIInfo/AddPersonUIInfo';\r\nimport EditPersonUIControls from '../EditPersonUIControls/EditPersonUIControls';\r\nimport PictureInput from '../PictureInput/PictureInput';\r\nimport { useContext, useEffect, useRef, useState } from 'react';\r\nimport { AppContext } from '../../context/AppContext/AppContext';\r\nimport findPersonByID from '../../helpers/findPersonByID';\r\nimport './EditPersonUI.scss';\r\nimport {\r\n  blobToArrayBuffer,\r\n  putItemToIDB,\r\n} from '../../utils/IndexedDB/indexedDBManagement';\r\nimport blankImg from '../../assets/no-picture.png';\r\nimport PersonImgContainer from '../PersonImgContainer/PersonImgContainer';\r\nimport createFileURL from '../../helpers/createFileURL';\r\nimport validatePersonData from '../../helpers/validatePersonData';\r\nfunction EditPersonUI(props) {\r\n  const { currentPersonID, setShowEditPersonUI, setShowBackground } = props;\r\n  const defaultState = currentPersonID;\r\n  const nameContainer = useRef(null);\r\n  const dateContainer = useRef(null);\r\n  const { state, dispatch } = useContext(AppContext);\r\n  const [currentPersonIDForEdit] = useState(defaultState);\r\n  const [currentPicture, setCurrentPicture] = useState(null);\r\n  const [didUserUploadPicture, setDidUserUploadPicture] = useState(false);\r\n  const person = findPersonByID(state.people, currentPersonIDForEdit);\r\n\r\n  const handleAcceptClick = async (e) => {\r\n    e.stopPropagation();\r\n    const newName = nameContainer.current.value;\r\n    const newBirthday = dateContainer.current.value;\r\n    const picture = didUserUploadPicture ? currentPicture : person.picture;\r\n    let editedPerson = null;\r\n    try {\r\n      editedPerson = await createEditedPerson(newName, newBirthday, picture);\r\n    } catch (err) {\r\n      // Add notification.\r\n      console.log(err);\r\n    }\r\n    if (editedPerson) {\r\n      const filteredPeople = state.people.filter(\r\n        (person) => person.id !== currentPersonIDForEdit\r\n      );\r\n\r\n      const newPeople = [...filteredPeople, editedPerson];\r\n      try {\r\n        putItemToIDB(editedPerson, 'userDatabase', '1', 'people');\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n      dispatch({\r\n        type: 'EDIT_PERSON',\r\n        payload: {\r\n          people: newPeople,\r\n          name: editedPerson.name,\r\n        },\r\n      });\r\n      setShowBackground(false);\r\n      setShowEditPersonUI(false);\r\n    } \r\n  };\r\n\r\n  const createEditedPerson = async (name, birthday, picture) => {\r\n    const editedPerson = {\r\n      ...person,\r\n      id: currentPersonIDForEdit,\r\n      name,\r\n      birthday,\r\n      picture,\r\n    };\r\n    try {\r\n      picture = currentPicture\r\n        ? await blobToArrayBuffer(currentPicture)\r\n        : blankImg;\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n    const validationResult = validatePersonData(name, birthday, picture);\r\n    switch (validationResult) {\r\n      case 'INVALID_NAME':\r\n      case 'INVALID_DATE':\r\n      case 'INVALID_DAY':\r\n      case 'INVALID_MONTH':\r\n      case 'INVALID_YEAR':\r\n      case 'INVALID_FILE_TYPE':\r\n        dispatch({ type: validationResult });\r\n        break;\r\n      default:\r\n        return editedPerson;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleKeyDown = (e) => {\r\n      if (e.key === 'Escape') setShowEditPersonUI(false);\r\n    };\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, [setShowEditPersonUI]);\r\n\r\n  return (\r\n    <div className=\"edit-person-ui\">\r\n      {didUserUploadPicture ? (\r\n        <PersonImgContainer\r\n          createFileURL={createFileURL}\r\n          currentPicture={currentPicture}\r\n          nameContainer={nameContainer}\r\n        />\r\n      ) : (\r\n        <PictureInput\r\n          setDidUserUploadPicture={setDidUserUploadPicture}\r\n          currentPicture={currentPicture}\r\n          setCurrentPicture={setCurrentPicture}\r\n        />\r\n      )}\r\n\r\n      <AddPersonUIInfo\r\n        name={person.name}\r\n        birthday={person.birthday}\r\n        currentPersonID={currentPersonID}\r\n        nameContainer={nameContainer}\r\n        dateContainer={dateContainer}\r\n      />\r\n      <EditPersonUIControls handleAcceptClick={handleAcceptClick} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EditPersonUI;\r\n","import { useContext, useEffect } from 'react';\r\nimport { AppContext } from '../../context/AppContext/AppContext';\r\nimport './Notification.scss';\r\n\r\nfunction Notification({ isTimePassed, setIsTimePassed }) {\r\n  const { state, dispatch } = useContext(AppContext);\r\n\r\n  const clearNotification = () => {\r\n    dispatch({ type: 'REMOVE_MODAL' });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isTimePassed) {\r\n      setIsTimePassed(false);\r\n      setTimeout(notificationCallback, 2500);\r\n    }\r\n  });\r\n  const notificationCallback = () => {\r\n    clearNotification();\r\n    setIsTimePassed(true);\r\n  };\r\n  return <p className=\"notification\">{state.notificationContent}</p>;\r\n}\r\n\r\nexport default Notification;\r\n","import { useContext, useState, useEffect } from 'react';\r\nimport './PeopleList.scss';\r\nimport Person from '../Person/Person';\r\nimport { AppContext } from '../../context/AppContext/AppContext';\r\nimport PeopleListContext from '../../context/PeopleListContext/PeopleListContext';\r\nimport ScreenContext from '../../context/ScreenContext/ScreenContext';\r\nimport DeletePersonDialog from '../DeletePersonDialog/DeletePersonDialog';\r\nimport { removeDataFromIDBStore } from '../../utils/IndexedDB/indexedDBManagement';\r\nimport AddPersonUI from '../AddPersonUI/AddPersonUI';\r\nimport AddPersonUILarge from '../AddPersonUILarge/AddPersonUILarge';\r\nimport EditPersonUI from '../EditPersonUI/EditPersonUI';\r\nimport Notification from '../Notification/Notification';\r\nimport filterFavouritePeople from '../../helpers/filterFavouritePeople';\r\nimport sortingLogic from '../../helpers/sortingLogic';\r\nimport matchMinMedia from '../../helpers/matchMinMedia';\r\n\r\nfunction PeopleList(props) {\r\n  const { currentPersonID, setCurrentPersonID } = props;\r\n  const [peopleList, setPeopleList] = useContext(PeopleListContext);\r\n  const [, setIsScreenLarge] = useContext(ScreenContext);\r\n  const {\r\n    state,\r\n    dispatch,\r\n    favState,\r\n    backgroundState,\r\n    showEditPersonUIState,\r\n    showAddPersonUIState,\r\n  } = useContext(AppContext);\r\n  const [showAddPersonUI, setShowAddPersonUI] = showAddPersonUIState;\r\n  const [showFavourites] = favState;\r\n  const [showBackground, setShowBackground] = backgroundState;\r\n  const [showEditPersonUI, setShowEditPersonUI] = showEditPersonUIState;\r\n  const [showDeletePersonDialog, setShowDeletePersonDialog] = useState(false);\r\n  const [deletionUserID, setDeletionUserID] = useState(null);\r\n  const [isTimePassed, setIsTimePassed] = useState(true);\r\n  const [isSorted, setIsSorted] = useState(false);\r\n\r\n  const handleDeletePerson = (e, id) => {\r\n    if (!matchMinMedia(769)) {\r\n      setCurrentPersonID(null);\r\n    }\r\n    e.stopPropagation();\r\n    setShowDeletePersonDialog(true);\r\n    setDeletionUserID(id);\r\n  };\r\n  const toggleAddPersonUI = () => {\r\n    setShowAddPersonUI(() => !showAddPersonUI);\r\n  };\r\n\r\n  const removeItem = (id) => {\r\n    const oldPeople = state.people;\r\n    let newPeople = oldPeople.filter((person) => person.id !== id);\r\n    try {\r\n      removeDataFromIDBStore('userDatabase', '1', 'people', id);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n    dispatch({\r\n      type: 'REMOVE_PERSON',\r\n      payload: { people: newPeople },\r\n    });\r\n\r\n    setShowBackground(false);\r\n  };\r\n\r\n  const handleSelectPerson = (id) => {\r\n    if (!matchMinMedia(769)) {\r\n      setShowBackground(true);\r\n    }\r\n\r\n    if (currentPersonID !== id) {\r\n      setCurrentPersonID(id);\r\n    }\r\n  };\r\n\r\n  const handleAddPersonUIForLargerScreen = () => {\r\n    setShowAddPersonUI(!showAddPersonUI);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleKeyUp = (e) => {\r\n      if (e.key === 'Escape') {\r\n        setCurrentPersonID(null);\r\n        setShowBackground(false);\r\n        setShowAddPersonUI(false);\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keyup', handleKeyUp);\r\n    return () => {\r\n      window.removeEventListener('keyup', handleKeyUp);\r\n    };\r\n  }, [setCurrentPersonID, setShowBackground, setShowAddPersonUI]);\r\n\r\n  useEffect(() => {\r\n    const people = showFavourites\r\n      ? filterFavouritePeople(state.people)\r\n      : state.people;\r\n    setPeopleList(people);\r\n  }, [showFavourites, state.people, setPeopleList]);\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      // Sets several states according to the screen size, and active UI's (media queries weren't enough).\r\n      const screenResult = matchMinMedia(769);\r\n      if (screenResult) {\r\n        setIsScreenLarge(() => true);\r\n      } else {\r\n        setIsScreenLarge(() => false);\r\n      }\r\n      if (\r\n        screenResult &&\r\n        (showAddPersonUI || currentPersonID || showDeletePersonDialog) &&\r\n        showBackground\r\n      ) {\r\n        setShowBackground(false);\r\n      } else if (\r\n        !screenResult &&\r\n        (showAddPersonUI || currentPersonID || showDeletePersonDialog) &&\r\n        !showBackground\r\n      ) {\r\n        setShowBackground(true);\r\n      }\r\n    };\r\n    window.addEventListener('resize', handleResize);\r\n    return () => {\r\n      window.removeEventListener('resize', handleResize);\r\n    };\r\n  }, [\r\n    showBackground,\r\n    setShowBackground,\r\n    showAddPersonUI,\r\n    currentPersonID,\r\n    showDeletePersonDialog,\r\n    setIsScreenLarge,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (peopleList.length && !isSorted) {\r\n      const nextSort = 'sortByName';\r\n      const args = {\r\n        peopleList,\r\n        setPeopleList,\r\n        nextSort,\r\n        showFavourites,\r\n        dispatch,\r\n      };\r\n      sortingLogic(args);\r\n      setIsSorted(true);\r\n    }\r\n  }, [dispatch, peopleList, setPeopleList, isSorted, showFavourites]);\r\n  return (\r\n    <>\r\n      {state.isNotificationOpen && (\r\n        <Notification\r\n          isTimePassed={isTimePassed}\r\n          setIsTimePassed={setIsTimePassed}\r\n        />\r\n      )}\r\n      {showDeletePersonDialog && (\r\n        <DeletePersonDialog\r\n          setShowDeletePersonDialog={setShowDeletePersonDialog}\r\n          removeItem={removeItem}\r\n          deletionUserID={deletionUserID}\r\n          setCurrentPersonID={setCurrentPersonID}\r\n        />\r\n      )}\r\n      <ul className=\"people-list\">\r\n        {peopleList &&\r\n          peopleList.map((person) => (\r\n            <Person\r\n              key={person.id}\r\n              person={person}\r\n              handleDeletePerson={handleDeletePerson}\r\n              currentPersonID={currentPersonID}\r\n              setCurrentPersonID={setCurrentPersonID}\r\n              handleSelectPerson={handleSelectPerson}\r\n              setShowBackground={setShowBackground}\r\n            />\r\n          ))}\r\n        {(showAddPersonUI && (\r\n          <AddPersonUI\r\n            setShowBackground={setShowBackground}\r\n            toggleAddPersonUI={toggleAddPersonUI}\r\n          />\r\n        )) || (\r\n          <AddPersonUILarge\r\n            handleAddPersonUIForLargerScreen={handleAddPersonUIForLargerScreen}\r\n          />\r\n        )}\r\n      </ul>\r\n      {showEditPersonUI && (\r\n        <EditPersonUI\r\n          currentPersonID={currentPersonID}\r\n          setShowEditPersonUI={setShowEditPersonUI}\r\n          setShowBackground={setShowBackground}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PeopleList;\r\n","import { useContext } from 'react';\r\nimport { AppContext } from '../../context/AppContext/AppContext';\r\nimport PeopleList from '../PeopleList/PeopleList';\r\nimport './HomeMain.scss';\r\n\r\nfunction HomeMain(props) {\r\n  const { setShowUI } = props;\r\n  const { currentPersonID, setCurrentPersonID } = useContext(AppContext);\r\n\r\n  return (\r\n    <main className=\"home-main\">\r\n      <PeopleList\r\n        currentPersonID={currentPersonID}\r\n        setCurrentPersonID={setCurrentPersonID}\r\n        setShowUI={setShowUI}\r\n      />\r\n    </main>\r\n  );\r\n}\r\nexport default HomeMain;\r\n","function handleSorting(sortState) {\r\n  switch (sortState) {\r\n    case 'sortByName':\r\n      return 'sortByAge';\r\n    case 'sortByAge':\r\n      return 'sortByMonth';\r\n    case 'sortByMonth':\r\n      return 'sortByName';\r\n    default:\r\n      break;\r\n  }\r\n}\r\n\r\nexport default handleSorting;\r\n","import { useContext } from 'react';\r\nimport './MobileNav.scss';\r\nimport { AppContext } from '../../context/AppContext/AppContext';\r\nimport sortingLogic from '../../helpers/sortingLogic';\r\nimport PeopleListContext from '../../context/PeopleListContext/PeopleListContext';\r\nimport handleSorting from '../../helpers/handleSorting';\r\n\r\nfunction MobileNav() {\r\n  const {\r\n    dispatch,\r\n    favState,\r\n    showAddPersonUIState,\r\n    backgroundState,\r\n    sortingState,\r\n  } = useContext(AppContext);\r\n  const [showAddPersonUI, setShowAddPersonUI] = showAddPersonUIState;\r\n  const [showFavourites, setShowFavourites] = favState;\r\n  const [showBackground, setShowBackground] = backgroundState;\r\n  const [sortState, setSortState] = sortingState;\r\n  const [peopleList, setPeopleList] = useContext(PeopleListContext);\r\n\r\n  const toggleAddPersonUI = () => {\r\n    setShowBackground(!showBackground);\r\n    setShowAddPersonUI(!showAddPersonUI);\r\n  };\r\n  const handleSortingClick = () => {\r\n    const nextSort = handleSorting(sortState);\r\n    const args = {\r\n      peopleList,\r\n      setPeopleList,\r\n      nextSort,\r\n      showFavourites,\r\n      dispatch,\r\n    };\r\n    sortingLogic(args);\r\n    setSortState(nextSort);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <nav className=\"mobile-nav\">\r\n        <button\r\n          className=\"mobile-nav__btn mobile-nav__btn--side\"\r\n          aria-label=\"Sort people list\"\r\n          onClick={handleSortingClick}\r\n        >\r\n          <i className=\"fas fa-sort-amount-down\"></i>\r\n        </button>\r\n        <button\r\n          className=\"mobile-nav__btn\"\r\n          aria-label=\"Add person\"\r\n          onClick={toggleAddPersonUI}\r\n        >\r\n          <i className=\"fas fa-plus\"></i>\r\n        </button>\r\n\r\n        <button\r\n          className=\"mobile-nav__btn mobile-nav__btn--side\"\r\n          aria-label=\"Toggle favourites\"\r\n          onClick={() => setShowFavourites(!showFavourites)}\r\n        >\r\n          <i className=\"fas fa-star\"></i>\r\n        </button>\r\n      </nav>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MobileNav;\r\n","import './DarkBackground.scss';\r\nimport { AppContext } from '../../context/AppContext/AppContext';\r\nimport { useEffect, useContext } from 'react';\r\nfunction DarkBackground() {\r\n  const {\r\n    showAddPersonUIState,\r\n    showEditPersonUIState,\r\n    backgroundState,\r\n    currentPersonID,\r\n    setCurrentPersonID,\r\n  } = useContext(AppContext);\r\n  const [showAddPersonUI, setShowAddPersonUI] = showAddPersonUIState;\r\n  const [showEditPersonUI, setShowEditPersonUI] = showEditPersonUIState;\r\n  const [showBackground, setShowBackground] = backgroundState;\r\n\r\n  const handleBackground = (e) => {\r\n    if (currentPersonID || showAddPersonUI || showEditPersonUI) {\r\n      e.stopPropagation();\r\n      setShowBackground(false);\r\n      setShowEditPersonUI(false);\r\n      setShowAddPersonUI(false);\r\n      setCurrentPersonID(null);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    showBackground\r\n      ? (document.body.style.overflow = 'hidden')\r\n      : (document.body.style.overflow = 'initial');\r\n  }, [showBackground]);\r\n\r\n  const className = showBackground\r\n    ? 'dark-background dark-background--visible'\r\n    : 'dark-background';\r\n    \r\n  return <div className={className} onClick={handleBackground}></div>;\r\n}\r\n\r\nexport default DarkBackground;\r\n","import React from 'react';\r\nimport PeopleListContext from \"../context/PeopleListContext/PeopleListContext\";\r\nfunction PeopleListProvider(props) {\r\n  const [peopleList, setPeopleList] = React.useState([]);\r\n  return <PeopleListContext.Provider value={[peopleList, setPeopleList]} {...props} />;\r\n}\r\n\r\nexport default PeopleListProvider;\r\n","import { getDataFromIDBStore } from './IndexedDB/indexedDBManagement';\r\n\r\nasync function getData(database, version, store) {\r\n  try {\r\n    const data = await getDataFromIDBStore(database, version, store);\r\n    return data;\r\n  } catch (err) {\r\n    console.log(err);\r\n    return [];\r\n  }\r\n}\r\n\r\nexport default getData;\r\n","import getData from './data';\r\n\r\nasync function defaultState() {\r\n  const people = await getData('userDatabase', '1', 'people');\r\n  const defaultState = {\r\n    people,\r\n    isNotificationOpen: false,\r\n    notificationContext: '',\r\n  };\r\n  return defaultState;\r\n}\r\n\r\nexport default defaultState;\r\n","export const reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'ADD_PERSON':\r\n      return {\r\n        ...state,\r\n        people: action.payload,\r\n        isNotificationOpen: true,\r\n        notificationContent: 'Person has been added.',\r\n      };\r\n\r\n    case 'REMOVE_PERSON': {\r\n      return {\r\n        ...state,\r\n        people: action.payload.people,\r\n        isNotificationOpen: true,\r\n        notificationContent: 'Person has been deleted.',\r\n      };\r\n    }\r\n    case 'REMOVE_MODAL': {\r\n      return {\r\n        ...state,\r\n        isNotificationOpen: false,\r\n        notificationContent: '',\r\n      };\r\n    }\r\n    case 'INVALID_NAME': {\r\n      return {\r\n        ...state,\r\n        isNotificationOpen: true,\r\n        notificationContent: 'Name input must include at least one character.',\r\n      };\r\n    }\r\n    case 'INVALID_DATE': {\r\n      return {\r\n        ...state,\r\n        isNotificationOpen: true,\r\n        notificationContent:\r\n          'Please provide correct date format, (yyyy/mm/dd), or (dd/mm/yyyy) with any date seperators.',\r\n      };\r\n    }\r\n\r\n    case 'INVALID_DAY': {\r\n      return {\r\n        ...state,\r\n        isNotificationOpen: true,\r\n        notificationContent: 'Day value must be between 1 and 31 (inclusive).',\r\n      };\r\n    }\r\n    case 'INVALID_MONTH': {\r\n      return {\r\n        ...state,\r\n        isNotificationOpen: true,\r\n        notificationContent:\r\n          'Month value must be between 1 and 12 (inclusive).',\r\n      };\r\n    }\r\n    case 'INVALID_YEAR': {\r\n      return {\r\n        ...state,\r\n        isNotificationOpen: true,\r\n        notificationContent:\r\n          'Year value must be between 1000 and current year (inclusive).',\r\n      };\r\n    }\r\n    case 'SORT_PEOPLE_BY_AGE': {\r\n      return {\r\n        ...state,\r\n        isNotificationOpen: true,\r\n        notificationContent: 'SORT BY AGE',\r\n      };\r\n    }\r\n    case 'SORT_PEOPLE_BY_MONTH': {\r\n      return {\r\n        ...state,\r\n        isNotificationOpen: true,\r\n        notificationContent: 'SORT BY MONTH',\r\n      };\r\n    }\r\n    case 'SORT_PEOPLE_BY_NAME': {\r\n      return {\r\n        ...state,\r\n        isNotificationOpen: true,\r\n        notificationContent: 'SORT BY NAME',\r\n      };\r\n    }\r\n    case 'FILTER_PEOPLE_BY_NAME': {\r\n      return {\r\n        ...state,\r\n        people: action.payload,\r\n        isNotificationOpen: false,\r\n        notificationContent: '',\r\n      };\r\n    }\r\n    case 'INITIAL_LOAD': {\r\n      return {\r\n        ...state,\r\n        people: action.payload.people,\r\n        isNotificationOpen: false,\r\n        notificationContent: '',\r\n      };\r\n    }\r\n    case 'INVALID_FILE_TYPE': {\r\n      return {\r\n        ...state,\r\n        isNotificationOpen: true,\r\n        notificationContent:\r\n          'Invalid file type. Please provide \".jpeg\", or \".png\" file for the picture.',\r\n      };\r\n    }\r\n    case 'ADD_FAVOURITE': {\r\n      const personName = action.payload.name;\r\n      return {\r\n        ...state,\r\n        isNotificationOpen: true,\r\n        notificationContent: `${personName} has been added to your favorites.`,\r\n        people: action.payload.people,\r\n      };\r\n    }\r\n    case 'REMOVE_FAVOURITE': {\r\n      const personName = action.payload.name;\r\n      return {\r\n        ...state,\r\n        isNotificationOpen: true,\r\n        notificationContent: `${personName} has been removed from your favorites.`,\r\n        people: action.payload.people,\r\n      };\r\n    }\r\n    case 'EDIT_PERSON': {\r\n      const personName = action.payload.name;\r\n      return {\r\n        ...state,\r\n        isNotificationOpen: true,\r\n        notificationContent: `${personName}'s information has been changed.`,\r\n        people: action.payload.people,\r\n      };\r\n    }\r\n    default: {\r\n      throw new Error(`Unhandled action type: ${action.type}`);\r\n    }\r\n  }\r\n};\r\n","import { useEffect, useReducer, useState } from 'react';\r\nimport { AppContext } from '../context/AppContext/AppContext';\r\nimport defaultState from '../utils/defaultState';\r\nimport { reducer } from '../utils/reducer';\r\n\r\nfunction AppProvider(props) {\r\n  // Default state.\r\n  const def = {\r\n    people: [],\r\n    isNotificationOpen: false,\r\n    notificationContent: '',\r\n  };\r\n  const [state, dispatch] = useReducer(reducer, def);\r\n  const [currentPersonID, setCurrentPersonID] = useState(null);\r\n  const showAddPersonUIState = useState(false);\r\n  const showEditPersonUIState = useState(false);\r\n  const backgroundState = useState(false);\r\n  const favState = useState(false);\r\n  const sortingState = useState('sortByName');\r\n  \r\n  const getInitialData = async () => {\r\n    try {\r\n      const data = await defaultState();\r\n      const { people } = data;\r\n      dispatch({\r\n        type: 'INITIAL_LOAD',\r\n        payload: { people: people },\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getInitialData();\r\n  }, []);\r\n  return (\r\n    <AppContext.Provider\r\n      value={{\r\n        state,\r\n        dispatch,\r\n        favState,\r\n        backgroundState,\r\n        showAddPersonUIState,\r\n        showEditPersonUIState,\r\n        currentPersonID,\r\n        setCurrentPersonID,\r\n        sortingState,\r\n      }}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport default AppProvider;\r\n","import React, { useState } from 'react';\r\nimport ScreenContext from \"../context/ScreenContext/ScreenContext\"\r\n\r\nfunction ScreenProvider(props) {\r\n  const [isScreenLarge, setIsScreenLarge] = useState(false);\r\n\r\n  return (\r\n    <ScreenContext.Provider\r\n      value={[isScreenLarge, setIsScreenLarge]}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport default ScreenProvider;\r\n\r\n","import AppHead from '../AppHead/AppHead';\r\nimport HomeMain from '../HomeMain/HomeMain';\r\nimport MobileNav from '../MobileNav/MobileNav';\r\nimport DarkBackground from '../DarkBackground/DarkBackground';\r\nimport PeopleListProvider from '../../providers/PeopleListProvider';\r\nimport AppProvider from '../../providers/AppProvider';\r\nimport ScreenProvider from '../../providers/ScreenProvider';\r\nfunction App() {\r\n  return (\r\n    <>\r\n      <AppProvider>\r\n        <DarkBackground />\r\n        <PeopleListProvider>\r\n          <ScreenProvider>\r\n            <AppHead />\r\n            <HomeMain />\r\n          </ScreenProvider>\r\n          <MobileNav />\r\n        </PeopleListProvider>\r\n      </AppProvider>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import ReactDOM from 'react-dom';\r\nimport App from './components/App/App';\r\nimport \"./index.scss\";\r\nimport 'normalize.css'; \r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}